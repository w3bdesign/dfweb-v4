This file is a merged representation of a subset of the codebase, containing files not matching ignore patterns, combined into a single document by Repomix.
The content has been processed where empty lines have been removed, line numbers have been added.

# File Summary

## Purpose
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

## File Format
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  a. A header with the file path (## File: path/to/file)
  b. The full contents of the file in a code block

## Usage Guidelines
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
- Pay special attention to the Repository Description. These contain important context and guidelines specific to this project.

## Notes
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching these patterns are excluded: DOCS/repository_context.txt, .env*, *.log, dist, build, coverage
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Empty lines have been removed from all files
- Line numbers have been added to the beginning of each line
- Files are sorted by Git change count (files with more changes are at the bottom)

# User Provided Header
This file is automatically generated by Repomix to provide AI tools with up-to-date repository context. Last updated by GitHub Actions.

# Directory Structure
```
.circleci/
  config.yml
.github/
  ISSUE_TEMPLATE/
    bug_report.md
  workflows/
    budget.json
    codeql.yml
    cypress.yml
    lighthouse.yml
    pa11y.yml
    playwright.yml
    repomix.yml
    snyk-scan.yml
  copilot-instructions.md
.ladle/
  components.tsx
.zap/
  rules.tsv
commit/
  commit_analyzer.py
DOCS/
  EXPLANATION.md
  README.md
  TEST_STRATEGY.md
  TODO.md
public/
  favicon.svg
  logo.svg
  notfound.svg
  robots.txt
src/
  __mocks__/
    categories.json
    framer-client.ts
    hero.json
    links.json
    motion.ts
    next-navigation.ts
    next-sanity.ts
    pagecontent.json
    process.ts
    projects.json
    react-dom.ts
    sanity-client.ts
    utils.ts
  __tests__/
    Animations/
      BounceInScroll.test.tsx
      FadeIn.test.tsx
      FadeInScroll.test.tsx
      Grow.test.tsx
      Matrix.renderer.test.tsx
      Matrix.test.tsx
      Matrix.utils.test.ts
      MatrixCursor.test.tsx
      RotatingLoader.test.tsx
      TestAnimation.test.tsx
    CV/
      CVContent.test.tsx
      EducationTabContent.test.tsx
      ExperienceTabContent.test.tsx
    ErrorBoundary/
      ErrorBoundary.test.tsx
      ErrorFallback.test.tsx
    Index/
      fixtures/
        hero.json
      Hero.test.tsx
      Icons.test.tsx
      IndexContent.test.tsx
      Section.test.tsx
    Kontakt/
      ContactForm.test.tsx
    Layout/
      Footer.test.tsx
      Header.test.tsx
      MobileMenu.test.tsx
    Prosjekter/
      actions.test.ts
      error.test.tsx
      loading.test.tsx
      page.test.tsx
      ProsjektCard.test.tsx
    UI/
      Button.test.tsx
      ContentLoader.test.tsx
      InputField.test.tsx
      Pill.test.tsx
      Skeleton.test.tsx
      SkipLink.test.tsx
      Tabs.test.tsx
  app/
    api/
      csrf-token/
        route.ts
      form/
        route.ts
      siteMapGenerator.ts
    cv/
      page.tsx
    kontakt/
      page.tsx
    prosjekter/
      actions.ts
      error.tsx
      loading.tsx
      page.tsx
    cursor.css
    glitch.css
    globals.css
    layout.tsx
    not-found.tsx
    page.tsx
    RootLayout.tsx
  components/
    Animations/
      types/
        Animations.types.ts
      BounceInScroll.component.tsx
      FadeDown.component.tsx
      FadeIn.component.tsx
      FadeInScroll.component.tsx
      FadeUp.component.tsx
      Grow.component.tsx
      Matrix.component.tsx
      Matrix.renderer.ts
      Matrix.utils.ts
      MatrixCursor.component.tsx
      PageTransition.component.tsx
      RotatingLoader.component.tsx
    CV/
      CVContent.component.tsx
      EducationTabContent.tsx
      ExperienceTabContent.tsx
      GenericCVSectionContent.tsx
      QualificationsTabContent.tsx
      VolunteerWorkTabContent.tsx
    ErrorBoundary/
      ErrorBoundary.tsx
      ErrorFallback.component.tsx
      ErrorFallbackWrapper.component.tsx
      Fallback.component.tsx
    Index/
      Hero.component.tsx
      Icons.component.tsx
      IndexContent.component.tsx
      MobileBackground.component.tsx
      Section.component.tsx
    Kontakt/
      config/
        formConfig.ts
      ContactForm.component.tsx
    Layout/
      DesktopNavigation.component.tsx
      Footer.component.tsx
      Hamburger.component.tsx
      Header.component.tsx
      MobileMenu.component.tsx
      NavigationLink.component.tsx
    Prosjekter/
      ProsjektCard.component.tsx
    UI/
      Button.component.tsx
      ContentLoader.component.tsx
      InputField.component.tsx
      PageHeader.component.tsx
      Pill.component.tsx
      Skeleton.component.tsx
      SkipLink.component.tsx
      Tabs.component.tsx
  config/
    env.ts
  e2e/
    cypress/
      component/
        Button.cy.tsx
        Hero.cy.tsx
        Icons.cy.tsx
      e2e/
        accessibility.cy.ts
        cv.cy.ts
        index.cy.ts
        kontakt.cy.ts
        layout.cy.ts
        prosjekter.cy.ts
      support/
        commands.ts
        component-index.html
        component.ts
        e2e.ts
        functions.ts
      tsconfig.json
    playwright/
      cv.spec.ts
      index.spec.ts
      kontakt.spec.ts
      prosjekter.spec.ts
  hooks/
    useMobile.tsx
    useNavigation.ts
  lib/
    framer/
      client.ts
    sanity/
      client.ts
      helpers.ts
      queries.ts
    csrf.ts
  stories/
    components/
      Animations/
        BounceInScroll.stories.tsx
        FadeDown.stories.tsx
        FadeIn.stories.tsx
        FadeInScroll.stories.tsx
        FadeUp.stories.tsx
        Grow.stories.tsx
        Matrix.stories.tsx
        MatrixCursor.stories.tsx
        PageTransition.stories.tsx
        RotatingLoader.stories.tsx
      CV/
        CVContent.stories.tsx
      ErrorHandling/
        ErrorFallback.stories.tsx
      Index/
        Hero.stories.tsx
        Icons.stories.tsx
        IndexContent.stories.tsx
        MobileBackground.stories.tsx
        Section.stories.tsx
      Kontakt/
        ContactForm.stories.tsx
        ContactFormWithMocks.tsx
      Layout/
        Footer.stories.tsx
        Hamburger.stories.tsx
        MobileMenu.stories.tsx
        NavigationLink.stories.tsx
      Prosjekter/
        ProsjektCard.stories.tsx
      UI/
        Button.stories.tsx
        InputField.stories.tsx
        PageHeader.stories.tsx
        Pill.stories.tsx
        SkipLink.stories.tsx
        Tabs.stories.tsx
    README.md
  types/
    sanity-errors.ts
    sanity.types.ts
    testing-library.d.ts
  utils/
    eslint/
      dist/
        index.js
      index.ts
      package.json
      tsconfig.json
    portableTextComponents.tsx
    test-utils.ts
studio/
  schemaTypes/
    documents/
      category.ts
      cv.ts
      navigation.ts
      page.ts
      project.ts
      settings.ts
    objects/
      herocontent.ts
      link.ts
      pagecontent.ts
    index.ts
    schema.ts
  static/
    .gitkeep
  .eslintrc
  .gitignore
  package.json
  README.md
  sanity.cli.ts
  sanity.config.ts
  schema.json
  schema.ts
  tsconfig.json
.eslintrc-custom-rules.ts
.eslintrc.json
.gitattributes
.gitignore
.pa11yci.json
codecov.yml
cypress.config.ts
cypress.d.ts
gitmojis.json
jest.config.ts
jest.setup.ts
LICENSE
lighthouserc.json
next.config.ts
package.json
playwright.config.ts
postcss.config.mjs
README.md
renovate.json
repomix.config.json
sanity.cli.ts
tailwind.config.ts
tsconfig.json
```

# Files

## File: .github/ISSUE_TEMPLATE/bug_report.md
````markdown
 1: ---
 2: name: Bug report
 3: about: Create a report to help us improve
 4: title: ""
 5: labels: ""
 6: assignees: ""
 7: ---
 8: 
 9: **Describe the bug**
10: A clear and concise description of what the bug is.
11: 
12: **To Reproduce**
13: Steps to reproduce the behavior:
14: 1\. Go to '...'
15: 2\. Click on '....'
16: 3\. Scroll down to '....'
17: 4\. See error
18: 
19: **Expected behavior**
20: A clear and concise description of what you expected to happen.
21: 
22: **Screenshots**
23: If applicable, add screenshots to help explain your problem.
24: 
25: **Desktop (please complete the following information):**
26: 
27: - OS: [e.g. iOS]
28: - Browser [e.g. chrome, safari]
29: - Version [e.g. 22]
30: 
31: **Smartphone (please complete the following information):**
32: 
33: - Device: [e.g. iPhone6]
34: - OS: [e.g. iOS8.1]
35: - Browser [e.g. stock browser, safari]
36: - Version [e.g. 22]
37: 
38: **Additional context**
39: Add any other context about the problem here.
````

## File: .github/workflows/budget.json
````json
 1: [
 2:   {
 3:     "path": "/*",
 4:     "resourceSizes": [
 5:       {
 6:         "resourceType": "document",
 7:         "budget": 18
 8:       },
 9:       {
10:         "resourceType": "total",
11:         "budget": 200
12:       }
13:     ]
14:   }
15: ]
````

## File: .github/workflows/codeql.yml
````yaml
 1: name: "CodeQL"
 2: on:
 3:   push:
 4:     branches: ["master"]
 5:   pull_request:
 6:     branches: ["master"]
 7:   schedule:
 8:     - cron: "0 0 * * *"
 9: jobs:
10:   analyze:
11:     name: Analyze
12:     runs-on: ubuntu-latest
13:     permissions:
14:       actions: read
15:       contents: read
16:       security-events: write
17:     strategy:
18:       fail-fast: false
19:       matrix:
20:         language: [javascript]
21:     steps:
22:       - name: Checkout
23:         uses: actions/checkout@8edcb1bdb4e267140fa742c62e395cd74f332709
24:       - name: Initialize CodeQL
25:         uses: github/codeql-action/init@v3
26:         with:
27:           languages: ${{ matrix.language }}
28:           queries: +security-and-quality
29:       - name: Autobuild
30:         uses: github/codeql-action/autobuild@v3
31:       - name: Perform CodeQL Analysis
32:         uses: github/codeql-action/analyze@v3
33:         with:
34:           category: "/language:${{ matrix.language }}"
````

## File: .github/workflows/cypress.yml
````yaml
 1: name: Cypress Tests
 2: on: [push]
 3: jobs:
 4:   cypress-run:
 5:     runs-on: ubuntu-24.04
 6:     strategy:
 7:       fail-fast: false
 8:       matrix:
 9:         browser: [chrome, firefox, edge]
10:     container:
11:       image: cypress/browsers:node-20.17.0-chrome-128.0.6613.119-1-ff-130.0-edge-128.0.2739.63-1
12:       options: --user 1001
13:     steps:
14:       - name: Checkout
15:         uses: actions/checkout@v4
16:       - name: Install pnpm
17:         uses: pnpm/action-setup@v4
18:         with:
19:           version: 9
20:       - name: Install dependencies
21:         run: pnpm install
22:       - name: Cypress run
23:         uses: cypress-io/github-action@v6
24:         with:
25:           build: pnpm build
26:           start: pnpm dev
27:           wait-on: "http://localhost:3000"
28:           wait-on-timeout: 120
29:           browser: ${{ matrix.browser }}
````

## File: .github/workflows/lighthouse.yml
````yaml
 1: name: Lighthouse CI
 2: on: [push, pull_request]
 3: jobs:
 4:   lighthouse:
 5:     runs-on: ubuntu-latest
 6:     steps:
 7:       - uses: actions/checkout@v4
 8:       - name: Setup Node.js
 9:         uses: actions/setup-node@v4
10:         with:
11:           node-version: "22"
12:       - name: Setup pnpm
13:         uses: pnpm/action-setup@v4
14:         with:
15:           version: 8
16:           run_install: false
17:       - name: Get pnpm store directory
18:         shell: bash
19:         run: |
20:           echo "STORE_PATH=$(pnpm store path --silent)" >> $GITHUB_ENV
21:       - name: Setup pnpm cache
22:         uses: actions/cache@v4
23:         with:
24:           path: ${{ env.STORE_PATH }}
25:           key: ${{ runner.os }}-pnpm-store-${{ hashFiles('**/pnpm-lock.yaml') }}
26:           restore-keys: |
27:             ${{ runner.os }}-pnpm-store-
28:       - name: Install dependencies
29:         run: pnpm install
30:       - name: Build project
31:         run: pnpm build
32:       - name: Start server
33:         run: |
34:           pnpm start &
35:           echo "Waiting for server to be ready..."
36:           while ! nc -z localhost 3000; do
37:             sleep 5
38:           done
39:           # Additional wait to ensure full initialization
40:           sleep 20
41:       - name: Run Lighthouse CI (Mobile)
42:         run: pnpm lhci:perf
43:         env:
44:           LHCI_GITHUB_APP_TOKEN: ${{ secrets.GITHUB_TOKEN }}
45:       - name: Run Lighthouse CI (Desktop)
46:         run: pnpm lhci:desktop
47:         env:
48:           LHCI_GITHUB_APP_TOKEN: ${{ secrets.GITHUB_TOKEN }}
49:       - name: Stop server
50:         if: always()
51:         run: |
52:           pkill -f "next start" || true
````

## File: .github/workflows/pa11y.yml
````yaml
 1: name: A11y
 2: on:
 3:   push:
 4:     branches: [main]
 5:   pull_request:
 6:     branches: [main]
 7: jobs:
 8:   pa11y:
 9:     runs-on: ubuntu-latest
10:     steps:
11:       - uses: actions/checkout@v4
12:       - name: Setup Node.js
13:         uses: actions/setup-node@v4
14:         with:
15:           node-version: "22"
16:       - name: Install pnpm
17:         uses: pnpm/action-setup@v4
18:         with:
19:           version: 8
20:           run_install: false
21:       - name: Get pnpm store directory
22:         shell: bash
23:         run: |
24:           echo "STORE_PATH=$(pnpm store path --silent)" >> $GITHUB_ENV
25:       - name: Setup pnpm cache
26:         uses: actions/cache@v4
27:         with:
28:           path: ${{ env.STORE_PATH }}
29:           key: ${{ runner.os }}-pnpm-store-${{ hashFiles('**/pnpm-lock.yaml') }}
30:           restore-keys: |
31:             ${{ runner.os }}-pnpm-store-
32:       - name: Install dependencies
33:         run: pnpm install
34:       - name: Install dependencies and pa11y
35:         run: |
36:           pnpm add -D pa11y wait-on
37:           # Create pa11y config file
38:           echo '{"chromeLaunchConfig":{"args":["--no-sandbox"]}}' > .pa11y.json
39:       - name: Build Next.js app
40:         run: pnpm build
41:       - name: Start Next.js app
42:         run: pnpm start &
43:       - name: Wait for the application to be ready
44:         run: pnpm exec wait-on http://localhost:3000
45:       - name: Run pa11y
46:         run: |
47:           # Create a directory for the reports
48:           mkdir -p pa11y-reports
49:           # Run pa11y on main pages with config
50:           pnpm exec pa11y --config .pa11y.json http://localhost:3000 > pa11y-reports/home.txt || true
51:           pnpm exec pa11y --config .pa11y.json http://localhost:3000/cv > pa11y-reports/cv.txt || true
52:           pnpm exec pa11y --config .pa11y.json http://localhost:3000/prosjekter > pa11y-reports/prosjekter.txt || true
53:           pnpm exec pa11y --config .pa11y.json http://localhost:3000/kontakt > pa11y-reports/kontakt.txt || true
54:       - name: Upload pa11y results
55:         if: always()
56:         uses: actions/upload-artifact@v4
57:         with:
58:           name: pa11y-reports
59:           path: pa11y-reports/
60:       - name: Check for accessibility issues
61:         run: |
62:           if grep -q "Error:" pa11y-reports/*.txt; then
63:             echo "Accessibility issues found. Check the uploaded artifacts for details."
64:             exit 1
65:           fi
````

## File: .github/workflows/playwright.yml
````yaml
 1: name: Playwright Tests
 2: on:
 3:   push:
 4:     branches: [main, master]
 5:   pull_request:
 6:     branches: [main, master]
 7: jobs:
 8:   test:
 9:     timeout-minutes: 60
10:     runs-on: ubuntu-latest
11:     steps:
12:       - uses: actions/checkout@v4
13:       - uses: pnpm/action-setup@v4
14:         with:
15:           version: 9
16:       - uses: actions/setup-node@v4
17:         with:
18:           node-version: 20
19:           cache: "pnpm"
20:       - name: Install dependencies
21:         run: pnpm install
22:       - name: Install Playwright Browsers
23:         run: pnpm exec playwright install --with-deps chromium firefox
24:       - name: Build the project
25:         run: pnpm build
26:       - name: Start the application
27:         run: pnpm start &
28:       - name: Wait for the application to be ready
29:         run: |
30:           npx wait-on http://localhost:3000
31:       - name: Run Playwright tests
32:         run: pnpm exec playwright test
33:       - uses: actions/upload-artifact@v4
34:         if: always()
35:         with:
36:           name: playwright-report
37:           path: playwright-report/
38:           retention-days: 30
````

## File: .github/workflows/repomix.yml
````yaml
 1: name: Repository Documentation
 2: on:
 3:   push:
 4:     branches:
 5:       - main
 6:   workflow_dispatch: # allows manual triggering
 7: permissions:
 8:   contents: write
 9:   pull-requests: write
10: jobs:
11:   analyze:
12:     runs-on: ubuntu-latest
13:     steps:
14:       - name: Checkout repository
15:         uses: actions/checkout@v4
16:         with:
17:           fetch-depth: 0 # fetch all history for better context
18:       - name: Wait for other checks
19:         run: |
20:           echo "Waiting for 5 minutes to allow other checks to complete..."
21:           sleep 300
22:       - name: Setup Node.js
23:         uses: actions/setup-node@v4
24:         with:
25:           node-version: "22"
26:       - name: Install Repomix
27:         run: npm install -g repomix
28:       - name: Generate Repository Documentation
29:         run: |
30:           echo "Creating DOCS directory..."
31:           mkdir -p DOCS
32:           echo "Running Repomix..."
33:           if ! repomix --output DOCS/repository_context.txt --style markdown --remove-empty-lines --verbose; then
34:             echo "Error: Repomix command failed"
35:             # Print directory contents for debugging
36:             echo "DOCS directory contents:"
37:             ls -la DOCS/
38:             exit 1
39:           fi
40:           echo "Verifying output file..."
41:           if [ ! -f "DOCS/repository_context.txt" ]; then
42:             echo "Error: repository_context.txt was not created"
43:             # Print directory contents for debugging
44:             echo "DOCS directory contents:"
45:             ls -la DOCS/
46:             exit 1
47:           fi
48:           if [ ! -s "DOCS/repository_context.txt" ]; then
49:             echo "Error: repository_context.txt is empty"
50:             exit 1
51:           fi
52:           echo "Repository context file generated successfully"
53:           echo "File size: $(stat --format=%s "DOCS/repository_context.txt") bytes"
54:           echo "First few lines of the file:"
55:           head -n 5 "DOCS/repository_context.txt"
56:       # Update Documentation
57:       - name: Commit and Push Changes
58:         run: |
59:           echo "Configuring git..."
60:           git config --local user.email "github-actions[bot]@users.noreply.github.com"
61:           git config --local user.name "github-actions[bot]"
62:           echo "Checking for changes..."
63:           if [[ -n "$(git status --porcelain)" ]]; then
64:             echo "Changes detected, committing..."
65:             # Stage only repository_context.txt to avoid unintended changes
66:             if ! git add DOCS/repository_context.txt; then
67:               echo "Error: Failed to stage repository_context.txt"
68:               exit 1
69:             fi
70:             if ! git commit -m "docs: update repository context via Repomix [skip ci]"; then
71:               echo "Error: Failed to create commit"
72:               exit 1
73:             fi
74:             echo "Pushing to main branch..."
75:             if ! git push; then
76:               echo "Error: Failed to push changes"
77:               exit 1
78:             fi
79:             echo "Successfully updated repository context"
80:           else
81:             echo "No changes detected in repository_context.txt"
82:           fi
````

## File: .github/workflows/snyk-scan.yml
````yaml
 1: name: Snyk Security Scan
 2: on:
 3:   push:
 4:     branches:
 5:       - main
 6:   pull_request:
 7:     branches:
 8:       - main
 9: permissions:
10:   contents: read
11:   pull-requests: write
12:   security-events: write
13: jobs:
14:   snyk_scan:
15:     runs-on: ubuntu-latest
16:     steps:
17:       - name: Checkout code
18:         uses: actions/checkout@v4
19:       - name: Install pnpm
20:         uses: pnpm/action-setup@v4
21:         with:
22:           version: 9
23:       - name: Set up Node.js
24:         uses: actions/setup-node@v4
25:         with:
26:           node-version: "22.x"
27:           cache: "pnpm"
28:       - name: Install dependencies
29:         run: pnpm install --frozen-lockfile
30:       - name: Install dependencies for studio
31:         run: cd studio && pnpm install --frozen-lockfile && cd ..
32:       - name: Run Snyk to check main project vulnerabilities
33:         uses: snyk/actions/node@master
34:         env:
35:           SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
36:         with:
37:           command: "test"
38:           args: "--sarif-file-output=snyk-main.sarif --severity-threshold=high"
39:       - name: Run Snyk to check studio project vulnerabilities
40:         uses: snyk/actions/node@master
41:         env:
42:           SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
43:         with:
44:           command: "test"
45:           args: "--file=studio/package.json --sarif-file-output=snyk-studio.sarif --severity-threshold=high"
46:       - name: Run Snyk to check eslint plugin vulnerabilities
47:         uses: snyk/actions/node@master
48:         env:
49:           SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
50:         with:
51:           command: "test"
52:           args: "--file=src/utils/eslint/package.json --sarif-file-output=snyk-eslint.sarif --severity-threshold=high"
53:       - name: Upload main project SARIF report to GitHub Security tab
54:         if: always()
55:         uses: github/codeql-action/upload-sarif@v3
56:         with:
57:           sarif_file: snyk-main.sarif
58:           category: snyk-main
59:       - name: Upload studio SARIF report to GitHub Security tab
60:         if: always()
61:         uses: github/codeql-action/upload-sarif@v3
62:         with:
63:           sarif_file: snyk-studio.sarif
64:           category: snyk-studio
65:       - name: Upload eslint plugin SARIF report to GitHub Security tab
66:         if: always()
67:         uses: github/codeql-action/upload-sarif@v3
68:         with:
69:           sarif_file: snyk-eslint.sarif
70:           category: snyk-eslint
71:       - name: Snyk Monitor main project (only for pushes to main branch)
72:         if: github.event_name == 'push' && github.ref == 'refs/heads/main'
73:         uses: snyk/actions/node@master
74:         env:
75:           SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
76:         with:
77:           command: "monitor"
78:           args: ""
79:       - name: Snyk Monitor studio project (only for pushes to main branch)
80:         if: github.event_name == 'push' && github.ref == 'refs/heads/main'
81:         uses: snyk/actions/node@master
82:         env:
83:           SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
84:         with:
85:           command: "monitor"
86:           args: "--file=studio/package.json"
87:       - name: Snyk Monitor eslint plugin (only for pushes to main branch)
88:         if: github.event_name == 'push' && github.ref == 'refs/heads/main'
89:         uses: snyk/actions/node@master
90:         env:
91:           SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
92:         with:
93:           command: "monitor"
94:           args: "--file=src/utils/eslint/package.json"
````

## File: .github/copilot-instructions.md
````markdown
  1: # DFWeb v4 - Copilot Instructions
  2: 
  3: ## Project Overview
  4: 
  5: DFWeb v4 is a portfolio website built with Next.js 15, React 19, and TypeScript, featuring a Matrix-inspired design with custom animations and a strong focus on performance and accessibility.
  6: 
  7: ## Tech Stack
  8: 
  9: - **Frontend Core**
 10: 
 11:   - Next.js 15 with App Router and Server Components
 12:   - React 19 with latest features
 13:   - TypeScript with strict mode
 14:   - Motion for animations
 15:   - Tailwind CSS for styling
 16:   - Sanity.io as headless CMS
 17: 
 18: - **Testing**
 19: 
 20:   - Jest & React Testing Library for unit tests
 21:   - Cypress for E2E testing with accessibility checks
 22:   - Playwright for cross-browser testing
 23:   - 100% test coverage requirement
 24: 
 25: - **Performance & Monitoring**
 26:   - Lighthouse CI integration
 27:   - Vercel Speed Insights
 28:   - Core Web Vitals monitoring
 29:   - Performance budgets
 30: 
 31: ## Code Organization
 32: 
 33: ```
 34: src/
 35: ├── app/                 # Next.js App Router pages
 36: ├── components/          # React components
 37: │   ├── Animations/     # Animation components
 38: │   ├── CV/            # CV-related components
 39: │   ├── ErrorBoundary/ # Error handling
 40: │   ├── Index/         # Homepage components
 41: │   ├── Kontakt/       # Contact form
 42: │   ├── Layout/        # Layout components
 43: │   ├── Prosjekter/    # Projects section
 44: │   └── UI/            # Reusable UI components
 45: ├── config/             # Configuration files
 46: ├── e2e/               # End-to-end tests
 47: ├── hooks/             # Custom React hooks
 48: ├── lib/               # Core libraries
 49: ├── stories/           # Component documentation
 50: ├── types/             # TypeScript definitions
 51: └── utils/             # Utility functions
 52: ```
 53: 
 54: ## Coding Standards
 55: 
 56: ### TypeScript
 57: 
 58: - Use strict type checking
 59: - Avoid `any` types
 60: - Create proper interfaces/types for all data structures
 61: - Use type guards where appropriate
 62: - Leverage TypeScript's utility types
 63: 
 64: ### Components
 65: 
 66: - Use functional components with hooks
 67: - Follow naming convention: `ComponentName.component.tsx`
 68: - Keep components focused and modular
 69: - Implement proper error boundaries
 70: - Use proper React key props in lists
 71: - Prefer Server Components where possible
 72: 
 73: ### Testing
 74: 
 75: - Follow AAA (Arrange-Act-Assert) pattern
 76: - Include comments for each section:
 77:   ```typescript
 78:   // Arrange - Set up test data and conditions
 79:   // Act - Perform the action being tested
 80:   // Assert - Verify the results
 81:   ```
 82: - Write comprehensive unit tests
 83: - Include integration tests for complex features
 84: - Add E2E tests for critical flows
 85: - Maintain 100% test coverage
 86: 
 87: ### State Management
 88: 
 89: - Use React hooks for local state
 90: - Implement proper loading states
 91: - Handle errors with ErrorBoundary
 92: - Use Server Components for data fetching
 93: - Avoid prop drilling
 94: 
 95: ### Performance
 96: 
 97: - Use Server Components for data-heavy pages
 98: - Implement proper caching strategies
 99: - Optimize images with next/image
100: - Use code splitting effectively
101: - Monitor Core Web Vitals
102: - Keep bundle size minimal
103: 
104: ### Accessibility
105: 
106: - Follow WCAG guidelines
107: - Use semantic HTML
108: - Implement proper ARIA attributes
109: - Ensure keyboard navigation
110: - Test with screen readers
111: - Support reduced motion
112: 
113: ### Error Handling
114: 
115: - Use ErrorBoundary components
116: - Provide meaningful error messages
117: - Include fallback UI
118: - Log errors appropriately
119: - Handle edge cases
120: 
121: ### CSS/Styling
122: 
123: - Use Tailwind CSS classes
124: - Follow mobile-first approach
125: - Maintain consistent spacing
126: - Use CSS modules for component-specific styles
127: - Follow BEM naming convention when needed
128: 
129: ## Best Practices
130: 
131: ### Git Workflow
132: 
133: - Use descriptive commit messages
134: - Follow conventional commits specification
135: - Create focused PRs
136: - Include tests with changes
137: - Update documentation
138: 
139: ### Development Process
140: 
141: - Start with Server Components
142: - Implement proper error handling
143: - Add comprehensive tests
144: - Consider accessibility
145: - Monitor performance
146: - Document changes
147: 
148: ### Environment Variables
149: 
150: Required variables:
151: 
152: ```env
153: # Email Configuration (client-side)
154: NEXT_PUBLIC_EMAIL_API_KEY=user_xxx
155: NEXT_PUBLIC_EMAIL_TEMPLATE_KEY=template_xxx
156: NEXT_PUBLIC_EMAIL_SERVICE_KEY=service_xxx
157: 
158: # AI Configuration (server-side)
159: AI_API_KEY=xxx
160: AI_BASE_URL=xxx
161: MODEL_NAME=claude-3.7-sonnet@anthropic
162: ```
163: 
164: ## Important Notes
165: 
166: - Always handle loading and error states
167: - Implement proper TypeScript types
168: - Follow existing patterns in the codebase
169: - Consider mobile responsiveness
170: - Maintain accessibility standards
171: - Write comprehensive tests
172: - Optimize for performance
173: - Use Server Components where possible
174: - Keep components focused and modular
175: - Document complex logic
````

## File: .ladle/components.tsx
````typescript
1: import "@/app/globals.css";
2: import "@/__mocks__/process";
````

## File: .zap/rules.tsv
````
 1: # ZAP Baseline Scan Rules
 2: # Format: RULE_ID	ACTION	DESCRIPTION
 3: # Actions: IGNORE, WARN, FAIL
 4: # 
 5: # Common rules you might want to ignore for a Next.js application:
 6: # 10011	IGNORE	(Cookie Without Secure Flag)
 7: # 10015	IGNORE	(Incomplete or No Cache-control and Pragma HTTP Header Set)
 8: # 10021	IGNORE	(X-Content-Type-Options Header Missing)
 9: # 10023	IGNORE	(Information Disclosure - Debug Error Messages)
10: # 10035	IGNORE	(Strict-Transport-Security Header Not Set)
11: # 10038	IGNORE	(Content Security Policy (CSP) Header Not Set)
12: # 10054	IGNORE	(Cookie without SameSite Attribute)
13: # 10096	IGNORE	(Timestamp Disclosure - Unix)
14: # 10109	IGNORE	(Modern Web Application)
15: #
16: # Uncomment the rules above as needed based on your security requirements
17: # and false positives you encounter during scanning.
````

## File: commit/commit_analyzer.py
````python
  1: import subprocess
  2: import os
  3: import sys
  4: import json
  5: import codecs
  6: import shlex
  7: from openai import OpenAI
  8: from pathlib import Path
  9: from dotenv import load_dotenv
 10: def read_config_file():
 11:     """Read configuration from local config file."""
 12:     config_path = os.path.join(str(Path.home()), ".ai_config.json")
 13:     try:
 14:         if os.path.exists(config_path):
 15:             with open(config_path, "r") as f:
 16:                 return json.load(f)
 17:     except Exception as e:
 18:         print(f"Error reading config file: {e}")
 19:     return {}
 20: def get_api_config():
 21:     """Get API configuration from environment variables or config file."""
 22:     load_dotenv()
 23:     # Try environment variables first
 24:     api_key = os.getenv("AI_API_KEY")
 25:     base_url = os.getenv("AI_BASE_URL")
 26:     # If no API key in env, try config file
 27:     if not api_key:
 28:         config = read_config_file()
 29:         api_key = config.get("api_key")
 30:         base_url = config.get("base_url", base_url)
 31:     if not api_key:
 32:         config_path = os.path.join(str(Path.home()), ".ai_config.json")
 33:         raise ValueError(
 34:             "No API key found. Please either:\n"
 35:             "1. Create a .env file in your repository with AI_API_KEY=your-api-key\n"
 36:             "2. Set AI_API_KEY environment variable, or\n"
 37:             f'3. Create {config_path} with content: {{"api_key": "your-api-key"}}'
 38:         )
 39:     return api_key, base_url
 40: def get_staged_diff():
 41:     """Get the diff of staged changes and list of changed files"""
 42:     try:
 43:         # Get list of staged files
 44:         files_output = subprocess.check_output(shlex.split("git diff --cached --name-only")).decode("utf-8")
 45:         staged_files = files_output.splitlines()
 46:         # Check if any staged files are lock files
 47:         lock_files = ['.lock', 'lock.json', 'package-lock.json', 'yarn.lock', 'pnpm-lock.yaml']
 48:         if any(any(file.endswith(lock) for lock in lock_files) for file in staged_files):
 49:             return None, True  # Indicate lock file presence
 50:         # Get the actual diff
 51:         diff = subprocess.check_output(shlex.split("git diff --cached")).decode("utf-8")
 52:         if not diff:
 53:             # If no staged changes, get diff of last commit
 54:             diff = subprocess.check_output(shlex.split("git diff HEAD~1")).decode("utf-8")
 55:             files_output = subprocess.check_output(shlex.split("git diff HEAD~1 --name-only")).decode("utf-8")
 56:             staged_files = files_output.splitlines()
 57:             lock_files = ['.lock', 'lock.json', 'package-lock.json', 'yarn.lock', 'pnpm-lock.yaml']
 58:             if any(any(file.endswith(lock) for lock in lock_files) for file in staged_files):
 59:                 return None, True
 60:         return diff, False  # No lock files found
 61:     except subprocess.CalledProcessError as e:
 62:         print(f"Error getting git diff: {e}")
 63:         return None, False
 64: def load_gitmojis():
 65:     """Load gitmojis from gitmojis.json"""
 66:     try:
 67:         with open("gitmojis.json", "r", encoding="utf-8") as f:
 68:             data = json.load(f)
 69:             return {gitmoji["name"]: gitmoji["emoji"] for gitmoji in data["gitmojis"]}
 70:     except Exception as e:
 71:         print(f"Error loading gitmojis: {e}")
 72:         return {}
 73: def get_emoji_for_type(commit_type, gitmojis):
 74:     """Map commit type to appropriate emoji"""
 75:     type_to_emoji = {
 76:         # Core conventional commit types
 77:         "feat": gitmojis.get("sparkles", "✨"),  # New feature
 78:         "fix": gitmojis.get("bug", "🐛"),  # Bug fix
 79:         "docs": gitmojis.get("memo", "📝"),  # Documentation
 80:         "style": gitmojis.get("art", "🎨"),  # Style/format
 81:         "refactor": gitmojis.get("recycle", "♻️"),  # Code refactoring
 82:         "perf": gitmojis.get("zap", "⚡️"),  # Performance
 83:         "test": gitmojis.get("white-check-mark", "✅"),  # Tests
 84:         "chore": gitmojis.get("wrench", "🔧"),  # Chores
 85:         "ci": gitmojis.get("construction-worker", "👷"),  # CI changes
 86:         # Additional commit types with specific emojis
 87:         "security": gitmojis.get("lock", "🔒"),  # Security fixes
 88:         "deps": gitmojis.get("package", "📦"),  # Dependencies
 89:         "breaking": gitmojis.get("boom", "💥"),  # Breaking changes
 90:         "ui": gitmojis.get("lipstick", "💄"),  # UI/style changes
 91:         "i18n": gitmojis.get("globe-with-meridians", "🌐"),  # Internationalization
 92:         "typo": gitmojis.get("pencil2", "✏️"),  # Fix typos
 93:         "init": gitmojis.get("tada", "🎉"),  # Initial commit
 94:         "license": gitmojis.get("page-facing-up", "📄"),  # License
 95:         "docker": gitmojis.get("whale", "🐳"),  # Docker
 96:         "config": gitmojis.get("wrench", "🔧"),  # Configuration changes
 97:         "access": gitmojis.get("wheelchair", "♿️"),  # Accessibility
 98:         "logs": gitmojis.get("loud-sound", "🔊"),  # Logging
 99:         "db": gitmojis.get("card-file-box", "🗃️"),  # Database
100:         "cleanup": gitmojis.get("fire", "🔥"),  # Remove code/files
101:         "wip": gitmojis.get("construction", "🚧"),  # Work in progress
102:         "move": gitmojis.get("truck", "🚚"),  # Move/rename files
103:         "revert": gitmojis.get("rewind", "⏪"),  # Revert changes
104:         "merge": gitmojis.get("twisted-rightwards-arrows", "🔀"),  # Merge branches
105:         "responsive": gitmojis.get("iphone", "📱"),  # Responsive design
106:         "hotfix": gitmojis.get("ambulance", "🚑"),  # Critical hotfix
107:     }
108:     return type_to_emoji.get(commit_type, "")
109: def generate_commit_message(diff):
110:     """Generate commit message using OpenAI API"""
111:     try:
112:         api_key, base_url = get_api_config()
113:         client_kwargs = {"api_key": api_key}
114:         if base_url:
115:             client_kwargs["base_url"] = base_url
116:         client = OpenAI(**client_kwargs)
117:         # Get model from environment variable or use default
118:         model = os.getenv("MODEL_NAME", "claude-4-sonnet@anthropic")
119:         # Load gitmojis
120:         # gitmojis = load_gitmojis()
121:         prompt = f"""You are a git commit message generator. Your task is to analyze the git diff and output ONLY the commit message itself - no explanations, no prefixes like "Based on the diff...", just the commit message exactly as it should appear in git.
122:         The commit message MUST follow this format:
123:         <emoji> <type>[optional scope]: <description>
124:         [required body] (minimum length of 50 characters and a maximum of around 80 characters)
125:         [optional footer(s)]
126:         Where:
127:         1. Type MUST be one of (with corresponding emoji):
128:            Core types:
129:            - ✨ feat: A new feature
130:            - 🐛 fix: A bug fix
131:            - 📝 docs: Documentation only changes
132:            - 🎨 style: Changes that don't affect the meaning of the code
133:            - ♻️ refactor: A code change that neither fixes a bug nor adds a feature
134:            - ⚡️ perf: A code change that improves performance
135:            - ✅ test: Adding missing tests or correcting existing tests
136:            - 🔧 chore: Changes to build process or auxiliary tools
137:            - 👷 ci: Changes to CI configuration files and scripts
138:            Additional specific types:
139:            - 🔒 security: Security fixes
140:            - 📦 deps: Dependencies
141:            - 💥 breaking: Breaking changes
142:            - 💄 ui: UI/style changes
143:            - 🌐 i18n: Internationalization
144:            - ✏️ typo: Fix typos
145:            - 🎉 init: Initial commit
146:            - 📄 license: License
147:            - 🐳 docker: Docker
148:            - ♿️ access: Accessibility
149:            - 🔊 logs: Logging
150:            - 🗃️ db: Database
151:            - 🔥 cleanup: Remove code/files
152:            - 🚧 wip: Work in progress
153:            - 🚚 move: Move/rename files
154:            - ⏪ revert: Revert changes
155:            - 🔀 merge: Merge branches
156:            - 📱 responsive: Responsive design
157:            - 🚑 hotfix: Critical hotfix
158:         2. Description MUST:
159:            - Be 50 characters or less
160:            - Start with lowercase
161:            - Use imperative mood ("add" not "adds/added")
162:            - No period at end
163:            - Be clear and descriptive
164:         3. Body (if included) MUST:
165:            - Be separated from title by blank line
166:            - Wrap at 72 characters
167:            - Explain what and why vs. how
168:            - Use proper punctuation
169:         Git diff to analyze:
170:         {diff}
171:         Output ONLY the commit message exactly as it should appear in git, with no additional text."""
172:         response = client.chat.completions.create(
173:             model=model,
174:             messages=[{"role": "user", "content": prompt}],
175:             stream=False,
176:         )
177:         # Get the message and clean any potential explanatory text
178:         message = response.choices[0].message.content.strip()
179:         if "Based on the diff" in message:
180:             message = message.split("\n")[-1].strip()
181:         return message
182:     except Exception as e:
183:         print(f"Error generating commit message: {e}")
184:         return None
185: def main():
186:     # Get the diff and check for lock files
187:     diff, has_lock_files = get_staged_diff()
188:     if has_lock_files:
189:         # Use hardcoded message for lock files
190:         commit_message = "📦 deps: update dependencies"
191:     elif not diff:
192:         print("No changes to analyze")
193:         sys.exit(1)
194:     else:
195:         # Generate commit message for non-lock files
196:         commit_message = generate_commit_message(diff)
197:     if not commit_message:
198:         print("Failed to generate commit message")
199:         sys.exit(1)
200:     # Print the commit message
201:     print("\nGenerated commit message:")
202:     print("------------------------")
203:     # Use sys.stdout.buffer.write for Unicode support in console
204:     sys.stdout.buffer.write(commit_message.encode("utf-8"))
205:     print("\n------------------------")
206:     # If running as a hook, save the message
207:     if len(sys.argv) > 1 and sys.argv[1] == "--hook":
208:         # Use UTF-8 encoding when writing the commit message
209:         with codecs.open(".git/COMMIT_EDITMSG", "w", encoding="utf-8") as f:
210:             f.write(commit_message)
211: if __name__ == "__main__":
212:     main()
````

## File: DOCS/EXPLANATION.md
````markdown
  1: # DFWeb v4 - Interview Discussion Guide
  2: 
  3: ## Project Overview
  4: 
  5: "DFWeb v4 is my portfolio website built with Next.js, React, and TypeScript.
  6: What makes it unique is its Matrix-inspired design with custom animations and
  7: strong focus on performance and accessibility."
  8: 
  9: ## Key Discussion Points
 10: 
 11: ## Technology Choices & Rationale
 12: 
 13: ### Next.js 15
 14: 
 15: "I chose Next.js for several critical reasons:
 16: 
 17: 1. Server Components significantly improve initial page load and SEO
 18: 2. Built-in image optimization crucial for a portfolio site with many visuals
 19: 3. App Router provides more intuitive and flexible routing
 20: 4. Excellent TypeScript integration out of the box
 21: 5. Built-in performance optimizations like automatic code splitting
 22: 6. Strong community support and extensive documentation
 23: 7. Easy deployment and scaling with Vercel
 24: 8. Great development experience with fast refresh"
 25: 
 26: ### React 19
 27: 
 28: "React was chosen because:
 29: 
 30: 1. Latest features like Server Components and Suspense
 31: 2. Excellent ecosystem of tools and libraries
 32: 3. Strong typing support with TypeScript
 33: 4. Great performance with concurrent rendering
 34: 5. Huge community for problem-solving
 35: 6. Stable and battle-tested in production
 36: 7. Regular updates and improvements
 37: 8. Industry standard, making code maintainable"
 38: 
 39: ### TypeScript
 40: 
 41: "TypeScript was a crucial choice for several reasons:
 42: 
 43: 1. Catches errors during development rather than runtime
 44: 2. Excellent IDE support with autocompletion
 45: 3. Makes refactoring much safer and easier
 46: 4. Self-documenting code through types
 47: 5. Better team collaboration through explicit contracts
 48: 6. Improved maintainability for larger codebases
 49: 7. Great integration with Next.js and React
 50: 8. Essential for complex features like the Matrix animations"
 51: 
 52: ### Sanity.io
 53: 
 54: "I chose Sanity as the headless CMS because:
 55: 
 56: 1. Type-safe content queries with GROQ
 57: 2. Real-time content updates
 58: 3. Excellent image transformation capabilities
 59: 4. Custom validation rules for content
 60: 5. Great developer experience with their Studio
 61: 6. Flexible content modeling
 62: 7. Good free tier for portfolios
 63: 8. Easy integration with Next.js"
 64: 
 65: ### Motion Library
 66: 
 67: "Motion was selected for animations because:
 68: 
 69: 1. Declarative API that's easy to understand
 70: 2. Performance optimized out of the box
 71: 3. Handles complex animation sequences well
 72: 4. Great TypeScript support
 73: 5. Small bundle size impact
 74: 6. Smooth animations with hardware acceleration
 75: 7. Handles gesture animations well
 76: 8. Good accessibility features"
 77: 
 78: ### Tailwind CSS
 79: 
 80: "Tailwind CSS was chosen for styling because:
 81: 
 82: 1. Highly maintainable utility-first approach
 83: 2. Excellent performance with minimal CSS output
 84: 3. Great developer experience with autocomplete
 85: 4. Built-in responsive design utilities
 86: 5. Easy dark mode implementation
 87: 6. Consistent design system
 88: 7. No need to maintain separate CSS files
 89: 8. Great documentation and community"
 90: 
 91: ### Testing Tools
 92: 
 93: "The comprehensive testing stack was chosen for complete coverage:
 94: 
 95: 1. Jest & React Testing Library
 96: 
 97:    - Fast unit and integration tests
 98:    - Encourages testing user behavior over implementation
 99:    - Great async testing capabilities
100:    - Snapshot testing for UI components
101:    - 100% test coverage requirement enforced
102: 
103: 2. Cypress
104: 
105:    - Reliable end-to-end testing
106:    - Built-in accessibility testing with Cypress Axe
107:    - Real browser testing environment
108:    - Great debugging capabilities
109:    - Visual testing capabilities
110: 
111: 3. Playwright
112:    - Cross-browser testing coverage
113:    - Mobile device emulation
114:    - Network request handling
115:    - Parallel test execution
116:    - Visual comparison tools"
117: 
118: ### Code Quality Tools
119: 
120: "Multiple code quality tools were chosen for comprehensive analysis:
121: 
122: 1. Codacy
123: 
124:    - Automated code reviews
125:    - Security vulnerability scanning
126:    - Code duplication detection
127:    - Style guide enforcement
128:    - Continuous code quality monitoring
129: 
130: 2. Sonarcloud
131: 
132:    - Deep code analysis
133:    - Security hotspot detection
134:    - Technical debt tracking
135:    - Code coverage visualization
136:    - Quality gate enforcement
137: 
138: 3. Codeclimate
139:    - Maintainability metrics
140:    - Complexity analysis
141:    - Duplication detection
142:    - Trend monitoring
143:    - Quality improvement suggestions"
144: 
145: ### CI/CD Infrastructure
146: 
147: "The CI/CD setup was carefully chosen:
148: 
149: 1. CircleCI
150: 
151:    - Fast build times
152:    - Parallel test execution
153:    - Custom workflow configuration
154:    - Efficient caching
155:    - Pre-deploy test validation
156: 
157: 2. GitHub Actions
158:    - Cypress workflow integration
159:    - Lighthouse CI testing
160:    - Automated accessibility checks
161:    - Performance monitoring
162:    - Cross-browser testing"
163: 
164: ### Form Handling
165: 
166: "React Hook Form with Zod was chosen for robust form management:
167: 
168: 1. Performance optimized with minimal re-renders
169: 2. Built-in validation with Zod for type safety
170: 3. Great TypeScript integration
171: 4. Easy form state management
172: 5. Excellent error handling
173: 6. Built-in accessibility
174: 7. Small bundle size
175: 8. Reusable form components"
176: 
177: ### Environment Variables
178: 
179: "Envalid was chosen for type-safe environment handling:
180: 
181: 1. Runtime validation of required variables
182: 2. TypeScript integration for type safety
183: 3. Clear error messages with examples
184: 4. Separate client/server variable handling
185: 5. Default value support
186: 6. Prevents missing variable issues
187: 7. Environment-specific validation
188: 8. Development experience improvements"
189: 
190: ### Development Tooling
191: 
192: "Carefully selected development tools for optimal DX:
193: 
194: 1. Turbopack
195: 
196:    - Significantly faster development builds
197:    - Incremental compilation
198:    - Better memory usage
199:    - Native TypeScript support
200:    - Integrated with Next.js
201: 
202: 2. Prettier & ESLint
203: 
204:    - Consistent code formatting
205:    - Custom ESLint plugins for:
206:      - Jest testing standards
207:      - React best practices
208:      - Accessibility rules
209:      - TypeScript-specific rules
210:    - Automated formatting on commit
211:    - Integration with VS Code
212: 
213: 3. Ladle
214:    - Component documentation
215:    - Interactive development
216:    - Visual testing
217:    - Accessibility checks
218:    - Isolated component testing"
219: 
220: ### Performance Monitoring
221: 
222: "Comprehensive performance tracking setup:
223: 
224: 1. Vercel Speed Insights
225: 
226:    - Real user monitoring
227:    - Performance metrics tracking
228:    - Core Web Vitals monitoring
229:    - User experience scoring
230:    - Performance regression detection
231: 
232: 2. Lighthouse CI
233:    - Automated performance testing
234:    - Custom performance budgets
235:    - Desktop and mobile testing
236:    - Performance regression prevention
237:    - Integration with GitHub Actions"
238: 
239: ### Utility Libraries
240: 
241: "Carefully chosen utility libraries:
242: 
243: 1. clsx
244: 
245:    - Type-safe className handling
246:    - Conditional class application
247:    - Better performance than alternatives
248:    - Small bundle size
249:    - Great TypeScript support
250: 
251: 2. react-use
252: 
253:    - Battle-tested React hooks
254:    - Performance optimized
255:    - Reduces boilerplate
256:    - TypeScript support
257:    - Active maintenance
258: 
259: 3. Portable Text
260: 
261:    - Rich text rendering
262:    - Custom components
263:    - Sanity.io integration
264:    - Type-safe content
265:    - SEO-friendly output
266: 
267: 4. react-error-boundary
268:    - Graceful error handling
269:    - Component-level isolation
270:    - Error recovery
271:    - Development tools
272:    - TypeScript support"
273: 
274: ### Accessibility Tools
275: 
276: "Comprehensive accessibility testing setup:
277: 
278: 1. Cypress Axe
279: 
280:    - Automated accessibility testing
281:    - WCAG compliance checking
282:    - Integration with CI/CD
283:    - Detailed violation reporting
284:    - Prevents accessibility regressions
285: 
286: 2. ESLint jsx-a11y
287: 
288:    - Static accessibility checks
289:    - Best practice enforcement
290:    - Early error detection
291:    - IDE integration
292:    - Custom rule configuration
293: 
294: 3. Additional Tools
295:    - ARIA validation
296:    - Color contrast checking
297:    - Keyboard navigation testing
298:    - Screen reader optimization
299:    - Reduced motion support"
300: 
301: ### 3. Unique Features
302: 
303: "The standout feature is the Matrix-inspired design:
304: 
305: - Custom animation system using Canvas
306: - Interactive elements that respond to user movement
307: - Smooth page transitions
308: - Responsive design that works across devices"
309: 
310: ### 4. Performance Focus
311: 
312: "Performance was a key priority throughout development, with several major
313: improvements:
314: 
315: 1. Automated Performance Monitoring
316: 
317:    - Implemented Lighthouse CI for continuous monitoring (commit 4a79a89)
318:    - Added performance budgets and thresholds
319:    - Set up Vercel Speed Insights for real user monitoring
320:    - Integrated with GitHub Actions for automated checks
321:    - Achieved and maintained 100/100 Lighthouse scores
322: 
323: 2. Server-Side Optimization
324: 
325:    - Implemented Server Components for data-heavy pages (commit 4fa7629)
326:    - Added intelligent caching strategies
327:    - Optimized API response times
328:    - Improved GROQ query performance
329:    - Enhanced static generation with revalidation
330: 
331: 3. Frontend Optimization
332: 
333:    - Optimized Matrix animation rendering (commit bcc379b)
334:    - Implemented efficient code splitting
335:    - Added responsive image optimization
336:    - Reduced JavaScript bundle size
337:    - Optimized critical rendering path
338: 
339: 4. Mobile Performance
340: 
341:    - Added device-specific optimizations (commit 0812552)
342:    - Implemented responsive loading strategies
343:    - Optimized animations for mobile devices
344:    - Reduced battery impact
345:    - Enhanced touch response times
346: 
347: 5. Monitoring & Maintenance
348:    - Regular performance regression testing
349:    - Continuous Core Web Vitals monitoring
350:    - Automated performance budgets
351:    - Regular dependency updates
352:    - Performance-focused code reviews"
353: 
354: ### 5. Testing Strategy
355: 
356: "The testing strategy evolved throughout the project to ensure comprehensive
357: coverage:
358: 
359: 1. Unit Testing Evolution
360: 
361:    - Implemented AAA pattern for all tests (commit c48c612)
362:    - Added comprehensive error boundary tests (commit 75bc7b7)
363:    - Created custom test utilities for Canvas (commit cc7c821)
364:    - Achieved 100% test coverage
365:    - Maintained strict testing standards
366: 
367: 2. End-to-End Testing
368: 
369:    - Implemented Cypress for critical flows
370:    - Added accessibility testing with Cypress Axe
371:    - Created comprehensive test suites
372:    - Added mobile device testing (commit 0812552)
373:    - Integrated with CI/CD pipeline
374: 
375: 3. Cross-Browser Testing
376: 
377:    - Added Playwright for browser coverage
378:    - Implemented parallel test execution
379:    - Added visual regression testing
380:    - Created device-specific tests
381:    - Automated cross-browser validation
382: 
383: 4. Performance Testing
384: 
385:    - Integrated Lighthouse CI (commit 4a79a89)
386:    - Added performance budgets
387:    - Implemented Core Web Vitals monitoring
388:    - Created performance regression tests
389:    - Set up automated benchmarking
390: 
391: 5. Accessibility Testing
392:    - Implemented WCAG compliance checks
393:    - Added keyboard navigation tests
394:    - Created screen reader validation
395:    - Added reduced motion testing
396:    - Automated accessibility monitoring"
397: 
398: ### 6. Challenges and Solutions
399: 
400: "Based on the project's evolution, we faced and solved several key challenges:
401: 
402: 1. Error Handling Architecture
403: 
404:    - Challenge: Complex error handling across different components
405:    - Solution:
406:      - Extracted reusable error fallback components
407:      - Improved error boundary organization
408:      - Enhanced error handling typing
409:      - Added compact mode for different contexts
410:      - Better separation of error handling logic
411: 
412: 2. Component Organization
413: 
414:    - Challenge: Growing complexity in component structure
415:    - Solution:
416:      - Moved configuration to separate files
417:      - Improved component modularity
418:      - Better separation of concerns
419:      - Enhanced component reusability
420:      - Standardized component patterns
421: 
422: 3. Testing Infrastructure
423: 
424:    - Challenge: Maintaining comprehensive test coverage
425:    - Solution:
426:      - Enhanced test suite organization
427:      - Simplified testing tools
428:      - Improved test examples
429:      - Better test structure
430:      - More consistent testing patterns
431: 
432: 4. Matrix Animation System
433: 
434:    - Challenge: Complex cursor and animation management
435:    - Solution:
436:      - Refactored cursor implementation
437:      - Improved animation performance
438:      - Better state management
439:      - Enhanced mobile support
440:      - Optimized rendering logic
441: 
442: 5. Project Structure
443:    - Challenge: Maintaining clean architecture as project grew
444:    - Solution:
445:      - Standardized import paths
446:      - Improved GROQ query organization
447:      - Better feature organization
448:      - Enhanced type safety
449:      - More consistent file structure"
450: 
451: ### 7. Learning Outcomes
452: 
453: "This project taught me several valuable lessons:
454: 
455: - Importance of performance optimization
456: - Benefits of TypeScript in large projects
457: - Value of comprehensive testing
458: - Balance between aesthetics and functionality
459: - Importance of accessibility in modern web development"
460: 
461: ## Common Questions & Answers
462: 
463: ### "What's the most interesting technical challenge you faced?"
464: 
465: "The Matrix animation system was particularly challenging, as evidenced by
466: multiple iterations and improvements throughout the project:
467: 
468: 1. Initial Implementation Challenges
469: 
470:    - Creating smooth canvas animations without impacting performance
471:    - Implementing efficient rendering techniques (commit bcc379b)
472:    - Managing memory usage for long-running animations
473:    - Ensuring consistent frame rates across devices
474: 
475: 2. Mobile Optimization
476: 
477:    - Adding device-specific optimizations (commit 0812552)
478:    - Implementing responsive canvas sizing
479:    - Optimizing for touch devices
480:    - Managing battery life impact
481: 
482: 3. Accessibility Considerations
483: 
484:    - Creating reduced motion alternatives
485:    - Ensuring keyboard navigation support
486:    - Providing screen reader descriptions
487:    - Implementing fallback content
488: 
489: 4. Performance Optimization
490: 
491:    - Refactoring for better modularity (commit ac87f0a)
492:    - Optimizing render cycles
493:    - Implementing efficient state management
494:    - Adding performance monitoring
495: 
496: 5. Testing Challenges
497:    - Creating reliable canvas tests (commit cc7c821)
498:    - Implementing visual regression testing
499:    - Testing across different devices
500:    - Validating accessibility features
501: 
502: This challenge taught me valuable lessons about balancing visual appeal with
503: performance and accessibility, while maintaining clean, testable code."
504: 
505: ### "How did you approach performance optimization?"
506: 
507: "Performance was built into the development process:
508: 
509: - Server Components for data-heavy pages
510: - Image optimization for visual content
511: - Code splitting for faster initial loads
512: - Caching strategies for static content
513: - Regular performance monitoring"
514: 
515: ### "What would you do differently next time?"
516: 
517: "Based on the project's actual evolution, here are the key things I'd
518: implement differently from the start:
519: 
520: 1. Testing Strategy
521: 
522:    - Implement AAA pattern testing from the beginning (added in commit
523:      c48c612)
524:    - Set up Lighthouse CI monitoring earlier (added in commit 4a79a89)
525:    - Add comprehensive error boundary testing sooner (added in commit
526:      75bc7b7)
527:    - Include mobile device testing from start (added in commit 0812552)
528:    - Implement visual regression testing earlier
529: 
530: 2. Architecture & Organization
531: 
532:    - Start with modular Matrix component structure (refactored in commit
533:      bcc379b)
534:    - Use standardized import paths from beginning (added in commit 4ab1ee3)
535:    - Implement Server Components earlier (added in commit 4fa7629)
536:    - Better separation of animation logic (improved over multiple commits)
537:    - More consistent component organization
538: 
539: 3. Type Safety & Validation
540: 
541:    - Start with stricter TypeScript configuration (gradually improved)
542:    - Implement environment validation earlier (added in commit 91bfe1f)
543:    - Add Zod validation from beginning
544:    - Use type-safe GROQ queries from start
545:    - Better error boundary typing (improved in commit 3452cce)
546: 
547: 4. Performance & Monitoring
548: 
549:    - Set up Lighthouse CI at project start (added in commit 60ae483)
550:    - Implement performance budgets earlier
551:    - Add Vercel Speed Insights from beginning
552:    - Better initial code splitting strategy
553:    - Earlier Core Web Vitals monitoring
554: 
555: 5. Documentation & Development
556:    - Document technical decisions as they happen
557:    - Set up component stories earlier (added later in multiple commits)
558:    - Add JSDoc comments from start (added in commit db21a6a)
559:    - Better tracking of architectural changes
560:    - Earlier implementation of development tools"
561: 
562: ### "How do you handle state management?"
563: 
564: "I kept state management simple and effective:
565: 
566: - Server Components for most data fetching
567: - React hooks for local state
568: - Form state with React Hook Form
569: - No complex state management needed"
570: 
571: ### "How do you ensure code quality?"
572: 
573: "Quality is maintained through several practices:
574: 
575: - TypeScript for type safety
576: - ESLint and Prettier for code style
577: - Comprehensive testing strategy
578: - Code review process
579: - Regular performance monitoring"
580: 
581: ## Project Structure
582: 
583: "The project follows a clear organization:
584: 
585: - Components grouped by feature
586: - Shared utilities and hooks
587: - Type definitions
588: - Testing alongside components
589: - Configuration in dedicated files"
590: 
591: ## Development Process
592: 
593: "The development process focused on:
594: 
595: - Feature-based development
596: - Regular performance checks
597: - Comprehensive testing
598: - Accessibility considerations
599: - Continuous deployment"
600: 
601: ## Future Plans
602: 
603: "I have several improvements planned:
604: 
605: - Enhanced caching strategies
606: - More interactive features
607: - Improved mobile experience
608: - Additional animation effects
609: - Better documentation"
610: 
611: ## Key Takeaways
612: 
613: "The main lessons from this project:
614: 
615: 1. Performance is crucial for user experience
616: 2. TypeScript improves code reliability
617: 3. Testing saves time in the long run
618: 4. Accessibility should be built-in
619: 5. Good documentation is essential"
620: 
621: This project demonstrates:
622: 
623: - Modern web development practices
624: - Focus on performance and user experience
625: - Strong technical decision-making
626: - Attention to code quality
627: - Continuous learning and improvement
````

## File: DOCS/README.md
````markdown
  1: # DFWeb v4 - Technical Documentation
  2: 
  3: ## Project Overview
  4: 
  5: DFWeb v4 is a modern portfolio website that demonstrates advanced web
  6: development practices and architectural patterns. Built with Next.js 15, React
  7: 19, TypeScript, and Sanity.io, it showcases several key technical achievements:
  8: 
  9: ### Technical Highlights
 10: 
 11: 1. **Advanced React Patterns**
 12: 
 13:    - Server Components for optimal performance and SEO
 14:    - Custom hooks for shared logic (e.g., useMobile, useNavigation)
 15:    - Error Boundaries with fallback UI strategies
 16:    - Polymorphic components for flexible implementations
 17: 
 18: 2. **Performance Optimizations**
 19: 
 20:    - 100/100 Lighthouse scores across all metrics
 21:    - Efficient code splitting and lazy loading
 22:    - Image optimization with next/image
 23:    - Strategic use of static and dynamic rendering
 24: 
 25: 3. **Type Safety**
 26: 
 27:    - Comprehensive TypeScript implementation
 28:    - Custom type utilities and guards
 29:    - Zod schema validation for runtime safety
 30:    - Type-safe API integrations
 31: 
 32: 4. **Testing Excellence**
 33: 
 34:    - 100% test coverage with Jest and RTL
 35:    - E2E testing with Cypress and Playwright
 36:    - Custom ESLint rules enforcing AAA pattern
 37:    - Automated accessibility testing
 38: 
 39: 5. **Modern UI/UX**
 40:    - Matrix-inspired design with custom animations
 41:    - Responsive layouts with Tailwind CSS
 42:    - Custom cursor effects with trail animations
 43:    - Smooth page transitions and scroll effects
 44: 
 45: ## Core Technologies
 46: 
 47: ### Technical Stack Deep Dive
 48: 
 49: #### Frontend Core
 50: 
 51: - **Next.js 15**
 52: 
 53:   - App Router for enhanced routing control
 54:   - Server Components for improved performance
 55:   - Streaming and Suspense for progressive loading
 56:   - Middleware for request/response manipulation
 57: 
 58: - **React 19**
 59: 
 60:   - Server Components integration
 61:   - Use of latest hooks (useFormStatus, useOptimistic)
 62:   - Custom hooks for business logic
 63:   - Error Boundary implementation
 64: 
 65: - **TypeScript**
 66: 
 67:   - Strict type checking enabled
 68:   - Custom type utilities and guards
 69:   - Generic components implementation
 70:   - Type-safe API integrations
 71: 
 72: - **Motion**
 73: 
 74:   - Custom animation hooks
 75:   - Performance-optimized animations
 76:   - Gesture handling
 77:   - Scroll-based animations
 78: 
 79: - **Tailwind CSS**
 80: 
 81:   - Custom configuration and theming
 82:   - Responsive design implementation
 83:   - Dark mode support
 84:   - Performance optimization
 85: 
 86: - **Sanity.io**
 87:   - Custom schema definitions
 88:   - Type-safe GROQ queries
 89:   - Real-time content updates
 90:   - Image optimization pipeline
 91: 
 92: #### Development & Testing Infrastructure
 93: 
 94: - **Jest & React Testing Library**
 95: 
 96:   - Custom test utilities and helpers
 97:   - Mock implementations for external services
 98:   - Snapshot testing strategies
 99:   - Integration with TypeScript
100: 
101: - **Cypress**
102: 
103:   - Custom commands for common operations
104:   - Accessibility testing integration
105:   - Visual regression testing
106:   - Network request stubbing
107: 
108: - **Playwright**
109: 
110:   - Cross-browser testing setup
111:   - Mobile device emulation
112:   - Performance testing
113:   - Screenshot and video capture
114: 
115: - **ESLint & Prettier**
116: 
117:   - Custom rule configurations
118:   - Git hooks integration
119:   - TypeScript-aware linting
120:   - Automated code formatting
121: 
122: - **Ladle**
123:   - Interactive component documentation
124:   - Visual regression testing
125:   - Accessibility testing
126:   - Performance profiling
127: 
128: ## Project Architecture
129: 
130: ### Directory Structure
131: 
132: ```text
133: src/
134: ├── app/                 # Next.js App Router pages
135: ├── components/          # React components
136: │   ├── Animations/     # Animation components
137: │   ├── CV/            # CV-related components
138: │   ├── ErrorBoundary/ # Error handling
139: │   ├── Index/         # Homepage components
140: │   ├── Kontakt/       # Contact form
141: │   ├── Layout/        # Layout components
142: │   ├── Prosjekter/    # Projects section
143: │   └── UI/            # Reusable UI components
144: ├── config/             # Configuration files
145: ├── e2e/               # End-to-end tests
146: ├── hooks/             # Custom React hooks
147: ├── lib/               # Core libraries
148: ├── stories/           # Component documentation
149: ├── types/             # TypeScript definitions
150: └── utils/             # Utility functions
151: ```
152: 
153: ### Key Features
154: 
155: #### 1. Server Components & Data Fetching
156: 
157: - Server-side rendering for optimal performance
158: - Streaming with Suspense boundaries
159: - Automatic static optimization with revalidation
160: - Type-safe environment variables using envalid
161: 
162: #### 2. Animation System
163: 
164: - Matrix-inspired animations and effects
165: - Custom cursor with matrix trail effect
166: - Page transitions and scroll animations
167: - Motion library integration
168: 
169: #### 3. Form Handling
170: 
171: - React Hook Form with TypeScript
172: - Zod schema validation
173: - Reusable GenericForm component
174: - Email.js integration for contact form
175: 
176: #### 4. Testing Infrastructure
177: 
178: - Jest and React Testing Library for unit tests
179: - Cypress for E2E testing with accessibility checks
180: - Playwright for cross-browser testing
181: - Custom ESLint rules enforcing AAA pattern
182: 
183: #### 5. Error Handling
184: 
185: - Custom ErrorBoundary components
186: - Fallback UI for different error scenarios
187: - Development mode error triggers
188: - Comprehensive error logging
189: 
190: ## Development Practices
191: 
192: ### Testing Standards
193: 
194: All tests must follow the AAA (Arrange-Act-Assert) pattern:
195: 
196: ```typescript
197: describe('Component', () => {
198:   it('should do something', () => {
199:     // Arrange - Set up test data and conditions
200:     const props = {...}
201: 
202:     // Act - Perform the action being tested
203:     render(<Component {...props} />)
204: 
205:     // Assert - Verify the results
206:     expect(...).toBe(...)
207:   })
208: })
209: ```
210: 
211: ### Code Quality
212: 
213: - ESLint configuration with strict rules
214: - Custom ESLint plugin for test patterns
215: - Prettier for consistent formatting
216: - TypeScript strict mode enabled
217: 
218: ### Accessibility
219: 
220: - WCAG compliance testing
221: - Cypress Axe integration
222: - Skip links and ARIA labels
223: - Keyboard navigation support
224: 
225: ### Performance Monitoring
226: 
227: - Lighthouse CI integration
228: - Performance budgets
229: - Automated performance testing
230: - Bundle size monitoring
231: 
232: ## Content Management
233: 
234: ### Sanity.io Integration
235: 
236: - Headless CMS for content
237: - Type-safe queries using GROQ
238: - Image optimization
239: - Real-time content updates
240: 
241: ### Schema Types
242: 
243: - Projects
244: - Categories
245: - Pages
246: - Navigation
247: - CV content
248: 
249: ## Deployment & CI/CD
250: 
251: ### GitHub Actions Workflows
252: 
253: - Cypress tests
254: - Lighthouse CI
255: - CodeQL analysis
256: - Cross-browser testing
257: 
258: ### Environment Variables
259: 
260: Required variables:
261: 
262: ```env
263: # Email Configuration (client-side)
264: NEXT_PUBLIC_EMAIL_API_KEY=user_xxx
265: NEXT_PUBLIC_EMAIL_TEMPLATE_KEY=template_xxx
266: NEXT_PUBLIC_EMAIL_SERVICE_KEY=service_xxx
267: 
268: # AI Configuration (server-side)
269: AI_API_KEY=xxx
270: AI_BASE_URL=xxx
271: MODEL_NAME=claude-3.7-sonnet@anthropic
272: ```
273: 
274: ## Getting Started
275: 
276: ### Prerequisites
277: 
278: - Node.js >= 20.16.0
279: - pnpm (recommended package manager)
280: 
281: ### Development Commands
282: 
283: ```bash
284: # Install dependencies
285: pnpm install
286: 
287: # Development server
288: pnpm dev
289: 
290: # Build
291: pnpm build
292: 
293: # Testing
294: pnpm test              # Run unit tests
295: pnpm cypress:open      # Open Cypress
296: pnpm e2e              # Run E2E tests
297: pnpm test:watch       # Watch mode
298: 
299: # Code Quality
300: pnpm lint             # Run ESLint
301: pnpm format           # Format code
302: 
303: # Performance Testing
304: pnpm lhci             # Run Lighthouse CI
305: pnpm lhci:perf        # Performance testing
306: pnpm lhci:desktop     # Desktop testing
307: 
308: # Component Documentation
309: pnpm ladle            # Start Ladle server
310: ```
311: 
312: ## Best Practices
313: 
314: ### Component Development
315: 
316: 1. Use TypeScript for all new components
317: 2. Include comprehensive tests
318: 3. Document with Ladle stories
319: 4. Ensure accessibility compliance
320: 5. Optimize for performance
321: 
322: ### State Management
323: 
324: 1. Use React hooks for local state
325: 2. Implement context where needed
326: 3. Keep state close to where it's used
327: 4. Avoid prop drilling
328: 
329: ### Error Handling
330: 
331: 1. Use ErrorBoundary components
332: 2. Provide meaningful error messages
333: 3. Include fallback UI
334: 4. Log errors appropriately
335: 
336: ### Performance
337: 
338: 1. Use server components where possible
339: 2. Implement proper caching strategies
340: 3. Optimize images and assets
341: 4. Monitor bundle sizes
342: 
343: ## Future Improvements
344: 
345: See TODO.md for detailed plans including:
346: 
347: 1. Project structure reorganization
348: 2. Enhanced caching strategy
349: 3. Feature-based organization
350: 4. Turbopack integration
351: 5. Additional performance optimizations
352: 
353: ## Contributing
354: 
355: 1. Follow the AAA pattern for tests
356: 2. Ensure accessibility compliance
357: 3. Maintain type safety
358: 4. Update documentation
359: 5. Follow commit message conventions
360: 
361: ## Repository Context File
362: 
363: The `repository_context.txt` file is a merged representation of the entire
364: codebase, combining all repository files into a single document. It is designed
365: to be easily consumable by AI systems for analysis, code review, or other
366: automated processes.
367: 
368: ### Purpose
369: 
370: - **Unified View**: Provides a unified view of the codebase for AI analysis.
371: - **Facilitates Automation**: Assists in code review and automated testing
372:   procedures.
373: - **Important Context**: Contains crucial context and guidelines specific to this
374:   project.
375: 
376: ### Usage Guidelines
377: 
378: - **Read-Only**: Do not edit `repository_context.txt` directly. Make changes in
379:   the original repository files.
380: - **Sensitive Information**: Handle with caution as it may contain sensitive
381:   data.
382: - **File Paths**: Use the file paths within the document to distinguish between
383:   different files in the repository.
384: 
385: ## Additional Resources
386: 
387: - [Next.js Documentation](https://nextjs.org/docs)
388: - [Sanity.io Documentation](https://www.sanity.io/docs)
389: - [Motion Documentation](https://motion.dev/docs)
390: - [Testing Library Documentation](https://testing-library.com/docs/)
````

## File: DOCS/TEST_STRATEGY.md
````markdown
  1: # dfweb-v4 Test Strategy Document
  2: 
  3: ## 1. Introduction
  4: 
  5: This Test Strategy document outlines the testing approach for the dfweb-v4
  6: project. It defines testing objectives, methodology, scope, and resources
  7: required to effectively validate the application quality and ensure alignment
  8: with ISTQB best practices.
  9: 
 10: ## 2. Test Objectives
 11: 
 12: - Ensure all functional requirements are validated across multiple test levels
 13: - Verify the application's performance meets established standards
 14: - Ensure accessibility compliance (WCAG standards)
 15: - Validate cross-browser and responsive design compatibility
 16: - Identify and mitigate potential risks early in development
 17: - Support continuous integration/continuous delivery processes
 18: 
 19: ## 3. Testing Scope
 20: 
 21: ### 3.1 In Scope
 22: 
 23: - Unit testing of React components
 24: - Integration testing of component interactions
 25: - E2E testing of critical user flows
 26: - Performance validation
 27: - Accessibility compliance
 28: - Browser compatibility
 29: - Responsive design verification
 30: 
 31: ### 3.2 Out of Scope
 32: 
 33: - Security penetration testing (to be handled by a specialized team)
 34: - Stress testing beyond established performance thresholds
 35: - Compatibility with unsupported browsers/versions
 36: 
 37: ## 4. Test Approach
 38: 
 39: ### 4.1 Test Levels
 40: 
 41: #### 4.1.1 Unit Testing
 42: 
 43: - **Technology**: Jest with React Testing Library
 44: - **Responsible**: Development team
 45: - **Frequency**: On every code change
 46: - **Coverage Target**: Minimum 80% code coverage for components
 47: - **Focus**: Individual component functionality and rendering
 48: 
 49: #### 4.1.2 Component Testing
 50: 
 51: - **Technology**: Cypress Component Testing
 52: - **Responsible**: Development team
 53: - **Frequency**: For complex components and interactions
 54: - **Focus**: Component behavior in isolation with all dependencies
 55: 
 56: #### 4.1.3 End-to-End Testing
 57: 
 58: - **Technology**: Cypress and Playwright
 59: - **Responsible**: QA team and developers
 60: - **Frequency**: On feature completion and prior to release
 61: - **Focus**: Critical user flows and interactions
 62: 
 63: ### 4.2 Non-Functional Testing
 64: 
 65: #### 4.2.1 Performance Testing
 66: 
 67: - **Technology**: Lighthouse CI
 68: - **Responsible**: QA team
 69: - **Frequency**: Weekly and before releases
 70: - **Metrics**: Performance score > 90, FCP < 1.8s, TTI < 3.8s
 71: 
 72: #### 4.2.2 Accessibility Testing
 73: 
 74: - **Technology**: pa11y, axe-core
 75: - **Responsible**: Development and QA teams
 76: - **Standards**: WCAG 2.1 AA compliance
 77: - **Frequency**: On component development and before releases
 78: 
 79: ## 5. Test Environment
 80: 
 81: - Development: Local environment with Next.js development server
 82: - Testing: Dedicated test environment with mock data
 83: - Staging: Production-like environment with sanitized production data
 84: - Production: Live environment
 85: 
 86: ## 6. Test Automation Strategy
 87: 
 88: ### 6.1 Automation Framework
 89: 
 90: - Unit/Component: Jest, React Testing Library, Cypress Component Testing
 91: - E2E: Cypress, Playwright
 92: - CI Integration: GitHub Actions/Vercel
 93: 
 94: ### 6.2 Automation Guidelines
 95: 
 96: - Tests should be independent and isolated
 97: - Follow AAA pattern (Arrange-Act-Assert)
 98: - Implement proper data setup and teardown
 99: - Avoid UI testing for business logic validation
100: - Prioritize stable selectors (data-testid) over CSS/XPath
101: 
102: ## 7. Test Data Management
103: 
104: ### 7.1 Test Data Sources
105: 
106: - Mock data for unit/component tests
107: - Dynamic data generation for E2E tests
108: - Sanitized production data for staging environment
109: 
110: ### 7.2 Data Maintenance
111: 
112: - Version control for mock data
113: - Automated data reset between test runs
114: - Data isolation between test suites
115: 
116: ## 8. Risk-Based Testing
117: 
118: ### 8.1 Risk Assessment
119: 
120: - Critical user flows (highest priority)
121: - Components with complex state management
122: - Third-party integrations
123: - Browser-specific rendering issues
124: - Performance bottlenecks
125: 
126: ### 8.2 Risk Mitigation
127: 
128: - Increased test coverage for high-risk areas
129: - Exploratory testing for complex interactions
130: - Cross-browser testing for UI components
131: - Performance monitoring in the CI pipeline
132: 
133: ## 9. Roles and Responsibilities
134: 
135: ### 9.1 Development Team
136: 
137: - Implement unit and component tests
138: - Fix defects identified during testing
139: - Collaborate on test automation framework development
140: 
141: ### 9.2 QA Team
142: 
143: - Design and execute test cases
144: - Develop and maintain E2E test suites
145: - Perform exploratory testing
146: - Report and track defects
147: 
148: ### 9.3 DevOps
149: 
150: - Maintain test environments
151: - Configure and maintain CI/CD pipeline
152: - Monitor test execution and reporting
153: 
154: ## 10. Test Deliverables
155: 
156: - Test plan for major features
157: - Automated test scripts
158: - Test execution reports
159: - Defect reports and tracking
160: - Test metrics and dashboards
161: - Performance test results
162: 
163: ## 11. Test Metrics and Reporting
164: 
165: ### 11.1 Key Metrics
166: 
167: - Test case pass/fail ratio
168: - Code coverage percentage
169: - Defect density
170: - Defect leakage to production
171: - Test execution time
172: 
173: ### 11.2 Reporting
174: 
175: - Automated test reports after each build
176: - Weekly test status report
177: - Performance testing results
178: - Accessibility compliance report
179: 
180: ## 12. Defect Management
181: 
182: ### 12.1 Defect Lifecycle
183: 
184: - Identification → Documentation → Assignment → Resolution → Verification → Closure
185: 
186: ### 12.2 Defect Prioritization
187: 
188: - Critical: Blocks functionality, no workaround, affects all users
189: - High: Major functionality issue, workaround exists, affects most users
190: - Medium: Minor functionality issue, affects some users
191: - Low: Cosmetic or enhancement, minimal impact
192: 
193: ## 13. Timeline and Milestones
194: 
195: - Test planning: Complete before sprint planning
196: - Test case design: Concurrent with development
197: - Test execution: Daily as part of CI/CD pipeline
198: - Regression testing: Before each release
199: - Performance testing: Weekly and pre-release
200: - Accessibility audits: Bi-weekly
201: 
202: ## 14. Appendices
203: 
204: ### 14.1 Test Tools
205: 
206: - Jest and React Testing Library
207: - Cypress
208: - Playwright
209: - Lighthouse CI
210: - pa11y and axe-core
211: - GitHub Actions/Vercel deployment
212: 
213: ### 14.2 Reference Documents
214: 
215: - Project requirements
216: - Design specifications
217: - Coding standards
218: - WCAG 2.1 guidelines
219: 
220: ---
221: 
222: _This test strategy is a living document and should be updated as project
223: requirements evolve._
````

## File: DOCS/TODO.md
````markdown
  1: # Next.js 15 Implementation TODO
  2: 
  3: This document outlines suggestions for improvements for implementing Next.js 15
  4: features in our project.
  5: 
  6: ## 1. Project Structure Reorganization
  7: 
  8: ### Current Structure
  9: 
 10: Currently, our project has a flat structure in src/components with separate
 11: folders for different component types. While organized, we can improve the
 12: structure using Next.js 15's recommended patterns.
 13: 
 14: ### Implementation Plan
 15: 
 16: 1. **Create Three Main Zones**
 17: 
 18:    ```text
 19:    src/
 20:    ├── shared/           # Green Zone - Shared code
 21:    │   ├── components/   # Reusable UI components
 22:    │   ├── constants/    # Global constants
 23:    │   ├── types/       # TypeScript types/interfaces
 24:    │   └── utils/       # Utility functions
 25:    │
 26:    ├── navigation/      # Red Zone - Navigation & Data
 27:    │   ├── routes/      # Route configurations
 28:    │   └── data/        # Data fetching functions
 29:    │
 30:    └── features/        # Blue Zone - Feature modules
 31:        ├── cv/
 32:        ├── projects/
 33:        ├── contact/
 34:        └── home/
 35:    ```
 36: 
 37: 2. **Migration Steps**
 38: 
 39:    - Create the new directory structure
 40:    - Move common components (Button, InputField, etc.) to shared/components
 41:    - Organize feature-specific components into respective feature folders
 42:    - Update import paths throughout the project
 43:    - Ensure no circular dependencies between zones
 44: 
 45: 3. **Rules to Follow**
 46:    - Shared (Green) zone: No imports from other zones
 47:    - Navigation (Red) zone: Can import from shared
 48:    - Features (Blue) zone: Can import from shared and navigation
 49:    - No imports between feature modules
 50: 
 51: ## 3. Enhanced Caching Strategy
 52: 
 53: ### Current Caching
 54: 
 55: We currently rely on Next.js's default caching behavior. We can improve
 56: performance with explicit cache controls.
 57: 
 58: ### Caching Implementation Plan
 59: 
 60: 1. **Define Cache Profiles**
 61: 
 62:    ```typescript
 63:    // src/shared/cache/profiles.ts
 64:    export const cacheProfiles = {
 65:      static: {
 66:        revalidate: false,
 67:        tags: ["static"],
 68:      },
 69:      dynamic: {
 70:        revalidate: 3600, // 1 hour
 71:        tags: ["dynamic"],
 72:      },
 73:    };
 74:    ```
 75: 
 76: 2. **Implement Cache Controls**
 77: 
 78:    ```typescript
 79:    // src/features/projects/data.ts
 80:    import { cache } from "react";
 81: 
 82:    export const getProjects = cache(async () => {
 83:      // Fetch projects with caching
 84:      const response = await fetch("/api/projects", {
 85:        next: cacheProfiles.dynamic,
 86:      });
 87:      return response.json();
 88:    });
 89:    ```
 90: 
 91: 3. **Cache Invalidation Strategy**
 92:    - Implement revalidation endpoints
 93:    - Set up cache tags for granular invalidation
 94:    - Configure cache headers properly
 95: 
 96: ## 4. Feature-based Organization
 97: 
 98: ### Current Component Structure
 99: 
100: Components are currently organized by type (UI, Animations, etc.). We'll
101: reorganize by feature for better modularity.
102: 
103: ### Implementation Steps
104: 
105: 1. **Feature Module Structure**
106: 
107:    ```text
108:    src/features/
109:    ├── cv/
110:    │   ├── components/
111:    │   ├── hooks/
112:    │   ├── utils/
113:    │   └── types.ts
114:    ├── projects/
115:    │   ├── components/
116:    │   ├── hooks/
117:    │   ├── utils/
118:    │   └── types.ts
119:    ```
120: 
121: 2. **Migration Process**
122: 
123:    - Create feature directories
124:    - Move related components, hooks, and utilities
125:    - Update imports and dependencies
126:    - Ensure feature isolation
127:    - Update test file locations
128: 
129: 3. **Feature Module Rules**
130:    - Each feature should be self-contained
131:    - Shared functionality goes in shared/
132:    - Feature-specific types in feature/types.ts
133:    - Feature-specific hooks in feature/hooks/
134: 
135: ## 5. Turbopack Integration
136: 
137: ### Current Build Setup
138: 
139: We use the default webpack configuration. Turbopack can significantly improve
140: build times.
141: 
142: ### Turbopack Implementation Steps
143: 
144: 1. **Enable Turbopack**
145: 
146:    ```typescript
147:    // next.config.ts
148:    const config: NextConfig = {
149:      experimental: {
150:        turbo: {
151:          loaders: {
152:            // Configure loaders
153:            ".svg": ["@svgr/webpack"],
154:          },
155:        },
156:      },
157:    };
158:    ```
159: 
160: 2. **Performance Monitoring**
161: 
162:    - Measure build times before and after
163:    - Monitor hot reload performance
164:    - Check for compatibility issues
165:    - Document any workarounds needed
166: 
167: 3. **Fallback Strategy**
168:    - Maintain webpack configuration as fallback
169:    - Document any Turbopack-specific issues
170:    - Create scripts for both build systems
171: 
172: ## Additional Considerations
173: 
174: ### Testing Strategy
175: 
176: - Update test file locations to match new structure
177: - Ensure all server actions are properly tested
178: - Add integration tests for new caching behavior
179: - Maintain current test coverage
180: 
181: ### Documentation
182: 
183: - Update component documentation
184: - Document new folder structure
185: - Create migration guide for team
186: - Update README.md with new architecture
187: 
188: ### Performance Monitoring
189: 
190: - Set up metrics for before/after comparison
191: - Monitor cache hit rates
192: - Track build times
193: - Measure Time to First Byte (TTFB)
194: 
195: ## Migration Timeline
196: 
197: 1. **Phase 1: Project Structure (Week 1-2)**
198: 
199:    - Set up new directory structure
200:    - Move files to new locations
201:    - Update import paths
202:    - Verify all tests pass
203: 
204: 2. **Phase 2: Server Actions (Week 3)**
205: 
206:    - Implement server actions
207:    - Update form handling
208:    - Add validation
209:    - Test new functionality
210: 
211: 3. **Phase 3: Caching (Week 4)**
212: 
213:    - Implement cache profiles
214:    - Update data fetching
215:    - Set up revalidation
216:    - Monitor performance
217: 
218: 4. **Phase 4: Feature Organization (Week 5)**
219: 
220:    - Organize by feature
221:    - Update documentation
222:    - Verify functionality
223:    - Run performance tests
224: 
225: 5. **Phase 5: Turbopack (Week 6)**
226:    - Enable Turbopack
227:    - Monitor performance
228:    - Fix any issues
229:    - Document findings
230: 
231: ## Success Metrics
232: 
233: - Build time reduction of 40%+
234: - Improved lighthouse scores
235: - Reduced TTFB
236: - Maintained or improved test coverage
237: - Successful integration of all Next.js 15 features
238: - Positive developer feedback on new structure
239: 
240: This TODO list serves as a comprehensive guide for implementing Next.js 15
241: features in our project. Each section should be reviewed and adjusted as needed
242: during implementation.
````

## File: public/favicon.svg
````
1: <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" version="1.1" viewBox="0 0 160 145" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421"><path d="M11.142,45.302l45.301,-45.302c14.82,14.819 14.82,38.846 0,53.665l-45.301,45.303c-14.82,-14.82 -14.82,-38.847 0,-53.666l0,0Z" style="fill:#095684;fill-rule:nonzero"/><path d="M56.411,90.635l-14.562,-14.562l-30.74,-30.739c-10.09,10.091 -13.303,24.446 -9.654,37.261c1.712,6.006 4.923,11.676 9.654,16.405l45.302,45.301c14.819,-14.818 14.819,-38.846 0,-53.666l0,0Z" style="fill:#23b99a;fill-rule:nonzero"/><path d="M147.903,45.302l-45.301,-45.302c-14.819,14.819 -14.819,38.846 0,53.665l45.301,45.303c14.82,-14.82 14.82,-38.847 0,-53.666l0,0Z" style="fill:#23b99a;fill-rule:nonzero"/><path d="M102.635,90.635l14.562,-14.562l30.74,-30.739c10.089,10.091 13.302,24.446 9.653,37.261c-1.711,6.006 -4.924,11.676 -9.653,16.405l-45.302,45.301c-14.82,-14.818 -14.82,-38.846 0,-53.666l0,0Z" style="fill:#095684;fill-rule:nonzero"/><path d="M11.141,45.302l45.302,-45.302c14.82,14.819 14.82,38.846 0,53.665l-45.302,45.303c-14.819,-14.82 -14.819,-38.847 0,-53.666l0,0Z" style="fill:#095684;fill-rule:nonzero"/><path d="M56.411,90.635l-14.563,-14.562l-30.739,-30.739c-10.09,10.091 -13.303,24.446 -9.654,37.261c1.712,6.006 4.923,11.676 9.654,16.405l45.302,45.301c14.819,-14.818 14.819,-38.846 -0.001,-53.666l0,0Z" style="fill:#23b99a;fill-rule:nonzero"/><path d="M147.903,45.302l-45.301,-45.302c-14.82,14.819 -14.82,38.846 0,53.665l45.301,45.303c14.82,-14.82 14.82,-38.847 0,-53.666l0,0Z" style="fill:#23b99a;fill-rule:nonzero"/><path d="M102.635,90.635l14.561,-14.562l30.741,-30.739c10.089,10.091 13.302,24.446 9.652,37.261c-1.71,6.006 -4.923,11.676 -9.652,16.405l-45.303,45.301c-14.82,-14.818 -14.82,-38.846 0,-53.666l0,0Z" style="fill:#095684;fill-rule:nonzero"/></svg>
````

## File: public/logo.svg
````
1: <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" aria-label="DFweb logo" data-name="Layer 1" viewBox="0 0 238.48 83.86"><title>Dfweb Logo</title><g id="Layer_1-2" data-name="Layer 1-2"><path fill="#145684" d="M20.5,29.31,46.82,3a22.05,22.05,0,0,1,0,31.19h0L20.5,60.5a22.06,22.06,0,0,1,0-31.19Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#2fb99a" d="M46.81,55.63l-8.49-8.44L20.48,29.33a22,22,0,0,0,0,31.18h0L46.81,86.84a22,22,0,0,0,0-31.18h0Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#2fb99a" d="M100,29.31,73.65,3a22.06,22.06,0,0,0,0,31.19h0L100,60.5a22.05,22.05,0,0,0,0-31.19Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#145684" d="M73.67,55.63l8.46-8.46L100,29.33a22,22,0,0,1,0,31.18h0L73.65,86.84a22,22,0,0,1,0-31.18h0Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#fff" d="M171.11,41.56a10.62,10.62,0,0,1-7,9.85,10.26,10.26,0,0,1-3.3.57h-8V31.16h8a9.78,9.78,0,0,1,5.43,1.63A10.5,10.5,0,0,1,170.05,37,10.18,10.18,0,0,1,171.11,41.56Zm-5.61,0a6.07,6.07,0,0,0-1.2-3.76,5.59,5.59,0,0,0-4.79-2.12h-1.23V47.46h1.23a5.62,5.62,0,0,0,4.79-2.12A6.11,6.11,0,0,0,165.5,41.56Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#fff" d="M186.49,35.68H180v3.55h5.94v4.5H180V52h-5.4V31.16H186.5Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#fff" d="M219.19,31.16,212.55,52H207l-3.79-12.06-4,12.06h-5.5l-6.21-20.82h5.66l3.6,13.45,4.42-13.45h4.31l4.1,13.45,3.93-13.45Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#fff" d="M233.22,52H221.38V31.16h11.84v4.5h-6.43v3.55h6.08v4.5h-6.08v3.72h6.43Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/><path fill="#fff" d="M252.5,46.06a5.47,5.47,0,0,1-1.35,3.8Q249.22,52,245.3,52h-8.65V31.16h8q5.85,0,5.85,5.43a5.22,5.22,0,0,1-.64,2.73,4.39,4.39,0,0,1-1.64,1.59,4.93,4.93,0,0,1,3.4,2A6.05,6.05,0,0,1,252.5,46.06Zm-7-8.75a1.81,1.81,0,0,0-1.27-1.88,4.21,4.21,0,0,0-1.22-.15h-1v4h1a2.54,2.54,0,0,0,2-.69A1.91,1.91,0,0,0,245.54,37.31Zm1.54,8.38a2,2,0,0,0-1.87-2.13,13.73,13.73,0,0,0-2-.09h-1.11v4.39h1.2a6.06,6.06,0,0,0,2.89-.49A1.8,1.8,0,0,0,247.08,45.69Z" aria-label="Logo for DFweb" transform="translate(-14.02 -2.98)"/></g></svg>
````

## File: public/notfound.svg
````
1: <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="860.13137" height="571.14799" viewBox="0 0 860.13137 571.14799" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M605.66974,324.95306c-7.66934-12.68446-16.7572-26.22768-30.98954-30.36953-16.482-4.7965-33.4132,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49238q46.22556-3.1878,92.451-6.37554c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60731,45.371,54.937,114.75409,102.73817,154.61591A1516.99453,1516.99453,0,0,0,605.66974,324.95306Z" transform="translate(-169.93432 -164.42601)" fill="#f2f2f2"/><path d="M867.57068,709.78146c-4.71167-5.94958-6.6369-7.343-11.28457-13.34761q-56.7644-73.41638-106.70791-151.79237-33.92354-53.23-64.48275-108.50439-14.54864-26.2781-28.29961-52.96872-10.67044-20.6952-20.8646-41.63793c-1.94358-3.98782-3.8321-7.99393-5.71122-12.00922-4.42788-9.44232-8.77341-18.93047-13.43943-28.24449-5.31686-10.61572-11.789-21.74485-21.55259-28.877a29.40493,29.40493,0,0,0-15.31855-5.89458c-7.948-.51336-15.28184,2.76855-22.17568,6.35295-50.43859,26.301-97.65922,59.27589-140.3696,96.79771A730.77816,730.77816,0,0,0,303.32241,496.24719c-1.008,1.43927-3.39164.06417-2.37419-1.38422q6.00933-8.49818,12.25681-16.81288A734.817,734.817,0,0,1,500.80465,303.06436q18.24824-11.82581,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37146-3.27274,13.13683-6.21547,20.41563-6.32547,24.7701-.385,37.59539,27.66695,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.0748,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04585,149.78472C870.59617,709.21309,868.662,711.17491,867.57068,709.78146Z" transform="translate(-169.93432 -164.42601)" fill="#e4e4e4"/><path d="M414.91613,355.804c-1.43911-1.60428-2.86927-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11025,57.11025,0,0,0-23.92679-5.54622c-8.56213.02753-16.93178,2.27348-24.84306,5.41792-3.74034,1.49427-7.39831,3.1902-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.09089-21.9606,13.57221-42.54566,29.21623-10.67111,8.11311-20.90174,16.75788-9.51557,8.03054-18.64618,16.492c-1.30169,1.20091-3.24527-.74255-1.94358-1.94347,1.60428-1.49428,3.22691-2.97938,4.84955-4.44613q6.87547-6.21546,13.9712-12.19257,12.93921-10.91827,26.54851-20.99312,21.16293-15.67614,43.78288-29.22541,11.30361-6.76545,22.91829-12.96259c2.33794-1.24675,4.70318-2.466,7.09572-3.6211a113.11578,113.11578,0,0,1,16.86777-6.86632,60.0063,60.0063,0,0,1,25.476-2.50265,66.32706,66.32706,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97,34.90915C418.03337,355.17141,416.09875,357.12405,414.91613,355.804Z" transform="translate(-169.93432 -164.42601)" fill="#e4e4e4"/><path d="M730.47659,486.71092l36.90462-13.498,18.32327-6.70183c5.96758-2.18267,11.92082-4.66747,18.08988-6.23036a28.53871,28.53871,0,0,1,16.37356.20862,37.73753,37.73753,0,0,1,12.771,7.91666,103.63965,103.63965,0,0,1,10.47487,11.18643c3.98932,4.79426,7.91971,9.63877,11.86772,14.46706q24.44136,29.89094,48.56307,60.04134,24.12117,30.14991,47.91981,60.556,23.85681,30.48041,47.38548,61.21573,2.88229,3.76518,5.75966,7.53415c1.0598,1.38809,3.44949.01962,2.37472-1.38808Q983.582,650.9742,959.54931,620.184q-24.09177-30.86383-48.51647-61.46586-24.42421-30.60141-49.17853-60.93743-6.16706-7.55761-12.35445-15.09858c-3.47953-4.24073-6.91983-8.52718-10.73628-12.47427-7.00539-7.24516-15.75772-13.64794-26.23437-13.82166-6.15972-.10214-12.121,1.85248-17.844,3.92287-6.16968,2.232-12.32455,4.50571-18.48633,6.75941l-37.16269,13.59243-9.29067,3.3981c-1.64875.603-.93651,3.2619.73111,2.652Z" transform="translate(-169.93432 -164.42601)" fill="#e4e4e4"/><path d="M366.37741,334.52609c-18.75411-9.63866-42.77137-7.75087-60.00508,4.29119a855.84708,855.84708,0,0,1,97.37056,22.72581C390.4603,353.75916,380.07013,341.5635,366.37741,334.52609Z" transform="translate(-169.93432 -164.42601)" fill="#f2f2f2"/><path d="M306.18775,338.7841l-3.61042,2.93462c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C306.31073,338.80665,306.24935,338.79473,306.18775,338.7841Z" transform="translate(-169.93432 -164.42601)" fill="#f2f2f2"/><path d="M831.54929,486.84576c-3.6328-4.42207-7.56046-9.05222-12.99421-10.84836l-5.07308.20008A575.436,575.436,0,0,0,966.74929,651.418Q899.14929,569.13192,831.54929,486.84576Z" transform="translate(-169.93432 -164.42601)" fill="#f2f2f2"/><path d="M516.08388,450.36652A37.4811,37.4811,0,0,0,531.015,471.32518c2.82017,1.92011,6.15681,3.76209,7.12158,7.03463a8.37858,8.37858,0,0,1-.87362,6.1499,24.88351,24.88351,0,0,1-3.86126,5.04137l-.13667.512c-6.99843-4.14731-13.65641-9.3934-17.52227-16.55115s-4.40553-16.53895.34116-23.14544" transform="translate(-169.93432 -164.42601)" fill="#f2f2f2"/><path d="M749.08388,653.36652A37.4811,37.4811,0,0,0,764.015,674.32518c2.82017,1.92011,6.15681,3.76209,7.12158,7.03463a8.37858,8.37858,0,0,1-.87362,6.1499,24.88351,24.88351,0,0,1-3.86126,5.04137l-.13667.512c-6.99843-4.14731-13.65641-9.3934-17.52227-16.55115s-4.40553-16.53895.34116-23.14544" transform="translate(-169.93432 -164.42601)" fill="#f2f2f2"/><path d="M284.08388,639.36652A37.4811,37.4811,0,0,0,299.015,660.32518c2.82017,1.92011,6.15681,3.76209,7.12158,7.03463a8.37858,8.37858,0,0,1-.87362,6.1499,24.88351,24.88351,0,0,1-3.86126,5.04137l-.13667.512c-6.99843-4.14731-13.65641-9.3934-17.52227-16.55115s-4.40553-16.53895.34116-23.14544" transform="translate(-169.93432 -164.42601)" fill="#f2f2f2"/><circle cx="649.24878" cy="51" r="51" fill="#1f2937"/><path d="M911.21851,176.29639c-24.7168-3.34094-52.93512,10.01868-59.34131,34.12353a21.59653,21.59653,0,0,0-41.09351,2.10871l2.82972,2.02667a372.27461,372.27461,0,0,0,160.65881-.72638C957.07935,195.76,935.93537,179.63727,911.21851,176.29639Z" transform="translate(-169.93432 -164.42601)" fill="#f0f0f0"/><path d="M805.21851,244.29639c-24.7168-3.34094-52.93512,10.01868-59.34131,34.12353a21.59653,21.59653,0,0,0-41.09351,2.10871l2.82972,2.02667a372.27461,372.27461,0,0,0,160.65881-.72638C851.07935,263.76,829.93537,247.63727,805.21851,244.29639Z" transform="translate(-169.93432 -164.42601)" fill="#f0f0f0"/><path d="M1020.94552,257.15423a.98189.98189,0,0,1-.30176-.04688C756.237,173.48919,523.19942,184.42376,374.26388,208.32122c-20.26856,3.251-40.59131,7.00586-60.40381,11.16113-5.05811,1.05957-10.30567,2.19532-15.59668,3.37793-6.31885,1.40723-12.55371,2.85645-18.53223,4.30567q-3.873.917-7.59472,1.84863c-3.75831.92773-7.57178,1.89453-11.65967,2.957-4.56787,1.17774-9.209,2.41309-13.79737,3.67188a.44239.44239,0,0,1-.05127.01465l.00049.001c-5.18261,1.415-10.33789,2.8711-15.32324,4.3252-2.69824.77929-5.30371,1.54785-7.79932,2.30664-.2788.07715-.52587.15136-.77636.22754l-.53614.16308c-.31054.09473-.61718.1875-.92382.27539l-.01953.00586.00048.001-.81152.252c-.96777.293-1.91211.5791-2.84082.86426-24.54492,7.56641-38.03809,12.94922-38.17139,13.00195a1,1,0,1,1-.74414-1.85644c.13428-.05274,13.69336-5.46289,38.32764-13.05762.93213-.28613,1.87891-.57226,2.84961-.86621l.7539-.23438c.02588-.00976.05176-.01757.07813-.02539.30518-.08691.60986-.17968.91943-.27343l.53711-.16309c.26758-.08105.53125-.16113.80127-.23535,2.47852-.75391,5.09278-1.52441,7.79785-2.30664,4.98731-1.45508,10.14746-2.91113,15.334-4.32813.01611-.00586.03271-.00976.04883-.01464v-.001c4.60449-1.2627,9.26269-2.50293,13.84521-3.68457,4.09424-1.06348,7.915-2.03223,11.67969-2.96192q3.73755-.93017,7.60937-1.85253c5.98536-1.45118,12.23291-2.90235,18.563-4.3125,5.29932-1.1836,10.55567-2.32227,15.62207-3.38282,19.84326-4.16211,40.19776-7.92285,60.49707-11.17871C523.09591,182.415,756.46749,171.46282,1021.2463,255.2011a.99974.99974,0,0,1-.30078,1.95313Z" transform="translate(-169.93432 -164.42601)" fill="#ccc"/><path d="M432.92309,584.266a6.72948,6.72948,0,0,0-1.7-2.67,6.42983,6.42983,0,0,0-.92-.71c-2.61-1.74-6.51-2.13-8.99,0a5.81012,5.81012,0,0,0-.69.71q-1.11,1.365-2.28,2.67c-1.28,1.46-2.59,2.87-3.96,4.24-.39.38-.78.77-1.18,1.15-.23.23-.46.45-.69.67-.88.84-1.78,1.65-2.69,2.45-.48.43-.96.85-1.45,1.26-.73.61-1.46,1.22-2.2,1.81-.07.05-.14.1-.21.16-.02.01-.03.03-.05.04-.01,0-.02,0-.03.02a.17861.17861,0,0,0-.07.05c-.22.15-.37.25-.48.34.04-.01995.08-.05.12-.07-.18.14-.37.28-.55.42-1.75,1.29-3.54,2.53-5.37,3.69a99.21022,99.21022,0,0,1-14.22,7.55c-.33.13-.67.27-1.01.4a85.96993,85.96993,0,0,1-40.85,6.02q-2.13008-.165-4.26-.45c-1.64-.24-3.27-.53-4.89-.86a97.93186,97.93186,0,0,1-18.02-5.44,118.65185,118.65185,0,0,1-20.66-12.12c-1-.71-2.01-1.42-3.02-2.11,1.15-2.82,2.28-5.64,3.38-8.48.55-1.37,1.08-2.74,1.6-4.12,4.09-10.63,7.93-21.36,11.61-32.13q5.58-16.365,10.53-32.92.51-1.68.99-3.36,2.595-8.745,4.98-17.53c.15-.56994.31-1.12994.45-1.7q.68994-2.52,1.35-5.04c1-3.79-1.26-8.32-5.24-9.23a7.63441,7.63441,0,0,0-9.22,5.24c-.43,1.62-.86,3.23-1.3,4.85q-3.165,11.74494-6.66,23.41-.51,1.68-1.02,3.36-7.71,25.41-16.93,50.31-1.11,3.015-2.25,6.01c-.37.98-.74,1.96-1.12,2.94-.73,1.93-1.48,3.86-2.23,5.79-.43006,1.13-.87006,2.26-1.31,3.38-.29.71-.57,1.42-.85,2.12a41.80941,41.80941,0,0,0-8.81-2.12l-.48-.06a27.397,27.397,0,0,0-7.01.06,23.91419,23.91419,0,0,0-17.24,10.66c-4.77,7.51-4.71,18.25,1.98,24.63,6.89,6.57,17.32,6.52,25.43,2.41a28.35124,28.35124,0,0,0,10.52-9.86,50.56939,50.56939,0,0,0,2.74-4.65c.21.14.42.28.63.43.8.56,1.6,1.13,2.39,1.69a111.73777,111.73777,0,0,0,14.51,8.91,108.35887,108.35887,0,0,0,34.62,10.47c.27.03.53.07.8.1,1.33.17,2.67.3,4.01.41a103.78229,103.78229,0,0,0,55.58-11.36q2.175-1.125,4.31-2.36,3.315-1.92,6.48-4.08c1.15-.78,2.27-1.57,3.38-2.4a101.04244,101.04244,0,0,0,13.51-11.95q2.35491-2.475,4.51-5.11005a8.0612,8.0612,0,0,0,2.2-5.3A7.5644,7.5644,0,0,0,432.92309,584.266Zm-165.59,23.82c.21-.15.42-.31.62-.47C267.89312,607.766,267.60308,607.936,267.33312,608.086Zm3.21-3.23c-.23.26-.44.52-.67.78a23.36609,23.36609,0,0,1-2.25,2.2c-.11.1-.23.2-.35.29a.00976.00976,0,0,0-.01.01,3.80417,3.80417,0,0,0-.42005.22q-.645.39-1.31994.72a17.00459,17.00459,0,0,1-2.71.75,16.79925,16.79925,0,0,1-2.13.02h-.02a14.82252,14.82252,0,0,1-1.45-.4c-.24-.12-.47-.25994-.7-.4-.09-.08-.17005-.16-.22-.21a2.44015,2.44015,0,0,1-.26995-.29.0098.0098,0,0,0-.01-.01c-.11005-.2-.23005-.4-.34-.6a.031.031,0,0,1-.01-.02c-.08-.25-.15-.51-.21-.77a12.51066,12.51066,0,0,1,.01-1.37,13.4675,13.4675,0,0,1,.54-1.88,11.06776,11.06776,0,0,1,.69-1.26c.02-.04.12-.2.23-.38.01-.01.01-.01.01-.02.15-.17.3-.35.46-.51.27-.3.56-.56.85-.83a18.02212,18.02212,0,0,1,1.75-1.01,19.48061,19.48061,0,0,1,2.93-.79,24.98945,24.98945,0,0,1,4.41.04,30.30134,30.30134,0,0,1,4.1,1.01,36.94452,36.94452,0,0,1-2.77,4.54C270.6231,604.746,270.58312,604.806,270.54308,604.856Zm-11.12-3.29a2.18029,2.18029,0,0,1-.31.38995A1.40868,1.40868,0,0,1,259.42309,601.566Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><path d="M402.86309,482.136q-.13494,4.71-.27,9.42-.285,10.455-.59,20.92-.315,11.775-.66,23.54-.165,6.07507-.34,12.15-.465,16.365-.92,32.72c-.03,1.13-.07,2.25-.1,3.38q-.225,8.11506-.45,16.23-.255,8.805-.5,17.61-.18,6.59994-.37,13.21-1.34994,47.895-2.7,95.79a7.64844,7.64844,0,0,1-7.5,7.5,7.56114,7.56114,0,0,1-7.5-7.5q.75-26.94,1.52-53.88.675-24.36,1.37-48.72.225-8.025.45-16.06.345-12.09.68-24.18c.03-1.13.07-2.25.1-3.38.02-.99.05-1.97.08-2.96q.66-23.475,1.32-46.96.27-9.24.52-18.49.3-10.545.6-21.08c.09-3.09.17005-6.17.26-9.26a7.64844,7.64844,0,0,1,7.5-7.5A7.56116,7.56116,0,0,1,402.86309,482.136Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><path d="M814.29118,484.2172a893.23753,893.23753,0,0,1-28.16112,87.94127c-3.007,7.94641-6.08319,15.877-9.3715,23.71185l.75606-1.7916a54.58274,54.58274,0,0,1-5.58953,10.61184q-.22935.32119-.46685.63642,1.16559-1.49043.4428-.589c-.25405.30065-.5049.60219-.7676.89546a23.66436,23.66436,0,0,1-2.2489,2.20318q-.30139.25767-.61188.5043l.93783-.729c-.10884.25668-.87275.59747-1.11067.74287a18.25362,18.25362,0,0,1-2.40479,1.21853l1.7916-.75606a19.0859,19.0859,0,0,1-4.23122,1.16069l1.9938-.26791a17.02055,17.02055,0,0,1-4.29785.046l1.99379.2679a14.0022,14.0022,0,0,1-3.40493-.917l1.79159.75606a12.01175,12.01175,0,0,1-1.67882-.89614c-.27135-.17688-1.10526-.80852-.01487.02461,1.13336.86595.14562.07434-.08763-.15584-.19427-.19171-.36962-.4-.55974-.595-.88208-.90454.99637,1.55662.39689.49858a18.18179,18.18179,0,0,1-.87827-1.63672l.75606,1.7916a11.92493,11.92493,0,0,1-.728-2.65143l.26791,1.9938a13.65147,13.65147,0,0,1-.00316-3.40491l-.2679,1.9938a15.96371,15.96371,0,0,1,.99486-3.68011l-.75606,1.7916a16.72914,16.72914,0,0,1,1.17794-2.29848,6.72934,6.72934,0,0,1,.72851-1.0714c.04915.01594-1.26865,1.51278-.56937.757.1829-.19767.354-.40592.539-.602.29617-.31382.61354-.60082.92561-.89791,1.04458-.99442-1.46188.966-.25652.17907a19.0489,19.0489,0,0,1,2.74925-1.49923l-1.79159.75606a20.31136,20.31136,0,0,1,4.99523-1.33984l-1.9938.2679a25.62828,25.62828,0,0,1,6.46062.07647l-1.9938-.2679a33.21056,33.21056,0,0,1,7.89178,2.2199l-1.7916-.75606c5.38965,2.31383,10.16308,5.74926,14.928,9.118a111.94962,111.94962,0,0,0,14.50615,8.9065,108.38849,108.38849,0,0,0,34.62226,10.47371,103.93268,103.93268,0,0,0,92.58557-36.75192,8.07773,8.07773,0,0,0,2.1967-5.3033,7.63232,7.63232,0,0,0-2.1967-5.3033c-2.75154-2.52586-7.94926-3.239-10.6066,0a95.63575,95.63575,0,0,1-8.10664,8.72692q-2.01736,1.914-4.14232,3.70983-1.21364,1.02588-2.46086,2.01121c-.3934.31081-1.61863,1.13807.26309-.19744-.43135.30614-.845.64036-1.27058.95478a99.26881,99.26881,0,0,1-20.33215,11.56478l1.79159-.75606a96.8364,96.8364,0,0,1-24.17119,6.62249l1.99379-.2679a97.64308,97.64308,0,0,1-25.75362-.03807l1.99379.2679a99.79982,99.79982,0,0,1-24.857-6.77027l1.7916.75607a116.02515,116.02515,0,0,1-21.7364-12.59112,86.87725,86.87725,0,0,0-11.113-6.99417,42.8238,42.8238,0,0,0-14.43784-4.38851c-9.43884-1.11076-19.0571,2.56562-24.24624,10.72035-4.77557,7.50482-4.71394,18.24362,1.97369,24.62519,6.8877,6.5725,17.31846,6.51693,25.43556,2.40567,7.81741-3.95946,12.51288-12.18539,15.815-19.94186,7.43109-17.45514,14.01023-35.31364,20.1399-53.263q9.09651-26.63712,16.49855-53.81332.91661-3.36581,1.80683-6.73869c1.001-3.78869-1.26094-8.32-5.23829-9.22589a7.63317,7.63317,0,0,0-9.22589,5.23829Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><path d="M889.12382,482.13557l-2.69954,95.79311-2.68548,95.29418-1.5185,53.88362a7.56465,7.56465,0,0,0,7.5,7.5,7.64923,7.64923,0,0,0,7.5-7.5l2.69955-95.79311,2.68548-95.29418,1.51849-53.88362a7.56465,7.56465,0,0,0-7.5-7.5,7.64923,7.64923,0,0,0-7.5,7.5Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><path d="M629.52566,700.36106h2.32885V594.31942h54.32863v-2.32291H631.85451V547.25214H673.8102q-.92256-1.17339-1.89893-2.31694H631.85451V515.38231c-.7703-.32846-1.54659-.64493-2.32885-.9435V544.9352h-45.652V507.07c-.78227.03583-1.55258.08959-2.3289.15527v37.71h-36.4201V516.68409c-.78227.34636-1.55258.71061-2.31694,1.0928V544.9352h-30.6158v2.31694h30.6158v44.74437h-30.6158v2.32291h30.6158V700.36106h2.31694V594.31942a36.41283,36.41283,0,0,1,36.4201,36.42007v69.62157h2.3289V594.31942h45.652Zm-84.401-108.36455V547.25214h36.4201v44.74437Zm38.749,0V547.25214h.91362a44.74135,44.74135,0,0,1,44.73842,44.74437Z" transform="translate(-169.93432 -164.42601)" opacity="0.2"/><path d="M615.30309,668.566a63.05854,63.05854,0,0,1-20.05,33.7c-.74.64-1.48,1.26-2.25,1.87q-2.805.25506-5.57.52c-1.53.14-3.04.29-4.54.43l-.27.03-.19-1.64-.76-6.64a37.623,37.623,0,0,1-3.3-32.44c2.64-7.12,7.42-13.41,12.12-19.65,6.49-8.62,12.8-17.14,13.03-27.65a60.54415,60.54415,0,0,1,7.9,13.33,16.432,16.432,0,0,0-5.12,3.76995c-.41.45-.82,1.08-.54,1.62006.24.46.84.57,1.36.62994,1.25.13,2.51.26,3.76.39,1,.11,2,.21,3,.32a63.99025,63.99025,0,0,1,2.45,12.18A61.18851,61.18851,0,0,1,615.30309,668.566Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><path d="M648.50311,642.356c-5.9,4.29-9.35,10.46-12.03,17.26a16.62776,16.62776,0,0,0-7.17,4.58c-.41.45-.82,1.08-.54,1.62006.24.46.84.57,1.36.62994,1.25.13,2.51.26,3.76.39-2.68,8.04-5.14,16.36-9.88,23.15a36.98942,36.98942,0,0,1-12.03,10.91,38.49166,38.49166,0,0,1-4.02,1.99q-7.62.585-14.95,1.25-2.805.25506-5.57.52c-1.53.14-3.04.29-4.54.43q-.015-.825,0-1.65a63.30382,63.30382,0,0,1,15.25-39.86c.45-.52.91-1.03,1.38-1.54a61.7925,61.7925,0,0,1,16.81-12.7A62.65425,62.65425,0,0,1,648.50311,642.356Z" transform="translate(-169.93432 -164.42601)" fill="#1f2937"/><path d="M589.16308,699.526l-1.15,3.4-.58,1.73c-1.53.14-3.04.29-4.54.43l-.27.03c-1.66.17-3.31.34-4.96.51-.43-.5-.86-1.01-1.28-1.53a62.03045,62.03045,0,0,1,8.07-87.11c-1.32,6.91.22,13.53,2.75,20.1-.27.11-.53.22-.78.34a16.432,16.432,0,0,0-5.12,3.76995c-.41.45-.82,1.08-.54,1.62006.24.46.84.57,1.36.62994,1.25.13,2.51.26,3.76.39,1,.11,2,.21,3,.32q.705.075,1.41.15c.07.15.13.29.2.44,2.85,6.18,5.92,12.39,7.65,18.83a43.66591,43.66591,0,0,1,1.02,4.91A37.604,37.604,0,0,1,589.16308,699.526Z" transform="translate(-169.93432 -164.42601)" fill="#1f2937"/><path d="M689.82123,554.48655c-8.60876-16.79219-21.94605-30.92088-37.63219-41.30357a114.2374,114.2374,0,0,0-52.5626-18.37992q-3.69043-.33535-7.399-.39281c-2.92141-.04371-46.866,12.63176-61.58712,22.98214a114.29462,114.29462,0,0,0-35.333,39.527,102.49972,102.49972,0,0,0-12.12557,51.6334,113.56387,113.56387,0,0,0,14.70268,51.47577,110.47507,110.47507,0,0,0,36.44425,38.74592C549.66655,708.561,565.07375,734.51,583.1831,735.426c18.24576.923,39.05418-23.55495,55.6951-30.98707a104.42533,104.42533,0,0,0,41.72554-34.005,110.24964,110.24964,0,0,0,19.599-48.94777c2.57368-18.08313,1.37415-36.73271-4.80123-54.01627a111.85969,111.85969,0,0,0-5.58024-12.9833c-1.77961-3.50519-6.996-4.7959-10.26142-2.69063a7.67979,7.67979,0,0,0-2.69064,10.26142q1.56766,3.08773,2.91536,6.27758l-.75606-1.7916a101.15088,101.15088,0,0,1,6.87641,25.53816l-.26791-1.99379a109.2286,109.2286,0,0,1-.06613,28.68252l.26791-1.9938a109.73379,109.73379,0,0,1-7.55462,27.67419l.75606-1.79159a104.212,104.212,0,0,1-6.67151,13.09835q-1.92308,3.18563-4.08062,6.22159c-.63172.8881-1.28287,1.761-1.939,2.63114-.85625,1.13555,1.16691-1.48321.28228-.36941-.15068.18972-.30049.3801-.45182.5693q-.68121.85165-1.3818,1.68765a93.61337,93.61337,0,0,1-10.17647,10.38359q-1.36615,1.19232-2.77786,2.33115c-.46871.37832-.932.77269-1.42079,1.12472.01861-.0134,1.57956-1.19945.65556-.511-.2905.21644-.57851.43619-.86961.65184q-2.90994,2.1558-5.97433,4.092a103.48509,103.48509,0,0,1-14.75565,7.7131l1.7916-.75606a109.21493,109.21493,0,0,1-27.59663,7.55154l1.9938-.26791a108.15361,108.15361,0,0,1-28.58907.0506l1.99379.2679a99.835,99.835,0,0,1-25.09531-6.78448l1.79159.75607a93.64314,93.64314,0,0,1-13.41605-6.99094q-3.17437-2-6.18358-4.24743c-.2862-.21359-.56992-.43038-.855-.64549-.9155-.69088.65765.50965.67021.51787a19.16864,19.16864,0,0,1-1.535-1.22469q-1.45353-1.18358-2.86136-2.4218a101.98931,101.98931,0,0,1-10.49319-10.70945q-1.21308-1.43379-2.37407-2.91054c-.33524-.4263-.9465-1.29026.40424.5289-.17775-.23939-.36206-.47414-.54159-.71223q-.64657-.85751-1.27568-1.72793-2.203-3.048-4.18787-6.24586a109.29037,109.29037,0,0,1-7.8054-15.10831l.75606,1.7916a106.58753,106.58753,0,0,1-7.34039-26.837l.26791,1.9938a97.86589,97.86589,0,0,1-.04843-25.63587l-.2679,1.9938A94.673,94.673,0,0,1,505.27587,570.55l-.75606,1.7916a101.55725,101.55725,0,0,1,7.19519-13.85624q2.0655-3.32328,4.37767-6.4847.52528-.71832,1.06244-1.42786c.324-.4279,1.215-1.49333-.30537.38842.14906-.18449.29252-.37428.43942-.56041q1.26882-1.60756,2.59959-3.1649A107.40164,107.40164,0,0,1,530.772,536.21508q1.47408-1.29171,2.99464-2.52906.6909-.56218,1.39108-1.11284c.18664-.14673.37574-.29073.56152-.43858-1.99743,1.58953-.555.43261-.10157.09288q3.13393-2.34833,6.43534-4.46134a103.64393,103.64393,0,0,1,15.38655-8.10791l-1.7916.75606c7.76008-3.25839,42.14086-10.9492,48.394-10.10973l-1.99379-.26791A106.22471,106.22471,0,0,1,628.768,517.419l-1.7916-.75606a110.31334,110.31334,0,0,1,12.6002,6.32922q3.04344,1.78405,5.96742,3.76252,1.38351.93658,2.73809,1.915.677.48917,1.34626.98885c.24789.185.49386.37253.74135.558,1.03924.779-1.43148-1.1281-.34209-.26655a110.84261,110.84261,0,0,1,10.36783,9.2532q2.401,2.445,4.63686,5.04515,1.14659,1.33419,2.24643,2.70757c.36436.45495,1.60506,2.101.08448.08457.37165.49285.74744.98239,1.11436,1.47884a97.97718,97.97718,0,0,1,8.39161,13.53807c1.79317,3.49775,6.98675,4.80186,10.26142,2.69064A7.67666,7.67666,0,0,0,689.82123,554.48655Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><path d="M602.43116,676.88167a3.77983,3.77983,0,0,1-2.73939-6.55137c.09531-.37882.16368-.65085.259-1.02968q-.05115-.12366-.1029-.24717c-3.47987-8.29769-25.685,14.83336-26.645,22.63179a30.029,30.029,0,0,0,.52714,10.32752A120.39223,120.39223,0,0,1,562.77838,652.01a116.20247,116.20247,0,0,1,.72078-12.96332q.59712-5.293,1.65679-10.51055a121.78667,121.78667,0,0,1,24.1515-51.61646c6.87378.38364,12.898-.66348,13.47967-13.98532.10346-2.36972,1.86113-4.42156,2.24841-6.756-.65621.08607-1.32321.13985-1.97941.18285-.20444.0107-.41958.02149-.624.03228l-.07709.00346a3.745,3.745,0,0,1-3.07566-6.10115q.425-.52305.85054-1.04557c.43036-.53793.87143-1.06507,1.30171-1.60292a1.865,1.865,0,0,0,.13986-.16144c.49494-.61322.98971-1.21564,1.48465-1.82885a10.82911,10.82911,0,0,0-3.55014-3.43169c-4.95941-2.90463-11.80146-.89293-15.38389,3.59313-3.59313,4.486-4.27083,10.77947-3.023,16.3843a43.39764,43.39764,0,0,0,6.003,13.3828c-.269.34429-.54872.67779-.81765,1.02209a122.57366,122.57366,0,0,0-12.79359,20.2681c1.0163-7.93863-11.41159-36.60795-16.21776-42.68052-5.773-7.29409-17.61108-4.11077-18.62815,5.13562q-.01476.13428-.02884.26849,1.07082.60411,2.0964,1.28237a5.12707,5.12707,0,0,1-2.06713,9.33031l-.10452.01613c-9.55573,13.64367,21.07745,49.1547,28.74518,41.18139a125.11045,125.11045,0,0,0-6.73449,31.69282,118.66429,118.66429,0,0,0,.08607,19.15986l-.03231-.22593C558.90163,648.154,529.674,627.51374,521.139,629.233c-4.91675.99041-9.75952.76525-9.01293,5.72484q.01788.11874.03635.2375a34.4418,34.4418,0,0,1,3.862,1.86105q1.07082.60423,2.09639,1.28237a5.12712,5.12712,0,0,1-2.06712,9.33039l-.10464.01606c-.07528.01079-.13987.02157-.21507.03237-4.34967,14.96631,27.90735,39.12,47.5177,31.43461h.01081a125.07484,125.07484,0,0,0,8.402,24.52806H601.679c.10765-.3335.20443-.67779.3013-1.01129a34.102,34.102,0,0,1-8.30521-.49477c2.22693-2.73257,4.45377-5.48664,6.6807-8.21913a1.86122,1.86122,0,0,0,.13986-.16135c1.12956-1.39849,2.26992-2.78627,3.39948-4.18476l.00061-.00173a49.95232,49.95232,0,0,0-1.46367-12.72495Zm-34.37066-67.613.0158-.02133-.0158.04282Zm-6.64832,59.93237-.25822-.58084c.01079-.41957.01079-.83914,0-1.26942,0-.11845-.0215-.23672-.0215-.35508.09678.74228.18285,1.48464.29042,2.22692Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><circle cx="95.24878" cy="439" r="11" fill="#3f3d56"/><circle cx="227.24878" cy="559" r="11" fill="#3f3d56"/><circle cx="728.24878" cy="559" r="11" fill="#3f3d56"/><circle cx="755.24878" cy="419" r="11" fill="#3f3d56"/><circle cx="723.24878" cy="317" r="11" fill="#3f3d56"/><path d="M434.1831,583.426a10.949,10.949,0,1,1-.21-2.16A10.9921,10.9921,0,0,1,434.1831,583.426Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><circle cx="484.24878" cy="349" r="11" fill="#3f3d56"/><path d="M545.1831,513.426a10.949,10.949,0,1,1-.21-2.16A10.9921,10.9921,0,0,1,545.1831,513.426Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><path d="M403.1831,481.426a10.949,10.949,0,1,1-.21-2.16A10.9921,10.9921,0,0,1,403.1831,481.426Z" transform="translate(-169.93432 -164.42601)" fill="#3f3d56"/><circle cx="599.24878" cy="443" r="11" fill="#3f3d56"/><circle cx="426.24878" cy="338" r="16" fill="#3f3d56"/><path d="M1028.875,735.26666l-857.75.30733a1.19068,1.19068,0,1,1,0-2.38136l857.75-.30734a1.19069,1.19069,0,0,1,0,2.38137Z" transform="translate(-169.93432 -164.42601)" fill="#cacaca"/></svg>
````

## File: public/robots.txt
````
1: User-agent: *
2: 
3: Allow: /
4: 
5: Disallow: 
6: 
7: Sitemap: https://www.dfweb.no/api/siteMapGenerator
````

## File: src/__mocks__/categories.json
````json
1: [
2:   { "id": 1, "name": "React" },
3:   { "id": 2, "name": "Typescript" },
4:   { "id": 3, "name": "Vue" },
5:   { "id": 4, "name": "PHP" }
6: ]
````

## File: src/__mocks__/framer-client.ts
````typescript
 1: /**
 2:  * Mock for @/lib/framer/client module for use in Ladle stories
 3:  */
 4: import React from "react";
 5: // Create mock components that just render the standard HTML elements
 6: export const MotionDiv: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({
 7:   children,
 8:   ...props
 9: }) => {
10:   return React.createElement(
11:     "div",
12:     {
13:       ...props,
14:       "data-framer-mock": "MotionDiv",
15:     },
16:     children,
17:   );
18: };
19: export const MotionLi: React.FC<React.HTMLAttributes<HTMLLIElement>> = ({
20:   children,
21:   ...props
22: }) => {
23:   return React.createElement(
24:     "li",
25:     {
26:       ...props,
27:       "data-framer-mock": "MotionLi",
28:     },
29:     children,
30:   );
31: };
32: export const MotionUl: React.FC<React.HTMLAttributes<HTMLUListElement>> = ({
33:   children,
34:   ...props
35: }) => {
36:   return React.createElement(
37:     "ul",
38:     {
39:       ...props,
40:       "data-framer-mock": "MotionUl",
41:     },
42:     children,
43:   );
44: };
````

## File: src/__mocks__/hero.json
````json
 1: {
 2:   "content": [
 3:     { " _key": "123", "_type": "herocontent", "text": "Hei!" },
 4:     {
 5:       "_key": "456",
 6:       "_type": "herocontent",
 7:       "text": "Jeg heter Daniel Fjeldstad og er en webutvikler."
 8:     },
 9:     {
10:       "_key": "678",
11:       "_type": "herocontent",
12:       "text": "Jeg kan PHP, Wordpress, Javascript, Typescript, React, Vue, Docker, Photoshop og mye mer."
13:     }
14:   ]
15: }
````

## File: src/__mocks__/links.json
````json
 1: [
 2:   {
 3:     "title": "Home",
 4:     "name": "Hjem",
 5:     "hash": "#hjem",
 6:     "href": "/",
 7:     "externalLink": false
 8:   },
 9:   {
10:     "title": "Prosjekter",
11:     "name": "Prosjekter",
12:     "hash": "#prosjekter",
13:     "href": "/prosjekter",
14:     "externalLink": false
15:   },
16:   {
17:     "title": "CV",
18:     "name": "CV",
19:     "hash": "#cv",
20:     "href": "/cv",
21:     "externalLink": false
22:   },
23:   {
24:     "title": "Github",
25:     "name": "Github",
26:     "hash": "#github",
27:     "href": "https://github.com/w3bdesign",
28:     "externalLink": true
29:   },
30:   {
31:     "title": "Kontakt",
32:     "name": "Kontakt",
33:     "hash": "#kontakt",
34:     "href": "/kontakt",
35:     "externalLink": false
36:   }
37: ]
````

## File: src/__mocks__/motion.ts
````typescript
 1: import React, { ReactNode, ComponentType } from "react";
 2: /**
 3:  * This mocks the 'motion/react' module for Ladle stories
 4:  */
 5: // Define types for the motion component props
 6: type MotionProps = {
 7:   children?: ReactNode;
 8:   className?: string;
 9:   animate?: string | Record<string, unknown>;
10:   initial?: string | Record<string, unknown>;
11:   variants?: Record<string, unknown>;
12:   whileInView?: string | Record<string, unknown>;
13:   viewport?: Record<string, unknown>;
14:   [key: string]: unknown;
15: };
16: const createMotionComponent = (
17:   component = "div",
18: ): ComponentType<MotionProps> => {
19:   const MotionComponent: React.FC<MotionProps> = ({ children, ...props }) => {
20:     // Extract the className from variants if present
21:     const { className = "", animate, whileInView, initial, ...rest } = props;
22:     // Add a class to indicate this is a mocked motion component
23:     const combinedClassName = `${className} mock-motion-component`;
24:     return React.createElement(
25:       component,
26:       {
27:         ...rest,
28:         className: combinedClassName,
29:         "data-mock-motion": true,
30:         "data-mock-initial": initial,
31:         "data-mock-animate": animate,
32:         "data-mock-while-in-view": whileInView,
33:       },
34:       children,
35:     );
36:   };
37:   return MotionComponent;
38: };
39: // Export the mock components
40: export const motion = {
41:   div: createMotionComponent("div"),
42:   span: createMotionComponent("span"),
43:   ul: createMotionComponent("ul"),
44:   li: createMotionComponent("li"),
45:   p: createMotionComponent("p"),
46:   section: createMotionComponent("section"),
47:   nav: createMotionComponent("nav"),
48:   header: createMotionComponent("header"),
49:   footer: createMotionComponent("footer"),
50:   button: createMotionComponent("button"),
51:   a: createMotionComponent("a"),
52: };
53: export const AnimatePresence: React.FC<{ children?: ReactNode }> = ({
54:   children,
55: }) => {
56:   return React.createElement(React.Fragment, null, children);
57: };
58: // Basic animations for use in stories
59: export const useAnimation = () => ({
60:   start: () => Promise.resolve(),
61:   stop: () => Promise.resolve(),
62:   set: () => {},
63: });
64: // Mock variants for animations
65: export type Variants = Record<string, Record<string, unknown>>;
66: const motionMock = { motion, AnimatePresence, useAnimation };
67: export default motionMock;
````

## File: src/__mocks__/next-navigation.ts
````typescript
 1: /**
 2:  * Mock for next/navigation module for use in Ladle stories
 3:  */
 4: let currentPathname = "/";
 5: export const usePathname = () => currentPathname;
 6: // Helper function to change the mock pathname for stories
 7: export const setMockPathname = (path: string) => {
 8:   currentPathname = path;
 9:   return currentPathname;
10: };
11: export const useRouter = () => ({
12:   push: (path: string) => {
13:     currentPathname = path;
14:   },
15:   back: () => {},
16:   forward: () => {},
17: });
18: export const useSearchParams = () => {
19:   return {
20:     get: () => null,
21:     getAll: () => [],
22:     has: () => false,
23:     forEach: () => {},
24:     entries: () => [],
25:     keys: () => [],
26:     values: () => [],
27:   };
28: };
````

## File: src/__mocks__/next-sanity.ts
````typescript
1: export const defineQuery = (query: string) => query;
````

## File: src/__mocks__/pagecontent.json
````json
  1: [
  2:   {
  3:     "content": [
  4:       {
  5:         "_key": "1234567",
  6:         "_type": "pagecontent",
  7:         "id": 1,
  8:         "text": [
  9:           {
 10:             "_key": "12",
 11:             "_type": "block",
 12:             "children": [
 13:               {
 14:                 "_key": "78654656",
 15:                 "_type": "span",
 16:                 "marks": ["code"],
 17:                 "text": "Siden 2000 har jeg arbeidet med webdesign og utvikling, og jeg har i nyere tid spesialisert meg på frontendutvikling."
 18:               }
 19:             ],
 20:             "markDefs": [],
 21:             "style": "normal"
 22:           },
 23:           {
 24:             "_key": "34",
 25:             "_type": "block",
 26:             "children": [
 27:               {
 28:                 "_key": "567",
 29:                 "_type": "span",
 30:                 "marks": ["code"],
 31:                 "text": "Jeg har erfaring med WordPress og WooCommerce siden 2011 hvor jeg har arbeidet frilans via Fiverr og kan skilte med 100% positiv tilbakemelding på samtlige oppdrag."
 32:               }
 33:             ],
 34:             "markDefs": [],
 35:             "style": "normal"
 36:           },
 37:           {
 38:             "_key": "123434344",
 39:             "_type": "block",
 40:             "children": [
 41:               {
 42:                 "_key": "8744567556",
 43:                 "_type": "span",
 44:                 "marks": ["code"],
 45:                 "text": "Jeg har også erfaring med andre teknologier som moderne Javascript (ES6+), Typescript, React, Vue.js, PHP, mySQL,  Gatsby, Next.js, Docker, GraphQL, Adobe Photoshop, Storybook, Bootstrap med mer."
 46:               }
 47:             ],
 48:             "markDefs": [],
 49:             "style": "normal"
 50:           }
 51:         ],
 52:         "title": "Om Meg"
 53:       },
 54:       {
 55:         "_key": "554433",
 56:         "_type": "pagecontent",
 57:         "id": 2,
 58:         "text": [
 59:           {
 60:             "_key": "34654",
 61:             "_type": "block",
 62:             "children": [
 63:               {
 64:                 "_key": "347875465",
 65:                 "_type": "span",
 66:                 "marks": ["code"],
 67:                 "text": "Jeg arbeider jevnlig med hobbyprosjekter, primært med fokus på Javascript og Typescript."
 68:               }
 69:             ],
 70:             "markDefs": [],
 71:             "style": "normal"
 72:           },
 73:           {
 74:             "_key": "23544",
 75:             "_type": "block",
 76:             "children": [
 77:               {
 78:                 "_key": "34432",
 79:                 "_type": "span",
 80:                 "marks": ["code"],
 81:                 "text": "Kildekoden publiserer jeg på "
 82:               },
 83:               {
 84:                 "_key": "3343246",
 85:                 "_type": "span",
 86:                 "marks": ["code", "cdacd3f8961a"],
 87:                 "text": "GITHUB"
 88:               },
 89:               {
 90:                 "_key": "8654",
 91:                 "_type": "span",
 92:                 "marks": ["code"],
 93:                 "text": "."
 94:               }
 95:             ],
 96:             "markDefs": [
 97:               {
 98:                 "_key": "24341111",
 99:                 "_type": "link",
100:                 "href": "https://www.github.com/w3bdesign"
101:               }
102:             ],
103:             "style": "normal"
104:           },
105:           {
106:             "_key": "235788",
107:             "_type": "block",
108:             "children": [
109:               {
110:                 "_key": "85323",
111:                 "_type": "span",
112:                 "marks": ["code"],
113:                 "text": "På "
114:               },
115:               {
116:                 "_key": "46755",
117:                 "_type": "span",
118:                 "marks": ["code", "bba1096d8305"],
119:                 "text": "PROSJEKTER"
120:               },
121:               {
122:                 "_key": "77433",
123:                 "_type": "span",
124:                 "marks": ["code"],
125:                 "text": " kan du se eksempler på arbeid jeg har gjort i nyere tid."
126:               }
127:             ],
128:             "markDefs": [
129:               {
130:                 "_key": "2223345",
131:                 "_type": "link",
132:                 "href": "/prosjekter"
133:               }
134:             ],
135:             "style": "normal"
136:           },
137:           {
138:             "_key": "98656",
139:             "_type": "block",
140:             "children": [
141:               {
142:                 "_key": "45322",
143:                 "_type": "span",
144:                 "marks": ["code"],
145:                 "text": "Har også bidratt med utvikling av flere open-source prosjekter på "
146:               },
147:               {
148:                 "_key": "33467776",
149:                 "_type": "span",
150:                 "marks": ["code", "b4f758908e2e"],
151:                 "text": "GITHUB."
152:               }
153:             ],
154:             "markDefs": [
155:               {
156:                 "_key": "3443477",
157:                 "_type": "link",
158:                 "href": "https://www.github.com/w3bdesign"
159:               }
160:             ],
161:             "style": "normal"
162:           },
163:           {
164:             "_key": "422356654",
165:             "_type": "block",
166:             "children": [
167:               {
168:                 "_key": "34576455",
169:                 "_type": "span",
170:                 "marks": [],
171:                 "text": ""
172:               }
173:             ],
174:             "markDefs": [],
175:             "style": "normal"
176:           }
177:         ],
178:         "title": "Prosjekter"
179:       }
180:     ],
181:     "hero": [
182:       {
183:         "_key": "867819",
184:         "_type": "herocontent",
185:         "text": "Hei!"
186:       },
187:       {
188:         "_key": "86345653",
189:         "_type": "herocontent",
190:         "text": "Jeg heter Daniel Fjeldstad og er en webutvikler."
191:       },
192:       {
193:         "_key": "34775653",
194:         "_type": "herocontent",
195:         "text": "Jeg kan PHP, Wordpress, Javascript, Typescript, React, Vue, Docker, Photoshop og mye mer."
196:       }
197:     ],
198:     "id": "15fc8058-09f7-4613-9a4e-bd1295d9085a",
199:     "title": "Hjem"
200:   }
201: ]
````

## File: src/__mocks__/process.ts
````typescript
 1: /**
 2:  * Mock for process.env variables in environments like Ladle
 3:  * where process.env might not be available
 4:  */
 5: // Define the proper TypeScript types
 6: interface ProcessEnv {
 7:   [key: string]: string | undefined;
 8: }
 9: interface Process {
10:   env: ProcessEnv;
11: }
12: // Only add the mock if process is undefined
13: if (typeof window !== "undefined" && typeof process === "undefined") {
14:   (window as Window & { process?: Process }).process = {
15:     env: {
16:       NODE_ENV: "development",
17:       NEXT_PUBLIC_EMAIL_API_KEY: "mock-email-api-key",
18:       NEXT_PUBLIC_EMAIL_TEMPLATE_KEY: "mock-template-key",
19:       NEXT_PUBLIC_EMAIL_SERVICE_KEY: "mock-service-key",
20:     },
21:   };
22: }
23: export {};
````

## File: src/__mocks__/projects.json
````json
 1: [
 2:   {
 3:     "_createdAt": "2022-01-08T21:13:12Z",
 4:     "_id": "01979e3e-997e-49ba-bc1c-19895bb821f1",
 5:     "_rev": "N67YfvFXT61u7WTlVd9kW9",
 6:     "_type": "project",
 7:     "_updatedAt": "2022-01-26T00:21:34Z",
 8:     "category": "Typescript",
 9:     "description": "Henter informasjon fra Statens Vegvesen sitt REST API med en serverless backend som benyttes som proxy. Bruker Parcel bundler og er kodet i Typescript med HTML5 og Materialize for design.",
10:     "id": 7,
11:     "name": "Statens Vegvesen",
12:     "subdescription": "HTML5, Typescript, OOP, Materialize, Parcel, Serverless",
13:     "projectimage": {
14:       "_type": "image",
15:       "asset": {
16:         "_ref": "image-07084afbda1945f7c51ecc173b05f7ae857c14d0-1129x699-png",
17:         "_type": "reference"
18:       }
19:     }
20:   }
21: ]
````

## File: src/__mocks__/react-dom.ts
````typescript
1: const reactDom = jest.requireActual("react-dom");
2: module.exports = {
3:   ...reactDom, // use actual for all non-hook parts
4:   preload: () => {}, // This is a mock function used in testing, so it's intentionally empty.
5:   preconnect: () => {}, // This is a mock function used in testing, so it's intentionally empty.
6:   prefetchDNS: () => {}, // This is a mock function used in testing, so it's intentionally empty.
7: };
````

## File: src/__mocks__/sanity-client.ts
````typescript
 1: export const client = {
 2:   fetch: jest.fn().mockResolvedValue([]),
 3: };
 4: export function urlFor() {
 5:   const imageUrlBuilder = {
 6:     width: () => imageUrlBuilder,
 7:     height: () => imageUrlBuilder,
 8:     fit: () => imageUrlBuilder,
 9:     quality: () => imageUrlBuilder,
10:     auto: () => imageUrlBuilder,
11:     url: () => "/mocked-image-url",
12:   };
13:   return imageUrlBuilder;
14: }
````

## File: src/__mocks__/utils.ts
````typescript
1: // Mock implementation of src/utils
2: export {};
````

## File: src/__tests__/Animations/BounceInScroll.test.tsx
````typescript
  1: import { render, screen } from "@testing-library/react";
  2: import "@testing-library/jest-dom";
  3: import BounceInScroll from "@/components/Animations/BounceInScroll.component";
  4: import React from "react";
  5: // Mock framer-motion
  6: jest.mock("motion/react", () => ({
  7:   motion: {
  8:     div: ({
  9:       children,
 10:       className,
 11:       "data-testid": testId,
 12:     }: {
 13:       children: React.ReactNode;
 14:       className: string;
 15:       "data-testid": string;
 16:     }) => (
 17:       <div className={className} data-testid={testId}>
 18:         {children}
 19:       </div>
 20:     ),
 21:   },
 22:   Variants: {},
 23: }));
 24: describe("BounceInScroll", () => {
 25:   it("renders children content", () => {
 26:     // Arrange
 27:     const testContent = "Test content";
 28:     // Act
 29:     render(
 30:       <BounceInScroll>
 31:         <div>{testContent}</div>
 32:       </BounceInScroll>,
 33:     );
 34:     // Assert
 35:     expect(screen.getByText(testContent)).toBeInTheDocument();
 36:   });
 37:   it("applies custom CSS class", () => {
 38:     // Arrange
 39:     const testClass = "test-class";
 40:     // Act
 41:     render(
 42:       <BounceInScroll cssClass={testClass}>
 43:         <div>Test content</div>
 44:       </BounceInScroll>,
 45:     );
 46:     // Assert
 47:     expect(screen.getByTestId("bounceinscroll")).toHaveClass(testClass);
 48:   });
 49:   it("configures viewport with default amount when viewAmount not provided", () => {
 50:     // Arrange
 51:     const testContent = "Test content";
 52:     // Act
 53:     render(
 54:       <BounceInScroll>
 55:         <div>{testContent}</div>
 56:       </BounceInScroll>,
 57:     );
 58:     // Assert
 59:     const element = screen.getByTestId("bounceinscroll");
 60:     expect(element).toBeInTheDocument();
 61:     expect(screen.getByText(testContent)).toBeInTheDocument();
 62:   });
 63:   it("configures viewport with custom amount when viewAmount provided", () => {
 64:     // Arrange
 65:     const testContent = "Test content";
 66:     const viewAmount = 0.5;
 67:     // Act
 68:     render(
 69:       <BounceInScroll viewAmount={viewAmount}>
 70:         <div>{testContent}</div>
 71:       </BounceInScroll>,
 72:     );
 73:     // Assert
 74:     const element = screen.getByTestId("bounceinscroll");
 75:     expect(element).toBeInTheDocument();
 76:     expect(screen.getByText(testContent)).toBeInTheDocument();
 77:   });
 78:   it("configures for instant animation when instant prop is true", () => {
 79:     // Arrange
 80:     const testContent = "Test content";
 81:     // Act
 82:     render(
 83:       <BounceInScroll instant={true}>
 84:         <div>{testContent}</div>
 85:       </BounceInScroll>,
 86:     );
 87:     // Assert
 88:     const element = screen.getByTestId("bounceinscroll");
 89:     expect(element).toBeInTheDocument();
 90:     expect(screen.getByText(testContent)).toBeInTheDocument();
 91:   });
 92:   it("handles all viewport amount types", () => {
 93:     // Arrange
 94:     const amounts: Array<"some" | "all" | number> = ["some", "all", 0.7];
 95:     const testContent = "Test content";
 96:     amounts.forEach((amount) => {
 97:       // Act
 98:       const { unmount } = render(
 99:         <BounceInScroll viewAmount={amount}>
100:           <div>{testContent}</div>
101:         </BounceInScroll>,
102:       );
103:       // Assert
104:       const element = screen.getByTestId("bounceinscroll");
105:       expect(element).toBeInTheDocument();
106:       expect(screen.getByText(testContent)).toBeInTheDocument();
107:       // Cleanup
108:       unmount();
109:     });
110:   });
111: });
````

## File: src/__tests__/Animations/FadeIn.test.tsx
````typescript
 1: import { render, screen } from "@testing-library/react";
 2: import FadeIn from "@/components/Animations/FadeIn.component";
 3: describe("FadeIn", () => {
 4:   it("renders children correctly", () => {
 5:     // Arrange
 6:     render(
 7:       <FadeIn>
 8:         <div>Test content</div>
 9:       </FadeIn>,
10:     );
11:     // Act
12:     const element = screen.getByText("Test content");
13:     // Assert
14:     expect(element).toBeInTheDocument();
15:   });
16:   it("applies custom className", () => {
17:     // Arrange
18:     render(
19:       <FadeIn className="custom-class" data-testid="fade-in">
20:         <div>Test content</div>
21:       </FadeIn>,
22:     );
23:     // Act
24:     const container = screen.getByTestId("fade-in");
25:     // Assert
26:     expect(container).toHaveClass("custom-class");
27:   });
28:   it("has initial opacity of 0", () => {
29:     // Arrange
30:     render(
31:       <FadeIn data-testid="fade-in">
32:         <div>Test content</div>
33:       </FadeIn>,
34:     );
35:     // Act
36:     const fadeInElement = screen.getByTestId("fade-in");
37:     // Assert
38:     expect(fadeInElement).toHaveStyle({ willChange: "opacity" });
39:   });
40:   it("accepts custom duration", () => {
41:     // Arrange
42:     render(
43:       <FadeIn duration={0.5}>
44:         <div>Test content</div>
45:       </FadeIn>,
46:     );
47:     // Act
48:     const element = screen.getByText("Test content");
49:     // Assert
50:     expect(element).toBeInTheDocument();
51:   });
52:   it("accepts custom delay", () => {
53:     // Arrange
54:     render(
55:       <FadeIn delay={0.2}>
56:         <div>Test content</div>
57:       </FadeIn>,
58:     );
59:     // Act
60:     const element = screen.getByText("Test content");
61:     // Assert
62:     expect(element).toBeInTheDocument();
63:   });
64: });
````

## File: src/__tests__/Animations/FadeInScroll.test.tsx
````typescript
  1: import { render, screen } from "@testing-library/react";
  2: import FadeInScroll from "@/components/Animations/FadeInScroll.component";
  3: import React from "react";
  4: type MotionStyle = React.CSSProperties & {
  5:   willChange?: string;
  6: };
  7: type AnimationProps = {
  8:   opacity?: number;
  9: };
 10: type ViewportProps = {
 11:   once?: boolean;
 12:   amount?: "some" | "all" | number;
 13: };
 14: type TransitionProps = {
 15:   duration?: number;
 16:   ease?: string;
 17: };
 18: // Mock framer-motion
 19: jest.mock("motion/react", () => ({
 20:   motion: {
 21:     div: ({
 22:       children,
 23:       className,
 24:       initial,
 25:       whileInView,
 26:       viewport,
 27:       transition,
 28:       style,
 29:       "data-testid": dataTestId,
 30:     }: {
 31:       children: React.ReactNode;
 32:       className?: string;
 33:       initial?: AnimationProps;
 34:       whileInView?: AnimationProps;
 35:       viewport?: ViewportProps;
 36:       transition?: TransitionProps;
 37:       style?: MotionStyle;
 38:       "data-testid"?: string;
 39:     }) => {
 40:       // Store props in data attributes for testing
 41:       return (
 42:         <div
 43:           className={className}
 44:           style={style}
 45:           data-initial={JSON.stringify(initial)}
 46:           data-while-in-view={JSON.stringify(whileInView)}
 47:           data-viewport={JSON.stringify(viewport)}
 48:           data-transition={JSON.stringify(transition)}
 49:           data-testid={dataTestId}
 50:         >
 51:           {children}
 52:         </div>
 53:       );
 54:     },
 55:   },
 56: }));
 57: describe("FadeInScroll", () => {
 58:   it("renders children correctly", () => {
 59:     // Arrange
 60:     render(
 61:       <FadeInScroll>
 62:         <div>Test content</div>
 63:       </FadeInScroll>,
 64:     );
 65:     // Act
 66:     const element = screen.getByText("Test content");
 67:     // Assert
 68:     expect(element).toBeInTheDocument();
 69:   });
 70:   it("applies custom className", () => {
 71:     // Arrange
 72:     render(
 73:       <FadeInScroll className="custom-class" data-testid="fade-in-scroll">
 74:         <div>Test content</div>
 75:       </FadeInScroll>,
 76:     );
 77:     // Act
 78:     const container = screen.getByTestId("fade-in-scroll");
 79:     // Assert
 80:     expect(container).toHaveClass("custom-class");
 81:   });
 82:   it("has initial opacity of 0", () => {
 83:     // Arrange
 84:     render(
 85:       <FadeInScroll data-testid="fade-in-scroll">
 86:         <div>Test content</div>
 87:       </FadeInScroll>,
 88:     );
 89:     // Act
 90:     const fadeInElement = screen.getByTestId("fade-in-scroll");
 91:     // Assert
 92:     expect(fadeInElement).toHaveStyle({ willChange: "opacity" });
 93:     expect(fadeInElement.getAttribute("data-initial")).toBe('{"opacity":0}');
 94:   });
 95:   it("configures viewport with custom viewAmount", () => {
 96:     // Arrange
 97:     render(
 98:       <FadeInScroll viewAmount={0.5} data-testid="fade-in-scroll">
 99:         <div>Test content</div>
100:       </FadeInScroll>,
101:     );
102:     // Act
103:     const container = screen.getByTestId("fade-in-scroll");
104:     const viewport = JSON.parse(
105:       container?.getAttribute("data-viewport") || "{}",
106:     );
107:     // Assert
108:     expect(viewport.once).toBe(true);
109:     expect(viewport.amount).toBe(0.5);
110:   });
111:   it("uses default viewAmount when not provided", () => {
112:     // Arrange
113:     render(
114:       <FadeInScroll data-testid="fade-in-scroll">
115:         <div>Test content</div>
116:       </FadeInScroll>,
117:     );
118:     // Act
119:     const container = screen.getByTestId("fade-in-scroll");
120:     const viewport = JSON.parse(
121:       container?.getAttribute("data-viewport") || "{}",
122:     );
123:     // Assert
124:     expect(viewport.once).toBe(true);
125:     expect(viewport.amount).toBe(0.2);
126:   });
127:   it("accepts custom duration", () => {
128:     // Arrange
129:     render(
130:       <FadeInScroll duration={0.8} data-testid="fade-in-scroll">
131:         <div>Test content</div>
132:       </FadeInScroll>,
133:     );
134:     // Act
135:     const container = screen.getByTestId("fade-in-scroll");
136:     const transition = JSON.parse(
137:       container?.getAttribute("data-transition") || "{}",
138:     );
139:     // Assert
140:     expect(transition.duration).toBe(0.8);
141:     expect(transition.ease).toBe("easeOut");
142:   });
143: });
````

## File: src/__tests__/Animations/Grow.test.tsx
````typescript
 1: /**
 2:  * @jest-environment jsdom
 3:  */
 4: import { render, screen } from "@testing-library/react";
 5: import "@testing-library/jest-dom";
 6: import Grow from "@/components/Animations/Grow.component";
 7: describe("Grow", () => {
 8:   describe("with provided props", () => {
 9:     it("renders component with custom animation props", () => {
10:       // Arrange
11:       const expectedTestId = "grow";
12:       render(
13:         <Grow duration={0.3} delay={0.2} easing={[0.42, 0, 0.58, 1]}>
14:           Hello World
15:         </Grow>,
16:       );
17:       // Act
18:       const element = screen.getByTestId(expectedTestId);
19:       // Assert
20:       expect(element).toBeInTheDocument();
21:     });
22:     it("applies initial scale transform animation", () => {
23:       // Arrange
24:       const expectedStyle = { transform: "scale(0)" };
25:       render(
26:         <Grow duration={0.3} delay={0.2} easing={[0.42, 0, 0.58, 1]}>
27:           Hello World
28:         </Grow>,
29:       );
30:       // Act
31:       const element = screen.getByTestId("grow");
32:       // Assert
33:       expect(element).toHaveStyle(expectedStyle);
34:     });
35:     it("renders children content", () => {
36:       // Arrange
37:       const expectedContent = "Hello World";
38:       render(
39:         <Grow duration={0.3} delay={0.2} easing={[0.42, 0, 0.58, 1]}>
40:           Hello World
41:         </Grow>,
42:       );
43:       // Act
44:       const content = screen.getByText(expectedContent);
45:       // Assert
46:       expect(content).toBeInTheDocument();
47:     });
48:   });
49:   describe("with default props", () => {
50:     it("renders component with default animation values", () => {
51:       // Arrange
52:       const expectedContent = "Default Props Test";
53:       // Act
54:       render(<Grow>{expectedContent}</Grow>);
55:       const element = screen.getByTestId("grow");
56:       const content = screen.getByText(expectedContent);
57:       // Assert
58:       expect(element).toBeInTheDocument();
59:       expect(content).toBeInTheDocument();
60:     });
61:   });
62: });
````

## File: src/__tests__/Animations/Matrix.renderer.test.tsx
````typescript
  1: import { createMatrixRenderer } from "@/components/Animations/Matrix.renderer";
  2: import { RGB, Column } from "@/components/Animations/Matrix.utils";
  3: import "@testing-library/jest-dom";
  4: describe("Matrix Renderer", () => {
  5:   let mockCtx: CanvasRenderingContext2D;
  6:   let mockCanvas: HTMLCanvasElement;
  7:   let columns: Column[];
  8:   const rgbBackground: RGB = { r: 0, g: 0, b: 0 };
  9:   const rgbFont: RGB = { r: 0, g: 255, b: 0 };
 10:   const defaultConfig = {
 11:     maxStackHeight: 20,
 12:     tileSize: 10,
 13:     fadeFactor: 0.5,
 14:     rgbBackground,
 15:     rgbFont,
 16:     glowColor: "#00ff00",
 17:     tileSet: ["A", "B", "C"],
 18:     getRandomInt: (max: number) => 123456789 % max,
 19:   };
 20:   beforeEach(() => {
 21:     mockCtx = {
 22:       fillStyle: "",
 23:       fillRect: jest.fn(),
 24:       fillText: jest.fn(),
 25:       font: "",
 26:       save: jest.fn(),
 27:       restore: jest.fn(),
 28:       shadowColor: "",
 29:       shadowBlur: 0,
 30:     } as unknown as CanvasRenderingContext2D;
 31:     mockCanvas = {
 32:       width: 100,
 33:       height: 100,
 34:     } as unknown as HTMLCanvasElement;
 35:     columns = [
 36:       {
 37:         x: 0,
 38:         stackHeight: 10,
 39:         stackCounter: 5,
 40:       },
 41:     ];
 42:   });
 43:   it("creates a renderer with the provided configuration", () => {
 44:     // Act
 45:     const view = createMatrixRenderer({
 46:       ctx: mockCtx,
 47:       canvas: mockCanvas,
 48:       columns,
 49:       ...defaultConfig,
 50:     });
 51:     // Assert
 52:     expect(typeof view.draw).toBe("function");
 53:   });
 54:   it("draws background with correct settings", () => {
 55:     // Arrange
 56:     const view = createMatrixRenderer({
 57:       ctx: mockCtx,
 58:       canvas: mockCanvas,
 59:       columns,
 60:       ...defaultConfig,
 61:     });
 62:     const expectedFont = "8px monospace";
 63:     // Act
 64:     view.draw();
 65:     // Assert
 66:     // The fillStyle should be set to the font color after drawing is complete
 67:     // since that's the last operation
 68:     expect(mockCtx.fillRect).toHaveBeenCalledWith(0, 0, 100, 100);
 69:     expect(mockCtx.font).toBe(expectedFont);
 70:     expect(mockCtx.fillStyle).toBe(
 71:       `rgb(${rgbFont.r}, ${rgbFont.g}, ${rgbFont.b})`,
 72:     );
 73:   });
 74:   it("draws columns with characters", () => {
 75:     // Arrange
 76:     const view = createMatrixRenderer({
 77:       ctx: mockCtx,
 78:       canvas: mockCanvas,
 79:       columns,
 80:       ...defaultConfig,
 81:     });
 82:     // Act
 83:     view.draw();
 84:     // Assert
 85:     expect(mockCtx.fillText).toHaveBeenCalled();
 86:   });
 87:   it("applies glow effect when drawing the last character in stack", () => {
 88:     // Arrange
 89:     columns[0].stackCounter = columns[0].stackHeight - 1;
 90:     const view = createMatrixRenderer({
 91:       ctx: mockCtx,
 92:       canvas: mockCanvas,
 93:       columns,
 94:       ...defaultConfig,
 95:     });
 96:     // Act
 97:     view.draw();
 98:     // Assert
 99:     expect(mockCtx.save).toHaveBeenCalled();
100:     expect(mockCtx.restore).toHaveBeenCalled();
101:   });
102:   it("updates column state correctly", () => {
103:     // Arrange
104:     const view = createMatrixRenderer({
105:       ctx: mockCtx,
106:       canvas: mockCanvas,
107:       columns,
108:       ...defaultConfig,
109:     });
110:     const originalStackCounter = columns[0].stackCounter;
111:     // Act
112:     view.draw();
113:     // Assert
114:     expect(columns[0].stackCounter).toBe(originalStackCounter + 1);
115:   });
116:   it("resets column when reaching stack height", () => {
117:     // Arrange
118:     columns[0].stackCounter = columns[0].stackHeight - 1;
119:     const view = createMatrixRenderer({
120:       ctx: mockCtx,
121:       canvas: mockCanvas,
122:       columns,
123:       ...defaultConfig,
124:     });
125:     const expectedNewStackHeight = 19; // 10 + (123456789 % 20)
126:     // Act
127:     view.draw();
128:     // Assert
129:     expect(columns[0].stackCounter).toBe(0);
130:     expect(columns[0].stackHeight).toBe(expectedNewStackHeight);
131:   });
132:   it("applies glow effect to the last character", () => {
133:     // Arrange
134:     columns[0].stackCounter = columns[0].stackHeight - 1;
135:     const view = createMatrixRenderer({
136:       ctx: mockCtx,
137:       canvas: mockCanvas,
138:       columns,
139:       ...defaultConfig,
140:     });
141:     // Act
142:     view.draw();
143:     // Assert
144:     expect(mockCtx.save).toHaveBeenCalled();
145:     expect(mockCtx.shadowColor).toBe("#00ff00");
146:     expect(mockCtx.shadowBlur).toBe(10);
147:     expect(mockCtx.restore).toHaveBeenCalled();
148:   });
149:   it("skips drawing for columns with negative stack counter", () => {
150:     // Arrange
151:     columns[0].stackCounter = -1;
152:     const view = createMatrixRenderer({
153:       ctx: mockCtx,
154:       canvas: mockCanvas,
155:       columns,
156:       ...defaultConfig,
157:     });
158:     // Act
159:     view.draw();
160:     // Assert
161:     expect(mockCtx.fillText).not.toHaveBeenCalled();
162:   });
163: });
````

## File: src/__tests__/Animations/Matrix.test.tsx
````typescript
  1: import React from "react";
  2: import { render, screen } from "@testing-library/react";
  3: import "@testing-library/jest-dom";
  4: import ReactMatrixAnimation from "@/components/Animations/Matrix.component";
  5: const mockFillRect = jest.fn();
  6: const mockFillText = jest.fn();
  7: const mock2DContext = {
  8:   fillRect: mockFillRect,
  9:   fillText: mockFillText,
 10:   canvas: document.createElement("canvas"),
 11:   getContextAttributes: () => ({}),
 12:   globalAlpha: 1,
 13:   globalCompositeOperation: "source-over",
 14:   save: jest.fn(),
 15:   restore: jest.fn(),
 16:   font: "",
 17:   fillStyle: "",
 18:   shadowColor: "",
 19:   shadowBlur: 0,
 20: } as unknown as CanvasRenderingContext2D;
 21: const mockBitmapContext = {
 22:   canvas: document.createElement("canvas"),
 23:   transferFromImageBitmap: jest.fn(),
 24: } as unknown as ImageBitmapRenderingContext;
 25: HTMLCanvasElement.prototype.getContext = function (contextId: string) {
 26:   switch (contextId) {
 27:     case "2d":
 28:       return mock2DContext;
 29:     case "bitmaprenderer":
 30:       return mockBitmapContext;
 31:     case "webgl":
 32:     case "webgl2":
 33:       return null;
 34:     default:
 35:       return null;
 36:   }
 37: } as typeof HTMLCanvasElement.prototype.getContext;
 38: jest
 39:   .spyOn(global, "requestAnimationFrame")
 40:   .mockImplementation((cb) => setTimeout(cb, 0));
 41: describe("ReactMatrixAnimation", () => {
 42:   beforeEach(() => {
 43:     jest.useFakeTimers();
 44:     jest
 45:       .spyOn(window, "requestAnimationFrame")
 46:       .mockImplementation((cb) => setTimeout(cb, 0));
 47:   });
 48:   afterEach(() => {
 49:     jest.useRealTimers();
 50:     jest.restoreAllMocks();
 51:   });
 52:   describe("rendering", () => {
 53:     it("renders canvas element with default props", () => {
 54:       // Arrange
 55:       const expectedTestId = "matrix-canvas";
 56:       // Act
 57:       render(<ReactMatrixAnimation />);
 58:       const canvas = screen.getByTestId(expectedTestId);
 59:       // Assert
 60:       expect(canvas).toBeInTheDocument();
 61:       expect(canvas).toHaveStyle({
 62:         width: "100%",
 63:         height: "100%",
 64:       });
 65:     });
 66:     it("renders canvas element with custom props", () => {
 67:       // Arrange
 68:       const customProps = {
 69:         tileSize: 30,
 70:         fadeFactor: 0.7,
 71:         backgroundColor: "#000000",
 72:         fontColor: "#ffffff",
 73:         tileSet: ["A", "B", "C"],
 74:       };
 75:       const expectedTestId = "matrix-canvas";
 76:       // Act
 77:       render(<ReactMatrixAnimation {...customProps} />);
 78:       const canvas = screen.getByTestId(expectedTestId);
 79:       // Assert
 80:       expect(canvas).toBeInTheDocument();
 81:     });
 82:   });
 83:   describe("validation", () => {
 84:     beforeEach(() => {
 85:       // Arrange - Suppress console.error for validation tests
 86:       jest.spyOn(console, "error").mockImplementation(() => {});
 87:     });
 88:     it("throws error for invalid background color", () => {
 89:       // Arrange
 90:       const invalidProps = { backgroundColor: "invalid" };
 91:       const expectedError =
 92:         "Invalid background color. Use a hex value e.g. #030303";
 93:       // Act & Assert
 94:       expect(() => {
 95:         render(<ReactMatrixAnimation {...invalidProps} />);
 96:       }).toThrow(expectedError);
 97:     });
 98:     it("throws error for invalid font color", () => {
 99:       // Arrange
100:       const invalidProps = { fontColor: "invalid" };
101:       const expectedError = "Invalid font color. Use a hex value e.g. #030303";
102:       // Act & Assert
103:       expect(() => {
104:         render(<ReactMatrixAnimation {...invalidProps} />);
105:       }).toThrow(expectedError);
106:     });
107:   });
108: });
````

## File: src/__tests__/Animations/Matrix.utils.test.ts
````typescript
  1: import {
  2:   hexToRgb,
  3:   getRandomInt,
  4:   getRandomCharacter,
  5:   debounce,
  6: } from "@/components/Animations/Matrix.utils";
  7: describe("Matrix Utils", () => {
  8:   describe("hexToRgb", () => {
  9:     it("converts valid hex color to RGB", () => {
 10:       // Arrange
 11:       const hexColors = ["#ff0000", "#00ff00", "#0000ff", "#ffffff"];
 12:       const expectedResults = [
 13:         { r: 255, g: 0, b: 0 },
 14:         { r: 0, g: 255, b: 0 },
 15:         { r: 0, g: 0, b: 255 },
 16:         { r: 255, g: 255, b: 255 },
 17:       ];
 18:       // Act & Assert
 19:       hexColors.forEach((hex, index) => {
 20:         expect(hexToRgb(hex)).toStrictEqual(expectedResults[index]);
 21:       });
 22:     });
 23:     it("returns null for invalid hex colors", () => {
 24:       // Arrange
 25:       const invalidHexColors = ["invalid", "#12", "#1234", "#12345"];
 26:       // Act & Assert
 27:       invalidHexColors.forEach((hex) => {
 28:         expect(hexToRgb(hex)).toBeNull();
 29:       });
 30:     });
 31:   });
 32:   describe("getRandomInt", () => {
 33:     it("returns a random integer within the range", () => {
 34:       // Arrange
 35:       const max = 10;
 36:       const mockGetRandomValues = jest
 37:         .spyOn(window.crypto, "getRandomValues")
 38:         .mockImplementation((array) => {
 39:           if (array instanceof Uint32Array) {
 40:             array[0] = 123456789;
 41:           }
 42:           return array as Uint32Array;
 43:         });
 44:       // Act
 45:       const result = getRandomInt(max);
 46:       // Assert
 47:       expect(result).toBe(9); // 123456789 % 10 = 9
 48:       expect(mockGetRandomValues).toHaveBeenCalledWith(expect.any(Uint32Array));
 49:       // Cleanup
 50:       mockGetRandomValues.mockRestore();
 51:     });
 52:   });
 53:   describe("getRandomCharacter", () => {
 54:     it("returns a character from the provided tileSet", () => {
 55:       // Arrange
 56:       const tileSet = ["A", "B", "C"];
 57:       const mockGetRandomInt = jest.spyOn(Math, "random").mockReturnValue(0.5);
 58:       // Act
 59:       const result = getRandomCharacter(tileSet);
 60:       // Assert
 61:       expect(tileSet).toContain(result);
 62:       mockGetRandomInt.mockRestore();
 63:     });
 64:     it("returns a random ASCII character when tileSet is null", () => {
 65:       // Arrange
 66:       const mockGetRandomInt = jest.spyOn(Math, "random").mockReturnValue(0.5);
 67:       // Act
 68:       const result = getRandomCharacter(null);
 69:       // Assert
 70:       expect(result).toMatch(/^[\x21-\x7E]$/); // ASCII printable characters
 71:       mockGetRandomInt.mockRestore();
 72:     });
 73:     it("returns a random ASCII character when tileSet is empty", () => {
 74:       // Arrange
 75:       const mockGetRandomInt = jest.spyOn(Math, "random").mockReturnValue(0.5);
 76:       // Act
 77:       const result = getRandomCharacter([]);
 78:       // Assert
 79:       expect(result).toMatch(/^[\x21-\x7E]$/); // ASCII printable characters
 80:       mockGetRandomInt.mockRestore();
 81:     });
 82:   });
 83:   describe("debounce", () => {
 84:     beforeEach(() => {
 85:       jest.useFakeTimers();
 86:     });
 87:     afterEach(() => {
 88:       jest.useRealTimers();
 89:     });
 90:     it("debounces function calls", () => {
 91:       // Arrange
 92:       const func = jest.fn();
 93:       const debouncedFunc = debounce(func, 100);
 94:       // Act
 95:       debouncedFunc();
 96:       debouncedFunc();
 97:       debouncedFunc();
 98:       expect(func).not.toHaveBeenCalled();
 99:       jest.runAllTimers();
100:       // Assert
101:       expect(func).toHaveBeenCalledTimes(1);
102:     });
103:     it("calls function with correct arguments", () => {
104:       // Arrange
105:       const func = jest.fn();
106:       const debouncedFunc = debounce(func, 100);
107:       const args = ["test", 123];
108:       // Act
109:       debouncedFunc(...args);
110:       jest.runAllTimers();
111:       // Assert
112:       expect(func).toHaveBeenCalledWith(...args);
113:     });
114:   });
115: });
````

## File: src/__tests__/Animations/MatrixCursor.test.tsx
````typescript
  1: import React, { useRef } from "react";
  2: import { render, fireEvent, screen } from "@testing-library/react";
  3: import "@testing-library/jest-dom";
  4: import MatrixCursor from "@/components/Animations/MatrixCursor.component";
  5: import { useMobile } from "@/hooks/useMobile";
  6: // Mock useMobile hook
  7: jest.mock("@/hooks/useMobile");
  8: const mockUseMobile = useMobile as jest.MockedFunction<typeof useMobile>;
  9: // Wrapper component to provide ref
 10: const TestWrapper = () => {
 11:   const heroRef = useRef<HTMLDivElement>(null);
 12:   return (
 13:     <>
 14:       <div ref={heroRef} data-testid="hero-section" />
 15:       <MatrixCursor heroRef={heroRef} />
 16:     </>
 17:   );
 18: };
 19: describe("MatrixCursor", () => {
 20:   beforeEach(() => {
 21:     // Default to desktop view
 22:     mockUseMobile.mockReturnValue(false);
 23:   });
 24:   afterEach(() => {
 25:     jest.clearAllMocks();
 26:   });
 27:   test("should not render when heroRef is null", () => {
 28:     // Arrange
 29:     const NullRefWrapper = () => {
 30:       const heroRef = useRef<HTMLDivElement>(null);
 31:       // Don't render the div, so heroRef.current will be null
 32:       return <MatrixCursor heroRef={heroRef} />;
 33:     };
 34:     // Act
 35:     render(<NullRefWrapper />);
 36:     // Assert
 37:     expect(screen.queryByTestId("matrix-cursor")).not.toBeInTheDocument();
 38:   });
 39:   test("should not render on mobile devices", () => {
 40:     // Arrange
 41:     mockUseMobile.mockReturnValue(true);
 42:     // Act
 43:     render(<TestWrapper />);
 44:     // Assert
 45:     expect(screen.queryByTestId("matrix-cursor")).not.toBeInTheDocument();
 46:   });
 47:   test("should update cursor position and styles on mousemove", () => {
 48:     // Arrange
 49:     render(<TestWrapper />);
 50:     const heroSection = screen.getByTestId("hero-section");
 51:     const expectedPosition = { x: 100, y: 200 };
 52:     // Act
 53:     fireEvent.mouseEnter(heroSection);
 54:     fireEvent.mouseMove(heroSection, {
 55:       clientX: expectedPosition.x,
 56:       clientY: expectedPosition.y,
 57:     });
 58:     const cursor = screen.getByTestId("matrix-cursor");
 59:     // Assert
 60:     expect(cursor.style.getPropertyValue("--cursor-x")).toBe(
 61:       `${expectedPosition.x}px`,
 62:     );
 63:     expect(cursor.style.getPropertyValue("--cursor-y")).toBe(
 64:       `${expectedPosition.y}px`,
 65:     );
 66:   });
 67:   test("should add matrix-cursor class on mouseenter", () => {
 68:     // Arrange
 69:     render(<TestWrapper />);
 70:     const heroSection = screen.getByTestId("hero-section");
 71:     // Act
 72:     fireEvent.mouseEnter(heroSection);
 73:     const cursor = screen.getByTestId("matrix-cursor");
 74:     // Assert
 75:     expect(cursor).toHaveClass("matrix-cursor");
 76:     expect(heroSection.style.cursor).toBe("none");
 77:   });
 78:   test("should remove matrix-cursor class on mouseleave", () => {
 79:     // Arrange
 80:     render(<TestWrapper />);
 81:     const heroSection = screen.getByTestId("hero-section");
 82:     // Act - First add the class
 83:     fireEvent.mouseEnter(heroSection);
 84:     const cursor = screen.getByTestId("matrix-cursor");
 85:     // Assert initial state
 86:     expect(cursor).toHaveClass("matrix-cursor");
 87:     // Act - Then remove it
 88:     fireEvent.mouseLeave(heroSection);
 89:     // Assert final state
 90:     expect(cursor).not.toHaveClass("matrix-cursor");
 91:     expect(heroSection.style.cursor).toBe("");
 92:   });
 93:   test("should cleanup event listeners and cursor styles on unmount", () => {
 94:     // Arrange
 95:     const { unmount } = render(<TestWrapper />);
 96:     const heroSection = screen.getByTestId("hero-section");
 97:     // Act - Set initial state
 98:     fireEvent.mouseEnter(heroSection);
 99:     // Assert initial state
100:     expect(heroSection.style.cursor).toBe("none");
101:     // Act - Unmount component
102:     unmount();
103:     // Assert cleanup
104:     expect(heroSection.style.cursor).toBe("");
105:   });
106:   test("should create trail elements on mousemove when hovered", () => {
107:     // Arrange
108:     render(<TestWrapper />);
109:     const heroSection = screen.getByTestId("hero-section");
110:     const movePositions = [
111:       { x: 100, y: 100 },
112:       { x: 110, y: 110 },
113:       { x: 120, y: 120 },
114:     ];
115:     // Act - Enable trail creation
116:     fireEvent.mouseEnter(heroSection);
117:     // Act & Assert - Create and verify trails
118:     movePositions.forEach((pos, index) => {
119:       fireEvent.mouseMove(heroSection, { clientX: pos.x, clientY: pos.y });
120:       expect(screen.getAllByTestId("matrix-trail")).toHaveLength(index + 1);
121:     });
122:   });
123:   test("should limit the number of trail elements", () => {
124:     // Arrange
125:     render(<TestWrapper />);
126:     const heroSection = screen.getByTestId("hero-section");
127:     const maxTrails = 20;
128:     const totalMoves = 25;
129:     // Act
130:     fireEvent.mouseEnter(heroSection);
131:     for (let i = 0; i < totalMoves; i++) {
132:       fireEvent.mouseMove(heroSection, { clientX: i * 10, clientY: i * 10 });
133:     }
134:     // Assert
135:     expect(screen.getAllByTestId("matrix-trail").length).toBeLessThanOrEqual(
136:       maxTrails,
137:     );
138:   });
139:   test("should cleanup trail elements on mouseleave", () => {
140:     // Arrange
141:     render(<TestWrapper />);
142:     const heroSection = screen.getByTestId("hero-section");
143:     const trailCount = 5;
144:     // Act - Create trails
145:     fireEvent.mouseEnter(heroSection);
146:     for (let i = 0; i < trailCount; i++) {
147:       fireEvent.mouseMove(heroSection, { clientX: i * 10, clientY: i * 10 });
148:     }
149:     // Assert trails were created
150:     expect(screen.getAllByTestId("matrix-trail").length).toBeGreaterThan(0);
151:     // Act - Leave hero section
152:     fireEvent.mouseLeave(heroSection);
153:     // Assert trails were cleaned up
154:     expect(screen.queryAllByTestId("matrix-trail")).toHaveLength(0);
155:   });
156:   test("should remove trail element when animation ends", () => {
157:     // Arrange
158:     render(<TestWrapper />);
159:     const heroSection = screen.getByTestId("hero-section");
160:     // Act - Create trail
161:     fireEvent.mouseEnter(heroSection);
162:     fireEvent.mouseMove(heroSection, { clientX: 100, clientY: 100 });
163:     // Assert trail was created
164:     const trailElements = screen.getAllByTestId("matrix-trail");
165:     expect(trailElements).toHaveLength(1);
166:     // Act - Trigger animation end
167:     fireEvent.animationEnd(trailElements[0]);
168:     // Assert trail was removed
169:     expect(screen.queryAllByTestId("matrix-trail")).toHaveLength(0);
170:   });
171: });
````

## File: src/__tests__/Animations/RotatingLoader.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen } from "@testing-library/react";
 3: import "@testing-library/jest-dom";
 4: import RotatingLoader from "@/components/Animations/RotatingLoader.component";
 5: describe("RotatingLoader", () => {
 6:   describe("rendering", () => {
 7:     it("renders component structure with correct classes and attributes", () => {
 8:       // Arrange
 9:       const expectedClasses = {
10:         wrapper: "grid min-h-[140px] w-full place-items-center",
11:         svg: "animate-spin",
12:         paths: ["stroke-matrix-dark", "stroke-matrix-light"],
13:       };
14:       // Act
15:       render(<RotatingLoader />);
16:       const wrapperDiv = screen.getByTestId("rotating-loader");
17:       const svg = screen.getByTestId("loader-svg");
18:       const paths = screen.getAllByTestId("loader-path");
19:       // Assert
20:       expect(wrapperDiv).toHaveClass(expectedClasses.wrapper);
21:       expect(svg).toBeInTheDocument();
22:       expect(svg).toHaveClass(expectedClasses.svg);
23:       expect(paths).toHaveLength(2);
24:       expect(paths[0]).toHaveClass(expectedClasses.paths[0]);
25:       expect(paths[1]).toHaveClass(expectedClasses.paths[1]);
26:     });
27:   });
28:   describe("animations", () => {
29:     it("applies correct animation classes", () => {
30:       // Arrange
31:       const expectedAnimations = {
32:         glow: "animate-matrix-glow",
33:         spin: "animate-spin",
34:       };
35:       // Act
36:       render(<RotatingLoader />);
37:       const glowContainer = screen.getByTestId("glow-container");
38:       const svg = screen.getByTestId("loader-svg");
39:       // Assert
40:       expect(glowContainer).toBeInTheDocument();
41:       expect(glowContainer).toHaveClass(expectedAnimations.glow);
42:       expect(svg).toHaveClass(expectedAnimations.spin);
43:     });
44:   });
45: });
````

## File: src/__tests__/Animations/TestAnimation.test.tsx
````typescript
 1: /**
 2:  * @jest-environment jsdom
 3:  */
 4: import React from "react";
 5: import { render, screen } from "@testing-library/react";
 6: import { mockIntersectionObserver } from "jsdom-testing-mocks";
 7: import PageTransition from "@/components/Animations/PageTransition.component";
 8: import FadeDown from "@/components/Animations/FadeDown.component";
 9: import FadeUp from "@/components/Animations/FadeUp.component";
10: import BounceInScroll from "@/components/Animations/BounceInScroll.component";
11: mockIntersectionObserver();
12: type AnimationComponent =
13:   | typeof PageTransition
14:   | typeof FadeDown
15:   | typeof FadeUp
16:   | typeof BounceInScroll;
17: /**
18:  * Reusable tests for animation components.
19:  *
20:  * @param {AnimationComponent} Component - The animation component to test.
21:  * @param {string} testId - The test ID for the component.
22:  * @param {string} expectedAttribute - The expected attribute value for the component.
23:  * @return {void} This function does not return anything.
24:  */
25: function testAnimationComponent(
26:   Component: AnimationComponent,
27:   testId: string,
28:   expectedAttribute: string,
29: ) {
30:   describe(`${Component.name}`, () => {
31:     // Arrange - Set up test data and conditions
32:     const testContent = Component.name;
33:     it(`loads and can be displayed`, () => {
34:       // Arrange - Set up test data and conditions
35:       const expectedTestId = testId;
36:       // Act - Perform the action being tested
37:       render(<Component delay={1}>{testContent}</Component>);
38:       const element = screen.getByTestId(expectedTestId);
39:       expect(element).toBeInTheDocument();
40:     });
41:     it(`Framer motion sets ${expectedAttribute}`, () => {
42:       // Arrange - Set up test data and conditions
43:       const expectedTestId = testId;
44:       // Act - Perform the action being tested
45:       render(<Component delay={1}>{testContent}</Component>);
46:       const element = screen.getByTestId(expectedTestId);
47:       // Assert - Verify the results
48:       expect(element).toContainHTML(expectedAttribute);
49:     });
50:   });
51: }
52: testAnimationComponent(PageTransition, "pagetransition", "opacity: 0");
53: testAnimationComponent(FadeDown, "fadedown", "translateY");
54: testAnimationComponent(FadeUp, "fadeup", "translateY");
55: testAnimationComponent(BounceInScroll, "bounceinscroll", "translateY");
````

## File: src/__tests__/CV/CVContent.test.tsx
````typescript
 1: /**
 2:  * @jest-environment jsdom
 3:  */
 4: import React from "react";
 5: import { render, screen } from "@testing-library/react";
 6: import userEvent from "@testing-library/user-event";
 7: import CVContent from "@/components/CV/CVContent.component";
 8: const mockCVData = {
 9:   keyQualifications: ["Qualification 1", "Qualification 2"],
10:   experience: [
11:     {
12:       period: "2020-2022",
13:       company: "Example Company",
14:       role: "Software Developer",
15:       description: "Worked on various projects",
16:     },
17:   ],
18:   education: [
19:     {
20:       period: "2016-2020",
21:       institution: "University of Example",
22:       degree: "Bachelor in Computer Science",
23:       description: "Studied various aspects of computer science",
24:     },
25:   ],
26:   volunteerWork: [
27:     {
28:       period: "2023-2024",
29:       organization: "AI Community",
30:       role: "Technical Lead",
31:       description: "Managing AI Discord community and developing bots",
32:     },
33:   ],
34: };
35: describe("CVContent", () => {
36:   it("renders CV header and PDF download button", () => {
37:     // Arrange
38:     const expectedElements = {
39:       header: /cv/i,
40:       pdfButton: /last ned pdf/i,
41:     };
42:     // Act
43:     render(<CVContent cvData={mockCVData} />);
44:     // Assert
45:     expect(
46:       screen.getByRole("heading", { name: expectedElements.header }),
47:     ).toBeInTheDocument();
48:     expect(
49:       screen.getByRole("link", { name: expectedElements.pdfButton }),
50:     ).toBeInTheDocument();
51:   });
52:   it("renders all navigation tabs", () => {
53:     // Arrange
54:     const expectedTabs = [
55:       /nøkkelkvalifikasjoner/i,
56:       /erfaring/i,
57:       /utdanning/i,
58:       /frivillig arbeid/i,
59:     ];
60:     // Act
61:     render(<CVContent cvData={mockCVData} />);
62:     // Assert
63:     expectedTabs.forEach((tabName) => {
64:       expect(screen.getByRole("tab", { name: tabName })).toBeInTheDocument();
65:     });
66:   });
67:   it("displays qualifications in initial tab", () => {
68:     // Arrange
69:     const expectedQualification = /qualification 1/i;
70:     // Act
71:     render(<CVContent cvData={mockCVData} />);
72:     // Assert
73:     expect(screen.getByText(expectedQualification)).toBeInTheDocument();
74:   });
75:   it("displays volunteer work content when switching tabs", async () => {
76:     // Arrange
77:     const user = userEvent.setup();
78:     render(<CVContent cvData={mockCVData} />);
79:     const volunteerWorkTab = screen.getByRole("tab", {
80:       name: /frivillig arbeid/i,
81:     });
82:     const expectedContent = {
83:       role: /technical lead/i,
84:       organization: /ai community/i,
85:     };
86:     // Act
87:     await user.click(volunteerWorkTab);
88:     // Assert
89:     expect(await screen.findByText(expectedContent.role)).toBeInTheDocument();
90:     expect(
91:       await screen.findByText(expectedContent.organization),
92:     ).toBeInTheDocument();
93:   });
94: });
````

## File: src/__tests__/CV/EducationTabContent.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen } from "@testing-library/react";
 3: import EducationTabContent from "@/components/CV/EducationTabContent";
 4: describe("EducationTabContent", () => {
 5:   it("renders education items with degree (conditional branch)", () => {
 6:     // Arrange
 7:     const mockEducation = [
 8:       {
 9:         period: "2020-2024",
10:         institution: "University of Technology",
11:         degree: "Bachelor of Computer Science",
12:         description: "Studied computer science fundamentals",
13:       },
14:     ];
15:     // Act
16:     render(<EducationTabContent education={mockEducation} />);
17:     // Assert
18:     expect(
19:       screen.getByText("2020-2024 - University of Technology"),
20:     ).toBeInTheDocument();
21:     expect(
22:       screen.getByText("Bachelor of Computer Science"),
23:     ).toBeInTheDocument();
24:   });
25:   it("renders education items without degree (conditional branch)", () => {
26:     // Arrange
27:     const mockEducation = [
28:       {
29:         period: "2020-2024",
30:         institution: "University of Technology",
31:         description: "Studied computer science fundamentals",
32:         // No degree property to test the conditional
33:       },
34:     ];
35:     // Act
36:     render(<EducationTabContent education={mockEducation} />);
37:     // Assert
38:     expect(
39:       screen.getByText("2020-2024 - University of Technology"),
40:     ).toBeInTheDocument();
41:     expect(
42:       screen.queryByText("Bachelor of Computer Science"),
43:     ).not.toBeInTheDocument();
44:   });
45:   it("renders education items with empty degree (conditional branch)", () => {
46:     // Arrange
47:     const mockEducation = [
48:       {
49:         period: "2020-2024",
50:         institution: "University of Technology",
51:         degree: "", // Empty string to test the conditional
52:         description: "Studied computer science fundamentals",
53:       },
54:     ];
55:     // Act
56:     render(<EducationTabContent education={mockEducation} />);
57:     // Assert
58:     expect(
59:       screen.getByText("2020-2024 - University of Technology"),
60:     ).toBeInTheDocument();
61:     expect(
62:       screen.queryByText("Bachelor of Computer Science"),
63:     ).not.toBeInTheDocument();
64:   });
65:   it("renders with undefined education", () => {
66:     // Act
67:     render(<EducationTabContent />);
68:     // Assert - Should not crash and render empty content
69:     expect(
70:       screen.queryByText("University of Technology"),
71:     ).not.toBeInTheDocument();
72:   });
73:   it("renders with empty education array", () => {
74:     // Act
75:     render(<EducationTabContent education={[]} />);
76:     // Assert - Should not crash and render empty content
77:     expect(
78:       screen.queryByText("University of Technology"),
79:     ).not.toBeInTheDocument();
80:   });
81: });
````

## File: src/__tests__/CV/ExperienceTabContent.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen } from "@testing-library/react";
 3: import ExperienceTabContent from "@/components/CV/ExperienceTabContent";
 4: describe("ExperienceTabContent", () => {
 5:   it("renders experience items with role (conditional branch)", () => {
 6:     // Arrange
 7:     const mockExperience = [
 8:       {
 9:         period: "2022-2024",
10:         company: "Tech Company Inc",
11:         role: "Senior Developer",
12:         description: "Developed web applications",
13:       },
14:     ];
15:     // Act
16:     render(<ExperienceTabContent experience={mockExperience} />);
17:     // Assert
18:     expect(
19:       screen.getByText("2022-2024 - Tech Company Inc"),
20:     ).toBeInTheDocument();
21:     expect(screen.getByText("Senior Developer")).toBeInTheDocument();
22:   });
23:   it("renders experience items without role (conditional branch)", () => {
24:     // Arrange
25:     const mockExperience = [
26:       {
27:         period: "2022-2024",
28:         company: "Tech Company Inc",
29:         description: "Developed web applications",
30:         // No role property to test the conditional
31:       },
32:     ];
33:     // Act
34:     render(<ExperienceTabContent experience={mockExperience} />);
35:     // Assert
36:     expect(
37:       screen.getByText("2022-2024 - Tech Company Inc"),
38:     ).toBeInTheDocument();
39:     expect(screen.queryByText("Senior Developer")).not.toBeInTheDocument();
40:   });
41:   it("renders experience items with empty role (conditional branch)", () => {
42:     // Arrange
43:     const mockExperience = [
44:       {
45:         period: "2022-2024",
46:         company: "Tech Company Inc",
47:         role: "", // Empty string to test the conditional
48:         description: "Developed web applications",
49:       },
50:     ];
51:     // Act
52:     render(<ExperienceTabContent experience={mockExperience} />);
53:     // Assert
54:     expect(
55:       screen.getByText("2022-2024 - Tech Company Inc"),
56:     ).toBeInTheDocument();
57:     expect(screen.queryByText("Senior Developer")).not.toBeInTheDocument();
58:   });
59:   it("renders with undefined experience", () => {
60:     // Act
61:     render(<ExperienceTabContent />);
62:     // Assert - Should not crash and render empty content
63:     expect(screen.queryByText("Tech Company Inc")).not.toBeInTheDocument();
64:   });
65:   it("renders with empty experience array", () => {
66:     // Act
67:     render(<ExperienceTabContent experience={[]} />);
68:     // Assert - Should not crash and render empty content
69:     expect(screen.queryByText("Tech Company Inc")).not.toBeInTheDocument();
70:   });
71: });
````

## File: src/__tests__/ErrorBoundary/ErrorBoundary.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen } from "@testing-library/react";
 3: import "@testing-library/jest-dom";
 4: import ErrorBoundary from "@/components/ErrorBoundary/ErrorBoundary";
 5: describe("ErrorBoundary", () => {
 6:   let consoleErrorSpy: jest.SpyInstance;
 7:   const errorMock = new Error("Dette er en testfeil");
 8:   beforeAll(() => {
 9:     consoleErrorSpy = jest.spyOn(console, "error").mockImplementation(() => {});
10:   });
11:   afterAll(() => {
12:     consoleErrorSpy.mockRestore();
13:   });
14:   it("should render children when there is no error", () => {
15:     // Arrange
16:     const testContent = "Test Innhold";
17:     // Act
18:     render(
19:       <ErrorBoundary>
20:         <div>{testContent}</div>
21:       </ErrorBoundary>,
22:     );
23:     // Assert
24:     expect(screen.getByText(testContent)).toBeInTheDocument();
25:   });
26:   it("should render error fallback when there is an error", () => {
27:     // Arrange
28:     const ErrorComponent = () => {
29:       throw errorMock;
30:     };
31:     const expectedTexts = {
32:       heading: "Har du funnet en feil i Matrix?",
33:       error: "Dette er en testfeil",
34:       button: "Returner til Matrix",
35:     };
36:     // Act
37:     render(
38:       <ErrorBoundary>
39:         <ErrorComponent />
40:       </ErrorBoundary>,
41:     );
42:     // Assert
43:     expect(screen.getByText(expectedTexts.heading)).toBeInTheDocument();
44:     expect(screen.getByText(expectedTexts.error)).toBeInTheDocument();
45:     expect(screen.getByText(expectedTexts.button)).toBeInTheDocument();
46:   });
47:   it("should call console.error when an error occurs", () => {
48:     // Arrange
49:     const ErrorComponent = () => {
50:       throw errorMock;
51:     };
52:     const expectedErrorArgs = [
53:       "Uventet feil i Matrix:",
54:       errorMock,
55:       { componentStack: expect.any(String) },
56:     ];
57:     // Act
58:     render(
59:       <ErrorBoundary>
60:         <ErrorComponent />
61:       </ErrorBoundary>,
62:     );
63:     // Assert
64:     expect(consoleErrorSpy).toHaveBeenCalledWith(...expectedErrorArgs);
65:   });
66: });
````

## File: src/__tests__/ErrorBoundary/ErrorFallback.test.tsx
````typescript
  1: import React from "react";
  2: import { render, screen, fireEvent } from "@testing-library/react";
  3: import "@testing-library/jest-dom";
  4: import ErrorFallback from "@/components/ErrorBoundary/ErrorFallback.component";
  5: // Mock the Matrix component to avoid rendering issues in tests
  6: jest.mock("@/components/Animations/Matrix.component", () => {
  7:   return function DummyMatrix() {
  8:     return <div data-testid="matrix-animation" />;
  9:   };
 10: });
 11: describe("ErrorFallback", () => {
 12:   const mockError = new Error("Test error message");
 13:   beforeEach(() => {
 14:     // Mock window.location.reload
 15:     Object.defineProperty(window, "location", {
 16:       configurable: true,
 17:       value: { reload: jest.fn() },
 18:     });
 19:   });
 20:   it("renders error message and reload button", () => {
 21:     // Arrange
 22:     const expectedTexts = {
 23:       heading: "Har du funnet en feil i Matrix?",
 24:       error: "Test error message",
 25:       button: "Returner til Matrix",
 26:     };
 27:     // Act
 28:     render(<ErrorFallback error={mockError} />);
 29:     // Assert
 30:     expect(screen.getByText(expectedTexts.heading)).toBeInTheDocument();
 31:     expect(screen.getByText(expectedTexts.error)).toBeInTheDocument();
 32:     expect(screen.getByText(expectedTexts.button)).toBeInTheDocument();
 33:   });
 34:   it("displays default error message when error.message is undefined in full version", () => {
 35:     // Arrange
 36:     const errorWithoutMessage = new Error();
 37:     const expectedMessage = "En uventet feil har oppstått.";
 38:     // Act
 39:     render(<ErrorFallback error={errorWithoutMessage} />);
 40:     // Assert
 41:     expect(screen.getByText(expectedMessage)).toBeInTheDocument();
 42:   });
 43:   it("displays default error message when error.message is undefined in compact version", () => {
 44:     // Arrange
 45:     const errorWithoutMessage = new Error();
 46:     const expectedMessage = "En uventet feil har oppstått.";
 47:     // Act
 48:     render(<ErrorFallback error={errorWithoutMessage} compact={true} />);
 49:     // Assert
 50:     expect(screen.getByText(expectedMessage)).toBeInTheDocument();
 51:   });
 52:   it("renders compact version with correct styling", () => {
 53:     // Arrange
 54:     const expectedTexts = {
 55:       heading: "Har du funnet en feil i Matrix?",
 56:       error: "Test error message",
 57:       button: "Returner til Matrix",
 58:     };
 59:     // Act
 60:     render(<ErrorFallback error={mockError} compact={true} />);
 61:     // Assert
 62:     const container = screen.getByTestId("error-fallback-container");
 63:     expect(container).toHaveClass("bg-gray-900");
 64:     expect(container).toHaveClass("p-4");
 65:     expect(container).toHaveClass("rounded-lg");
 66:     expect(container).toHaveClass("overflow-hidden");
 67:     expect(screen.getByText(expectedTexts.heading)).toHaveClass("text-lg");
 68:     expect(screen.getByText(expectedTexts.error)).toHaveClass("text-sm");
 69:     const button = screen.getByRole("button");
 70:     expect(button).toHaveClass("bg-matrix-light");
 71:     expect(button).toHaveClass("text-black");
 72:     expect(button).toHaveClass("rounded-sm");
 73:     expect(button).toHaveClass("text-sm");
 74:   });
 75:   it("renders full version with correct styling", () => {
 76:     // Arrange
 77:     const expectedTexts = {
 78:       heading: "Har du funnet en feil i Matrix?",
 79:       error: "Test error message",
 80:       button: "Returner til Matrix",
 81:     };
 82:     // Act
 83:     render(<ErrorFallback error={mockError} compact={false} />);
 84:     // Assert
 85:     const container = screen.getByTestId("error-fallback-container");
 86:     expect(container).toHaveClass("absolute", "w-full", "h-full");
 87:     expect(screen.getByText(expectedTexts.heading)).toHaveClass("text-5xl");
 88:     expect(screen.getByText(expectedTexts.error)).toHaveClass("text-xl");
 89:   });
 90:   it("reloads the page when reload button is clicked in compact mode", () => {
 91:     // Arrange
 92:     render(<ErrorFallback error={mockError} compact={true} />);
 93:     const reloadButton = screen.getByRole("button", {
 94:       name: "Returner til Matrix",
 95:     });
 96:     // Act
 97:     fireEvent.click(reloadButton);
 98:     // Assert
 99:     expect(window.location.reload).toHaveBeenCalledTimes(1);
100:   });
101:   it("reloads the page when reload button is clicked in full mode", () => {
102:     // Arrange
103:     render(<ErrorFallback error={mockError} compact={false} />);
104:     const reloadButton = screen.getByRole("button", {
105:       name: "Returner til Matrix",
106:     });
107:     // Act
108:     fireEvent.click(reloadButton);
109:     // Assert
110:     expect(window.location.reload).toHaveBeenCalledTimes(1);
111:   });
112: });
````

## File: src/__tests__/Index/fixtures/hero.json
````json
 1: {
 2:   "content": [
 3:     { "_key": "123", "_type": "herocontent", "text": "Hei!" },
 4:     {
 5:       "_key": "456",
 6:       "_type": "herocontent",
 7:       "text": "Jeg heter Daniel Fjeldstad og er en webutvikler."
 8:     },
 9:     {
10:       "_key": "678",
11:       "_type": "herocontent",
12:       "text": "Jeg kan PHP, Wordpress, Javascript, Typescript, React, Vue, Docker, Photoshop og mye mer."
13:     }
14:   ]
15: }
````

## File: src/__tests__/Index/Hero.test.tsx
````typescript
 1: /**
 2:  * @jest-environment jsdom
 3:  */
 4: import { render, screen } from "@testing-library/react";
 5: import "@testing-library/jest-dom";
 6: import Hero from "@/components/Index/Hero.component";
 7: import type { Herocontent } from "@/types/sanity.types";
 8: import heromock from "./fixtures/hero.json";
 9: describe("Hero", () => {
10:   it("Hero loads and displays content from mock", () => {
11:     // Arrange
12:     const mockContent = heromock.content as ({ _key: string } & Herocontent)[];
13:     // Act
14:     render(<Hero content={mockContent} />);
15:     const hero = screen.getByText(/hei!/i);
16:     // Assert
17:     expect(hero).toBeInTheDocument();
18:   });
19:   it("renders default text when content array is empty", () => {
20:     // Arrange
21:     const emptyContent: ({ _key: string } & Herocontent)[] = [];
22:     const expectedText = "Hei!";
23:     // Act
24:     render(<Hero content={emptyContent} />);
25:     const hero = screen.getByText(expectedText);
26:     // Assert
27:     expect(hero).toBeInTheDocument();
28:   });
29: });
````

## File: src/__tests__/Index/Icons.test.tsx
````typescript
 1: /**
 2:  * @jest-environment jsdom
 3:  */
 4: import { render, screen } from "@testing-library/react";
 5: import Icons from "@/components/Index/Icons.component";
 6: interface IconTest {
 7:   name: string;
 8:   selector: () => HTMLElement;
 9: }
10: describe("Icons", () => {
11:   const testCases: IconTest[] = [
12:     { name: "React", selector: () => screen.getByLabelText(/react ikon/i) },
13:     { name: "Vue", selector: () => screen.getByLabelText(/vuejs/i) },
14:     {
15:       name: "TypeScript",
16:       selector: () => screen.getByRole("img", { name: /typescript ikon/i }),
17:     },
18:     {
19:       name: "WordPress",
20:       selector: () => screen.getByRole("img", { name: /wordpress ikon/i }),
21:     },
22:     { name: "PHP", selector: () => screen.getByLabelText(/php ikon/i) },
23:   ];
24:   testCases.forEach(({ name, selector }) => {
25:     it(`renders ${name} icon correctly`, () => {
26:       // Arrange
27:       const expectedIcon = selector;
28:       // Act
29:       render(<Icons />);
30:       const icon = expectedIcon();
31:       // Assert
32:       expect(icon).toBeInTheDocument();
33:     });
34:   });
35: });
````

## File: src/__tests__/Index/IndexContent.test.tsx
````typescript
  1: import React from "react";
  2: import { render, screen } from "@testing-library/react";
  3: import "@testing-library/jest-dom";
  4: import IndexContent from "@/components/Index/IndexContent.component";
  5: import { Page } from "@/types/sanity.types";
  6: interface SectionProps {
  7:   title: string;
  8:   text: Array<{
  9:     _key: string;
 10:     _type: string;
 11:     children: Array<{
 12:       _key: string;
 13:       _type: string;
 14:       marks: string[];
 15:       text: string;
 16:     }>;
 17:     markDefs: unknown[];
 18:     style: string;
 19:   }>;
 20: }
 21: // Mock the Section component
 22: jest.mock("@/components/Index/Section.component", () => {
 23:   return function MockSection({ title, text }: SectionProps) {
 24:     return (
 25:       <div data-testid="mock-section">
 26:         <h2 data-testid="sanity-title">{title}</h2>
 27:         <div data-testid="portable-text">
 28:           {text.map((block) => {
 29:             const { children: spans, _key } = block;
 30:             return (
 31:               <div key={_key}>
 32:                 {spans.map((span) => (
 33:                   <span key={span._key}>{span.text}</span>
 34:                 ))}
 35:               </div>
 36:             );
 37:           })}
 38:         </div>
 39:       </div>
 40:     );
 41:   };
 42: });
 43: const mockContent: Page["content"] = [
 44:   {
 45:     _key: "1",
 46:     _type: "pagecontent",
 47:     title: "Test Title 1",
 48:     text: [
 49:       {
 50:         _key: "a",
 51:         _type: "block",
 52:         children: [
 53:           { _key: "a1", _type: "span", marks: ["bold"], text: "Bold Text" },
 54:           { _key: "a2", _type: "span", marks: [], text: " Normal Text" },
 55:         ],
 56:         markDefs: [],
 57:         style: "normal",
 58:       },
 59:     ],
 60:   },
 61:   {
 62:     _key: "2",
 63:     _type: "pagecontent",
 64:     title: "Test Title 2",
 65:     text: [
 66:       {
 67:         _key: "b",
 68:         _type: "block",
 69:         children: [
 70:           { _key: "b1", _type: "span", marks: ["italic"], text: "Italic Text" },
 71:         ],
 72:         markDefs: [],
 73:         style: "normal",
 74:       },
 75:     ],
 76:   },
 77: ];
 78: describe("IndexContent Component", () => {
 79:   it("renders IndexContent with given content", () => {
 80:     // Arrange
 81:     const expected = {
 82:       sectionCount: 2,
 83:       titles: ["Test Title 1", "Test Title 2"],
 84:       content: ["Bold Text Normal Text", "Italic Text"],
 85:     };
 86:     // Act
 87:     render(<IndexContent pageContent={mockContent} />);
 88:     // Assert
 89:     expected.titles.forEach((title) => {
 90:       expect(screen.getByText(title)).toBeInTheDocument();
 91:     });
 92:     expect(screen.getByText("Bold Text")).toBeInTheDocument();
 93:     expect(screen.getByText("Normal Text")).toBeInTheDocument();
 94:     expect(screen.getByText("Italic Text")).toBeInTheDocument();
 95:   });
 96:   it("throws error when no content is provided", () => {
 97:     // Arrange
 98:     const emptyContent: Page["content"] = [];
 99:     const expectedError = "Ingen innhold tilgjengelig";
100:     // Act & Assert
101:     expect(() => {
102:       render(<IndexContent pageContent={emptyContent} />);
103:     }).toThrow(expectedError);
104:   });
105: });
````

## File: src/__tests__/Index/Section.test.tsx
````typescript
  1: import { render, screen, fireEvent } from "@testing-library/react";
  2: import Section from "@/components/Index/Section.component";
  3: import { Pagecontent } from "@/types/sanity.types";
  4: // Mock IntersectionObserver
  5: const mockIntersectionObserver = jest.fn();
  6: mockIntersectionObserver.mockReturnValue({
  7:   observe: () => null,
  8:   unobserve: () => null,
  9:   disconnect: () => null,
 10: });
 11: window.IntersectionObserver = mockIntersectionObserver;
 12: const mockProps: Pagecontent = {
 13:   _type: "pagecontent",
 14:   title: "Test Title",
 15:   text: [
 16:     {
 17:       _key: "a1",
 18:       _type: "block",
 19:       children: [
 20:         {
 21:           _key: "a1-1",
 22:           _type: "span",
 23:           marks: [],
 24:           text: "Test content",
 25:         },
 26:       ],
 27:       markDefs: [],
 28:       style: "normal",
 29:     },
 30:   ],
 31: };
 32: // Type-safe way to make NODE_ENV writable for tests
 33: type WritableNodeEnv = {
 34:   NODE_ENV?: string;
 35: };
 36: describe("Section Component", () => {
 37:   beforeEach(() => {
 38:     (process.env as WritableNodeEnv).NODE_ENV = "development";
 39:   });
 40:   afterEach(() => {
 41:     // Reset to test environment
 42:     (process.env as WritableNodeEnv).NODE_ENV = "test";
 43:   });
 44:   it("renders with valid props", () => {
 45:     // Arrange
 46:     render(<Section {...mockProps} />);
 47:     // Act
 48:     const title = screen.getByText("Test Title");
 49:     const content = screen.getByText("Test content");
 50:     // Assert
 51:     expect(title).toBeInTheDocument();
 52:     expect(content).toBeInTheDocument();
 53:   });
 54:   describe("error handling for invalid data", () => {
 55:     let consoleErrorSpy: jest.SpyInstance;
 56:     beforeEach(() => {
 57:       consoleErrorSpy = jest
 58:         .spyOn(console, "error")
 59:         .mockImplementation(() => {});
 60:     });
 61:     afterEach(() => {
 62:       consoleErrorSpy.mockRestore();
 63:     });
 64:     // Type for testing invalid props
 65:     type InvalidSectionProps = Omit<Pagecontent, "title" | "text"> & {
 66:       title?: string | null;
 67:       text?: Pagecontent["text"] | null;
 68:     };
 69:     it("returns null and logs error when title is missing", () => {
 70:       // Arrange
 71:       const propsWithoutTitle: InvalidSectionProps = {
 72:         ...mockProps,
 73:         title: undefined,
 74:       };
 75:       // Act
 76:       const { container } = render(
 77:         <Section {...(propsWithoutTitle as Pagecontent)} />,
 78:       );
 79:       // Assert
 80:       expect(container.firstChild).toBeNull();
 81:       expect(consoleErrorSpy).toHaveBeenCalledWith(
 82:         'Ugyldig seksjon data: tittel=undefined, tekst=[{"_key":"a1","_type":"block","children":[{"_key":"a1-1","_type":"span","marks":[],"text":"Test content"}],"markDefs":[],"style":"normal"}]',
 83:       );
 84:     });
 85:     it("returns null and logs error when title is null", () => {
 86:       // Arrange
 87:       const propsWithNullTitle: InvalidSectionProps = {
 88:         ...mockProps,
 89:         title: null,
 90:       };
 91:       // Act
 92:       const { container } = render(
 93:         <Section {...(propsWithNullTitle as Pagecontent)} />,
 94:       );
 95:       // Assert
 96:       expect(container.firstChild).toBeNull();
 97:       expect(consoleErrorSpy).toHaveBeenCalledWith(
 98:         'Ugyldig seksjon data: tittel=null, tekst=[{"_key":"a1","_type":"block","children":[{"_key":"a1-1","_type":"span","marks":[],"text":"Test content"}],"markDefs":[],"style":"normal"}]',
 99:       );
100:     });
101:     it("returns null and logs error when title is empty string", () => {
102:       // Arrange
103:       const propsWithEmptyTitle: Pagecontent = { ...mockProps, title: "" };
104:       // Act
105:       const { container } = render(<Section {...propsWithEmptyTitle} />);
106:       // Assert
107:       expect(container.firstChild).toBeNull();
108:       expect(consoleErrorSpy).toHaveBeenCalledWith(
109:         'Ugyldig seksjon data: tittel=, tekst=[{"_key":"a1","_type":"block","children":[{"_key":"a1-1","_type":"span","marks":[],"text":"Test content"}],"markDefs":[],"style":"normal"}]',
110:       );
111:     });
112:     it("returns null and logs error when text is missing", () => {
113:       // Arrange
114:       const propsWithoutText: InvalidSectionProps = {
115:         ...mockProps,
116:         text: undefined,
117:       };
118:       // Act
119:       const { container } = render(
120:         <Section {...(propsWithoutText as Pagecontent)} />,
121:       );
122:       // Assert
123:       expect(container.firstChild).toBeNull();
124:       expect(consoleErrorSpy).toHaveBeenCalledWith(
125:         "Ugyldig seksjon data: tittel=Test Title, tekst=undefined",
126:       );
127:     });
128:     it("returns null and logs error when text is null", () => {
129:       // Arrange
130:       const propsWithNullText: InvalidSectionProps = {
131:         ...mockProps,
132:         text: null,
133:       };
134:       // Act
135:       const { container } = render(
136:         <Section {...(propsWithNullText as Pagecontent)} />,
137:       );
138:       // Assert
139:       expect(container.firstChild).toBeNull();
140:       expect(consoleErrorSpy).toHaveBeenCalledWith(
141:         "Ugyldig seksjon data: tittel=Test Title, tekst=null",
142:       );
143:     });
144:     it("renders normally when text is empty array", () => {
145:       // Arrange
146:       const propsWithEmptyText: Pagecontent = { ...mockProps, text: [] };
147:       // Act
148:       const { container } = render(<Section {...propsWithEmptyText} />);
149:       // Assert
150:       // Empty array is truthy in JavaScript, so the component renders
151:       expect(container.firstChild).not.toBeNull();
152:       expect(consoleErrorSpy).not.toHaveBeenCalled();
153:       // The title should still be rendered
154:       expect(screen.getByText("Test Title")).toBeInTheDocument();
155:     });
156:     it("returns null and logs error when both title and text are missing", () => {
157:       // Arrange
158:       const propsWithoutBoth: InvalidSectionProps = {
159:         ...mockProps,
160:         title: undefined,
161:         text: undefined,
162:       };
163:       // Act
164:       const { container } = render(
165:         <Section {...(propsWithoutBoth as Pagecontent)} />,
166:       );
167:       // Assert
168:       expect(container.firstChild).toBeNull();
169:       expect(consoleErrorSpy).toHaveBeenCalledWith(
170:         "Ugyldig seksjon data: tittel=undefined, tekst=undefined",
171:       );
172:     });
173:   });
174:   it("triggers error in development mode", () => {
175:     // Arrange
176:     const consoleErrorSpy = jest
177:       .spyOn(console, "error")
178:       .mockImplementation(() => {});
179:     render(<Section {...mockProps} />);
180:     const errorButton = screen.getByText("Utløs Testfeil");
181:     // Act & Assert
182:     expect(() => fireEvent.click(errorButton)).toThrow(
183:       "En uventet feil har oppstått",
184:     );
185:     consoleErrorSpy.mockRestore();
186:   });
187:   it("does not show error button in production mode", () => {
188:     // Arrange
189:     (process.env as WritableNodeEnv).NODE_ENV = "production";
190:     render(<Section {...mockProps} />);
191:     // Act
192:     const errorButton = screen.queryByText("Utløs Testfeil");
193:     // Assert
194:     expect(errorButton).not.toBeInTheDocument();
195:   });
196:   it("does not show error button when showDebugButton is false in development mode", () => {
197:     // Arrange
198:     render(<Section {...mockProps} showDebugButton={false} />);
199:     // Act
200:     const errorButton = screen.queryByText("Utløs Testfeil");
201:     // Assert
202:     expect(errorButton).not.toBeInTheDocument();
203:   });
204:   it("shows error button when showDebugButton is true in development mode", () => {
205:     // Arrange
206:     render(<Section {...mockProps} showDebugButton={true} />);
207:     // Act
208:     const errorButton = screen.getByText("Utløs Testfeil");
209:     // Assert
210:     expect(errorButton).toBeInTheDocument();
211:   });
212: });
````

## File: src/__tests__/Kontakt/ContactForm.test.tsx
````typescript
  1: /**
  2:  * @jest-environment jsdom
  3:  */
  4: import { fireEvent, render, screen, waitFor } from "@testing-library/react";
  5: import ContactForm from "@/components/Kontakt/ContactForm.component";
  6: import emailjs, { EmailJSResponseStatus } from "@emailjs/browser";
  7: type SendType = jest.Mock<Promise<EmailJSResponseStatus>>;
  8: jest.mock("@emailjs/browser", () => ({
  9:   send: jest.fn(() => Promise.resolve({ status: 200, text: "OK" })) as SendType,
 10:   init: jest.fn(),
 11: }));
 12: describe("ContactForm", () => {
 13:   const fulltNavn = "Fullt navn";
 14:   const telefonNummer = "Telefonnummer";
 15:   const hvaOnskerDu = "Hva ønsker du å si?";
 16:   const sendSkjemaText = "Send skjema";
 17:   beforeEach(() => {
 18:     jest.clearAllMocks();
 19:   });
 20:   const fillFormWithValidData = () => {
 21:     fireEvent.change(screen.getByLabelText(fulltNavn), {
 22:       target: { value: "Bruker Test" },
 23:     });
 24:     fireEvent.change(screen.getByLabelText(telefonNummer), {
 25:       target: { value: "12345678" },
 26:     });
 27:     fireEvent.change(screen.getByLabelText(hvaOnskerDu), {
 28:       target: { value: "Test melding" },
 29:     });
 30:   };
 31:   it("renders the component", () => {
 32:     // Arrange
 33:     const expectedTestId = "kontaktcontent";
 34:     // Act
 35:     render(<ContactForm />);
 36:     // Assert
 37:     expect(screen.getByTestId(expectedTestId)).toBeInTheDocument();
 38:   });
 39:   it("submits the form successfully and disables submit button while submitting", async () => {
 40:     // Arrange
 41:     render(<ContactForm />);
 42:     const submitButton = screen.getByText(sendSkjemaText);
 43:     // Act
 44:     fillFormWithValidData();
 45:     fireEvent.click(submitButton);
 46:     // Assert - Initial state
 47:     expect(submitButton).toBeDisabled();
 48:     // Assert - Final state
 49:     await waitFor(() => {
 50:       expect(screen.getByText("Takk for din beskjed")).toBeInTheDocument();
 51:     });
 52:     expect(emailjs.send).toHaveBeenCalledTimes(1);
 53:   });
 54:   it("displays error message on form submission failure", async () => {
 55:     // Arrange
 56:     (emailjs.send as SendType).mockRejectedValueOnce(new Error("Test error"));
 57:     render(<ContactForm />);
 58:     // Act
 59:     fillFormWithValidData();
 60:     fireEvent.click(screen.getByText(sendSkjemaText));
 61:     // Assert
 62:     await waitFor(() => {
 63:       expect(
 64:         screen.getByText("Feil under sending av skjema"),
 65:       ).toBeInTheDocument();
 66:     });
 67:     expect(emailjs.send).toHaveBeenCalledTimes(1);
 68:   });
 69:   it("displays validation errors for empty fields", async () => {
 70:     // Arrange
 71:     render(<ContactForm />);
 72:     const expectedErrors = {
 73:       name: "Fullt navn er påkrevd",
 74:       phone: "Telefonnummer er påkrevd",
 75:       message: "Beskjed er påkrevd",
 76:     };
 77:     // Act
 78:     fireEvent.click(screen.getByText(sendSkjemaText));
 79:     // Assert
 80:     await waitFor(() => {
 81:       expect(screen.getByText(expectedErrors.name)).toBeInTheDocument();
 82:     });
 83:     expect(screen.getByText(expectedErrors.phone)).toBeInTheDocument();
 84:     expect(screen.getByText(expectedErrors.message)).toBeInTheDocument();
 85:     expect(emailjs.send).not.toHaveBeenCalled();
 86:   });
 87:   it("displays validation errors for invalid inputs", async () => {
 88:     // Arrange
 89:     render(<ContactForm />);
 90:     const invalidInputs = {
 91:       name: "User123", // Invalid name format
 92:       phone: "123", // Invalid phone number
 93:       message: "Test melding",
 94:     };
 95:     const expectedErrors = {
 96:       name: "Vennligst bruk norske bokstaver",
 97:       phone: "Vennligst oppgi et gyldig telefonnummer",
 98:     };
 99:     // Act
100:     fireEvent.change(screen.getByLabelText(fulltNavn), {
101:       target: { value: invalidInputs.name },
102:     });
103:     fireEvent.change(screen.getByLabelText(telefonNummer), {
104:       target: { value: invalidInputs.phone },
105:     });
106:     fireEvent.change(screen.getByLabelText(hvaOnskerDu), {
107:       target: { value: invalidInputs.message },
108:     });
109:     fireEvent.click(screen.getByText(sendSkjemaText));
110:     // Assert
111:     await waitFor(() => {
112:       expect(screen.getByText(expectedErrors.name)).toBeInTheDocument();
113:     });
114:     expect(screen.getByText(expectedErrors.phone)).toBeInTheDocument();
115:     expect(emailjs.send).not.toHaveBeenCalled();
116:   });
117: });
````

## File: src/__tests__/Layout/Footer.test.tsx
````typescript
 1: /**
 2:  * @jest-environment jsdom
 3:  */
 4: import { render, screen } from "@testing-library/react";
 5: import Footer from "@/components/Layout/Footer.component";
 6: describe("Footer", () => {
 7:   it("renders footer with copyright text", () => {
 8:     // Arrange
 9:     const copyrightText = "copyright daniel";
10:     const expectedText = /copyright daniel/i;
11:     // Act
12:     render(<Footer footerCopyrightText={copyrightText} />);
13:     const footer = screen.getByText(expectedText);
14:     // Assert
15:     expect(footer).toBeInTheDocument();
16:   });
17: });
````

## File: src/__tests__/Layout/Header.test.tsx
````typescript
  1: /**
  2:  * @jest-environment jsdom
  3:  */
  4: import { render, screen } from "@testing-library/react";
  5: import Header from "@/components/Layout/Header.component";
  6: // Mock the usePathname hook
  7: jest.mock("next/navigation", () => ({
  8:   usePathname: () => "/",
  9: }));
 10: // Mock the MobileMenu component
 11: jest.mock("@/components/Layout/MobileMenu.component", () => {
 12:   return function MockMobileMenu() {
 13:     return <div data-testid="mobile-menu">Mobile Menu</div>;
 14:   };
 15: });
 16: describe("Header", () => {
 17:   const mockNavigationLinks = [
 18:     {
 19:       _key: "home",
 20:       name: "Hjem",
 21:       href: "/",
 22:       title: "Hjem",
 23:       hash: "",
 24:       externalLink: false,
 25:     },
 26:     {
 27:       _key: "projects",
 28:       name: "Prosjekter",
 29:       href: "/prosjekter",
 30:       title: "Prosjekter",
 31:       hash: "",
 32:       externalLink: false,
 33:     },
 34:     {
 35:       _key: "cv",
 36:       name: "CV",
 37:       href: "/cv",
 38:       title: "CV",
 39:       hash: "",
 40:       externalLink: false,
 41:     },
 42:     {
 43:       _key: "contact",
 44:       name: "Kontakt",
 45:       href: "/kontakt",
 46:       title: "Kontakt",
 47:       hash: "",
 48:       externalLink: false,
 49:     },
 50:   ];
 51:   describe("rendering", () => {
 52:     it("renders header container", () => {
 53:       // Arrange
 54:       const expectedRole = "banner";
 55:       // Act
 56:       render(
 57:         <Header
 58:           navigation={{
 59:             _id: "mock-nav",
 60:             _type: "navigation",
 61:             _createdAt: "2024-01-01",
 62:             _updatedAt: "2024-01-01",
 63:             _rev: "mock-rev",
 64:             links: mockNavigationLinks,
 65:           }}
 66:         />,
 67:       );
 68:       const header = screen.getByRole(expectedRole);
 69:       // Assert
 70:       expect(header).toBeInTheDocument();
 71:     });
 72:     it("renders all navigation links with correct attributes", () => {
 73:       // Arrange
 74:       render(
 75:         <Header
 76:           navigation={{
 77:             _id: "mock-nav",
 78:             _type: "navigation",
 79:             _createdAt: "2024-01-01",
 80:             _updatedAt: "2024-01-01",
 81:             _rev: "mock-rev",
 82:             links: mockNavigationLinks,
 83:           }}
 84:         />,
 85:       );
 86:       // Act & Assert
 87:       mockNavigationLinks.forEach((link) => {
 88:         const linkElement = screen.getByRole("link", { name: link.name });
 89:         expect(linkElement).toBeInTheDocument();
 90:         expect(linkElement).toHaveAttribute("href", link.href);
 91:       });
 92:     });
 93:     it("renders mobile menu component", () => {
 94:       // Arrange
 95:       const expectedTestId = "mobile-menu";
 96:       // Act
 97:       render(
 98:         <Header
 99:           navigation={{
100:             _id: "mock-nav",
101:             _type: "navigation",
102:             _createdAt: "2024-01-01",
103:             _updatedAt: "2024-01-01",
104:             _rev: "mock-rev",
105:             links: mockNavigationLinks,
106:           }}
107:         />,
108:       );
109:       const mobileMenu = screen.getByTestId(expectedTestId);
110:       // Assert
111:       expect(mobileMenu).toBeInTheDocument();
112:     });
113:   });
114: });
````

## File: src/__tests__/Layout/MobileMenu.test.tsx
````typescript
  1: /**
  2:  * @jest-environment jsdom
  3:  */
  4: import { fireEvent, render, screen } from "@testing-library/react";
  5: import userEvent from "@testing-library/user-event";
  6: import { usePathname } from "next/navigation";
  7: import MobileMenu from "@/components/Layout/MobileMenu.component";
  8: const linksmock = [
  9:   {
 10:     _key: "home",
 11:     title: "Hjem",
 12:     name: "Hjem",
 13:     href: "/",
 14:     hash: "",
 15:     externalLink: false,
 16:   },
 17:   {
 18:     _key: "projects",
 19:     title: "Prosjekter",
 20:     name: "Prosjekter",
 21:     href: "/prosjekter",
 22:     hash: "",
 23:     externalLink: false,
 24:   },
 25:   {
 26:     _key: "cv",
 27:     title: "CV",
 28:     name: "CV",
 29:     href: "/cv",
 30:     hash: "",
 31:     externalLink: false,
 32:   },
 33:   {
 34:     _key: "github",
 35:     title: "Github",
 36:     name: "Github",
 37:     href: "https://github.com/w3bdesign",
 38:     hash: "",
 39:     externalLink: true,
 40:   },
 41:   {
 42:     _key: "contact",
 43:     title: "Kontakt",
 44:     name: "Kontakt",
 45:     href: "/kontakt",
 46:     hash: "",
 47:     externalLink: false,
 48:   },
 49: ];
 50: // Mock next/navigation
 51: jest.mock("next/navigation", () => ({
 52:   usePathname: jest.fn(),
 53: }));
 54: const mockUsePathname = usePathname as jest.MockedFunction<typeof usePathname>;
 55: describe("MobileMenu - elementer eksisterer", () => {
 56:   const testidMenu = "mobile-menu";
 57:   afterEach(() => {
 58:     jest.clearAllMocks();
 59:   });
 60:   it("renders mobile menu when hamburger is clicked", () => {
 61:     // Arrange
 62:     mockUsePathname.mockReturnValue("/");
 63:     render(<MobileMenu links={linksmock} />);
 64:     const hamburger = screen.getByTestId("hamburger");
 65:     // Act
 66:     fireEvent.click(hamburger);
 67:     const mobilemenu = screen.getByTestId(testidMenu);
 68:     // Assert
 69:     expect(mobilemenu).toBeInTheDocument();
 70:   });
 71:   it("toggles hamburger menu expansion state", () => {
 72:     // Arrange
 73:     mockUsePathname.mockReturnValue("/");
 74:     render(<MobileMenu links={linksmock} />);
 75:     const hamburger = screen.getByTestId("hamburger");
 76:     // Assert - Initial state
 77:     expect(
 78:       screen.getByRole("button", { name: /hamburger/i, expanded: false }),
 79:     ).toBeInTheDocument();
 80:     // Act - Open menu
 81:     fireEvent.click(hamburger);
 82:     // Assert - Open state
 83:     expect(
 84:       screen.getByRole("button", { name: /hamburger/i, expanded: true }),
 85:     ).toBeInTheDocument();
 86:     // Act - Close menu
 87:     fireEvent.click(hamburger);
 88:     // Assert - Closed state
 89:     expect(
 90:       screen.getByRole("button", { name: /hamburger/i, expanded: false }),
 91:     ).toBeInTheDocument();
 92:   });
 93:   it("displays correct number of navigation links", () => {
 94:     // Arrange
 95:     mockUsePathname.mockReturnValue("/");
 96:     render(<MobileMenu links={linksmock} />);
 97:     const hamburger = screen.getByTestId("hamburger");
 98:     // Act
 99:     fireEvent.click(hamburger);
100:     const menuItems = screen.getAllByRole("link");
101:     // Assert
102:     expect(menuItems).toHaveLength(linksmock.length);
103:   });
104:   it("renders internal links with correct active state", () => {
105:     // Arrange
106:     const currentPath = "/prosjekter";
107:     mockUsePathname.mockReturnValue(currentPath);
108:     render(<MobileMenu links={linksmock} />);
109:     const hamburger = screen.getByTestId("hamburger");
110:     // Act
111:     fireEvent.click(hamburger);
112:     // Assert - Test active link styling
113:     const activeLink = screen.getByTestId("mobil-Prosjekter");
114:     expect(activeLink).toHaveClass("text-green-400");
115:     // Assert - Test non-active link styling
116:     const inactiveLink = screen.getByTestId("mobil-Hjem");
117:     expect(inactiveLink).not.toHaveClass("text-green-400");
118:   });
119:   it("renders internal links with glitch effect", () => {
120:     // Arrange
121:     mockUsePathname.mockReturnValue("/");
122:     render(<MobileMenu links={linksmock} />);
123:     const hamburger = screen.getByTestId("hamburger");
124:     // Act
125:     fireEvent.click(hamburger);
126:     // Assert - Test that glitch effect is present for internal links
127:     const internalLink = screen.getByTestId("mobil-Hjem");
128:     expect(internalLink).toBeInTheDocument();
129:     expect(internalLink).toHaveTextContent("Hjem");
130:   });
131:   it("opens external links in new tab with correct attributes", () => {
132:     // Arrange
133:     mockUsePathname.mockReturnValue("/");
134:     render(<MobileMenu links={linksmock} />);
135:     const hamburger = screen.getByTestId("hamburger");
136:     // Act
137:     fireEvent.click(hamburger);
138:     const externalLink = screen.getByRole("link", { name: /github/i });
139:     // Assert
140:     expect(externalLink).toHaveAttribute("target", "_blank");
141:     expect(externalLink).toHaveAttribute("rel", "noreferrer");
142:   });
143:   it("navigates and closes menu when clicking a link", async () => {
144:     // Arrange
145:     mockUsePathname.mockReturnValue("/");
146:     render(<MobileMenu links={linksmock} />);
147:     const user = userEvent.setup();
148:     const hamburger = screen.getByTestId("hamburger");
149:     // Act - Open menu
150:     await user.click(hamburger);
151:     // Assert - Menu is open
152:     expect(screen.getByTestId(testidMenu)).toBeInTheDocument();
153:     // Act - Click a link
154:     const link = screen.getByTestId("mobil-Prosjekter");
155:     await user.click(link);
156:     // Wait for animation to complete
157:     await new Promise((resolve) => setTimeout(resolve, 2500));
158:     // Assert - Menu should close
159:     expect(screen.queryByTestId(testidMenu)).not.toBeInTheDocument();
160:   });
161: });
````

## File: src/__tests__/Prosjekter/actions.test.ts
````typescript
  1: import { getProjects } from "@/app/prosjekter/actions";
  2: import { client } from "@/lib/sanity/client";
  3: import { projectsQuery } from "@/lib/sanity/queries";
  4: // Mock the Sanity client
  5: jest.mock("@/lib/sanity/client", () => ({
  6:   client: {
  7:     fetch: jest.fn(),
  8:   },
  9: }));
 10: describe("getProjects", () => {
 11:   beforeEach(() => {
 12:     jest.clearAllMocks();
 13:   });
 14:   it("fetches projects successfully", async () => {
 15:     // Arrange
 16:     const mockProjects = [
 17:       {
 18:         id: "1",
 19:         name: "Test Project",
 20:         description: "Test Description",
 21:         subdescription: "Test Subdescription",
 22:         projectimage: { asset: { _ref: "test" } },
 23:         urlwww: [],
 24:         urlgithub: [],
 25:       },
 26:     ];
 27:     const expectedFetchOptions = {
 28:       next: { revalidate: 3600 },
 29:     };
 30:     (client.fetch as jest.Mock).mockResolvedValueOnce(mockProjects);
 31:     // Act
 32:     const result = await getProjects();
 33:     // Assert
 34:     expect(result).toStrictEqual(mockProjects);
 35:     expect(client.fetch).toHaveBeenCalledWith(
 36:       projectsQuery,
 37:       {},
 38:       expectedFetchOptions,
 39:     );
 40:   });
 41:   describe("error handling", () => {
 42:     it("handles authentication errors (401)", async () => {
 43:       // Arrange
 44:       const error = {
 45:         statusCode: 401,
 46:         message: "Invalid token",
 47:         details: {
 48:           type: "credentials",
 49:           description: "Invalid token provided",
 50:         },
 51:       };
 52:       (client.fetch as jest.Mock).mockRejectedValueOnce(error);
 53:       // Act & Assert
 54:       await expect(getProjects()).rejects.toThrow("Authentication failed");
 55:     });
 56:     it("handles permission errors (403)", async () => {
 57:       // Arrange
 58:       const error = {
 59:         statusCode: 403,
 60:         message: "Insufficient permissions",
 61:         details: {
 62:           type: "authorization",
 63:           description: "Missing read access",
 64:         },
 65:       };
 66:       (client.fetch as jest.Mock).mockRejectedValueOnce(error);
 67:       // Act & Assert
 68:       await expect(getProjects()).rejects.toThrow("Insufficient permissions");
 69:     });
 70:     it("handles rate limiting (429)", async () => {
 71:       // Arrange
 72:       const error = {
 73:         statusCode: 429,
 74:         message: "Too Many Requests",
 75:         details: { type: "rate_limit", description: "Rate limit exceeded" },
 76:       };
 77:       (client.fetch as jest.Mock).mockRejectedValueOnce(error);
 78:       // Act & Assert
 79:       await expect(getProjects()).rejects.toThrow("Rate limit exceeded");
 80:     });
 81:     it("handles malformed GROQ queries (400)", async () => {
 82:       // Arrange
 83:       const error = {
 84:         statusCode: 400,
 85:         message: "Invalid GROQ query",
 86:         details: {
 87:           type: "query_error",
 88:           description: "Syntax error in GROQ query",
 89:         },
 90:       };
 91:       (client.fetch as jest.Mock).mockRejectedValueOnce(error);
 92:       // Act & Assert
 93:       await expect(getProjects()).rejects.toThrow(
 94:         "Sanity API error: Invalid GROQ query",
 95:       );
 96:     });
 97:     it("handles network timeouts", async () => {
 98:       // Arrange
 99:       const error = Object.assign(new Error("Network timeout"), {
100:         name: "TimeoutError",
101:       });
102:       (client.fetch as jest.Mock).mockRejectedValueOnce(error);
103:       // Act & Assert
104:       await expect(getProjects()).rejects.toThrow("Request timed out");
105:     });
106:     it("handles generic fetch errors", async () => {
107:       // Arrange
108:       const error = {
109:         message: "Fetch failed",
110:       };
111:       (client.fetch as jest.Mock).mockRejectedValueOnce(error);
112:       // Act & Assert
113:       await expect(getProjects()).rejects.toThrow("Failed to fetch projects");
114:     });
115:     it("recovers after temporary errors", async () => {
116:       // Arrange
117:       const rateError = {
118:         statusCode: 429,
119:         message: "Too Many Requests",
120:         details: { type: "rate_limit", description: "Rate limit exceeded" },
121:       };
122:       const mockProjects = [
123:         {
124:           id: "1",
125:           name: "Test Project",
126:           description: "Test Description",
127:           subdescription: "Test Subdescription",
128:           projectimage: { asset: { _ref: "test" } },
129:           urlwww: [],
130:           urlgithub: [],
131:         },
132:       ];
133:       // First call fails with rate limit
134:       (client.fetch as jest.Mock).mockRejectedValueOnce(rateError);
135:       // Second call succeeds
136:       (client.fetch as jest.Mock).mockResolvedValueOnce(mockProjects);
137:       // First call should fail
138:       await expect(getProjects()).rejects.toThrow("Rate limit exceeded");
139:       // Second call should succeed
140:       const result = await getProjects();
141:       expect(result).toStrictEqual(mockProjects);
142:     });
143:   });
144: });
````

## File: src/__tests__/Prosjekter/error.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen, fireEvent } from "@testing-library/react";
 3: import "@testing-library/jest-dom";
 4: import ErrorBoundary from "@/app/prosjekter/error";
 5: // Mock React's useEffect
 6: const mockUseEffect = jest.fn();
 7: jest.mock("react", () => ({
 8:   ...jest.requireActual("react"),
 9:   useEffect: (cb: () => void) => mockUseEffect(cb),
10: }));
11: describe("ErrorBoundary", () => {
12:   const mockReset = jest.fn();
13:   const mockError = new Error("Test error") as Error & { digest?: string };
14:   const mockProps = { error: mockError, reset: mockReset };
15:   beforeEach(() => {
16:     jest.clearAllMocks();
17:   });
18:   it("renders error message and retry button", () => {
19:     // Arrange
20:     const expectedTexts = {
21:       errorMessage: "Noe gikk galt ved lasting av prosjekter",
22:       buttonText: "Prøv igjen",
23:     };
24:     // Act
25:     render(<ErrorBoundary {...mockProps} />);
26:     // Assert
27:     expect(screen.getByText(expectedTexts.errorMessage)).toBeInTheDocument();
28:     expect(
29:       screen.getByRole("button", { name: expectedTexts.buttonText }),
30:     ).toBeInTheDocument();
31:   });
32:   it("calls reset when retry button is clicked", () => {
33:     // Arrange
34:     render(<ErrorBoundary {...mockProps} />);
35:     const retryButton = screen.getByRole("button", { name: "Prøv igjen" });
36:     // Act
37:     fireEvent.click(retryButton);
38:     // Assert
39:     expect(mockReset).toHaveBeenCalledTimes(1);
40:   });
41:   it("calls useEffect with error logging", () => {
42:     // Arrange
43:     render(<ErrorBoundary {...mockProps} />);
44:     const [effectCallback] = mockUseEffect.mock.calls[0];
45:     // Act
46:     effectCallback();
47:     // Assert
48:     expect(mockUseEffect).toHaveBeenCalled();
49:   });
50: });
````

## File: src/__tests__/Prosjekter/loading.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen } from "@testing-library/react";
 3: import "@testing-library/jest-dom";
 4: import Loading from "@/app/prosjekter/loading";
 5: // Mock the components used in Loading
 6: jest.mock("@/components/UI/PageHeader.component", () => {
 7:   return function MockPageHeader({ children }: { children: React.ReactNode }) {
 8:     return <h1>{children}</h1>;
 9:   };
10: });
11: jest.mock("@/components/Animations/RotatingLoader.component", () => {
12:   return function MockRotatingLoader() {
13:     return <div data-testid="rotating-loader">Loading...</div>;
14:   };
15: });
16: jest.mock("@/app/RootLayout", () => {
17:   return function MockRootLayout({ children }: { children: React.ReactNode }) {
18:     return <div>{children}</div>;
19:   };
20: });
21: describe("Loading", () => {
22:   describe("rendering", () => {
23:     it("renders loading state with correct content and attributes", () => {
24:       // Arrange
25:       const expected = {
26:         header: "Prosjekter",
27:         testId: "rotating-loader",
28:         mainAttributes: {
29:           ariaLabel: "Laster portefølje",
30:           classes: ["mt-32", "bg-graybg"],
31:         },
32:       };
33:       // Act
34:       render(<Loading />);
35:       const main = screen.getByRole("main");
36:       // Assert
37:       expect(screen.getByText(expected.header)).toBeInTheDocument();
38:       expect(screen.getByTestId(expected.testId)).toBeInTheDocument();
39:       expect(main).toHaveAttribute(
40:         "aria-label",
41:         expected.mainAttributes.ariaLabel,
42:       );
43:       expected.mainAttributes.classes.forEach((className) => {
44:         expect(main).toHaveClass(className);
45:       });
46:     });
47:   });
48: });
````

## File: src/__tests__/Prosjekter/page.test.tsx
````typescript
  1: import React from "react";
  2: import { render, screen, waitFor } from "@testing-library/react";
  3: import "@testing-library/jest-dom";
  4: const createDelayedPromise = <T,>(data: T, delay: number): Promise<T> =>
  5:   new Promise((resolve) => setTimeout(() => resolve(data), delay));
  6: // Define the project type
  7: interface ProjectType {
  8:   id: string;
  9:   name: string;
 10:   description: string;
 11:   subdescription: string;
 12:   projectimage: { asset: { _ref: string } };
 13:   urlwww: unknown[];
 14:   urlgithub: unknown[];
 15: }
 16: // Mock the actions before importing the page component
 17: const mockGetProjects = jest.fn();
 18: const mockPreloadProjects = jest.fn();
 19: jest.mock("@/app/prosjekter/actions", () => ({
 20:   getProjects: mockGetProjects,
 21:   preloadProjects: mockPreloadProjects,
 22: }));
 23: // Mock the sanity client
 24: const mockUrlBuilder = {
 25:   width: jest.fn().mockReturnThis(),
 26:   fit: jest.fn().mockReturnThis(),
 27:   quality: jest.fn().mockReturnThis(),
 28:   auto: jest.fn().mockReturnThis(),
 29:   url: jest.fn().mockReturnValue("mock-url"),
 30: };
 31: jest.mock("@/lib/sanity/client", () => ({
 32:   client: {
 33:     fetch: jest.fn(),
 34:   },
 35:   urlFor: jest.fn(() => mockUrlBuilder),
 36: }));
 37: // Mock components
 38: const MockPageHeader = ({ children }: { children: React.ReactNode }) => (
 39:   <h1>{children}</h1>
 40: );
 41: const MockProsjektCard = (props: { name: string }) => (
 42:   <div data-testid="project-card">{props.name}</div>
 43: );
 44: const MockRotatingLoader = () => (
 45:   <div data-testid="rotating-loader">Loading...</div>
 46: );
 47: const MockRootLayout = ({ children }: { children: React.ReactNode }) => (
 48:   <div>{children}</div>
 49: );
 50: jest.mock("@/components/UI/PageHeader.component", () => MockPageHeader);
 51: jest.mock(
 52:   "@/components/Prosjekter/ProsjektCard.component",
 53:   () => MockProsjektCard,
 54: );
 55: jest.mock(
 56:   "@/components/Animations/RotatingLoader.component",
 57:   () => MockRotatingLoader,
 58: );
 59: jest.mock("@/app/RootLayout", () => MockRootLayout);
 60: // Create a test component that simulates the page behavior without async server components
 61: function TestProsjekterPage() {
 62:   const [projects, setProjects] = React.useState<ProjectType[]>([]);
 63:   const [loading, setLoading] = React.useState(true);
 64:   React.useEffect(() => {
 65:     mockGetProjects().then((data: ProjectType[]) => {
 66:       setProjects(data);
 67:       setLoading(false);
 68:     });
 69:   }, []);
 70:   return (
 71:     <MockRootLayout>
 72:       <main
 73:         role="main"
 74:         aria-label="Innhold portefølje"
 75:         className="mt-32 bg-graybg"
 76:       >
 77:         <MockPageHeader>Prosjekter</MockPageHeader>
 78:         {loading ? (
 79:           <MockRotatingLoader />
 80:         ) : (
 81:           <div className="container mx-auto">
 82:             <div className="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 xl:grid-cols-2 gap-8">
 83:               {projects.map((project) => (
 84:                 <MockProsjektCard key={project.id} {...project} />
 85:               ))}
 86:             </div>
 87:           </div>
 88:         )}
 89:       </main>
 90:     </MockRootLayout>
 91:   );
 92: }
 93: describe("ProsjekterPage", () => {
 94:   beforeEach(() => {
 95:     jest.clearAllMocks();
 96:   });
 97:   it("renders projects from server component", async () => {
 98:     // Arrange - Set up test data and conditions
 99:     const mockProjects = [
100:       {
101:         id: "1",
102:         name: "Test Project 1",
103:         description: "Test Description 1",
104:         subdescription: "Test Subdescription 1",
105:         projectimage: { asset: { _ref: "test1" } },
106:         urlwww: [],
107:         urlgithub: [],
108:       },
109:       {
110:         id: "2",
111:         name: "Test Project 2",
112:         description: "Test Description 2",
113:         subdescription: "Test Subdescription 2",
114:         projectimage: { asset: { _ref: "test2" } },
115:         urlwww: [],
116:         urlgithub: [],
117:       },
118:     ];
119:     mockGetProjects.mockResolvedValue(mockProjects);
120:     // Act - Perform the action being tested
121:     render(<TestProsjekterPage />);
122:     // Assert - Verify the results
123:     expect(screen.getByText("Prosjekter")).toBeInTheDocument();
124:     // Wait for projects to load and render
125:     const projectCards = await screen.findAllByTestId("project-card");
126:     expect(projectCards).toHaveLength(2);
127:     expect(projectCards[0]).toHaveTextContent("Test Project 1");
128:     expect(projectCards[1]).toHaveTextContent("Test Project 2");
129:     // Test that projects are rendered within the main content area
130:     const main = screen.getByRole("main");
131:     expect(main).toContainElement(projectCards[0]);
132:     expect(main).toContainElement(projectCards[1]);
133:   });
134:   it("uses Suspense boundary for loading state", async () => {
135:     // Arrange - Set up test data and conditions
136:     const delayedPromise = createDelayedPromise([], 100);
137:     mockGetProjects.mockImplementation(() => delayedPromise);
138:     // Act - Perform the action being tested
139:     render(<TestProsjekterPage />);
140:     // Assert - Verify the results
141:     expect(screen.getByTestId("rotating-loader")).toBeInTheDocument();
142:     expect(screen.getByText("Prosjekter")).toBeInTheDocument();
143:     const main = screen.getByRole("main");
144:     expect(main).toHaveAttribute("aria-label", "Innhold portefølje");
145:     expect(main).toContainElement(screen.getByText("Prosjekter"));
146:     // Wait for loading to complete
147:     await waitFor(() => {
148:       expect(screen.queryByTestId("rotating-loader")).not.toBeInTheDocument();
149:     });
150:   });
151: });
````

## File: src/__tests__/Prosjekter/ProsjektCard.test.tsx
````typescript
  1: import React from "react";
  2: import { render, screen } from "@testing-library/react";
  3: import { mockIntersectionObserver } from "jsdom-testing-mocks";
  4: import ProsjektCard from "@/components/Prosjekter/ProsjektCard.component";
  5: import type { Project } from "@/types/sanity.types";
  6: mockIntersectionObserver();
  7: interface ButtonProps {
  8:   href: string;
  9:   children: React.ReactNode;
 10: }
 11: jest.mock("@/components/UI/Button.component", () => {
 12:   return function MockButton({ href, children }: ButtonProps) {
 13:     return <a href={href}>{children}</a>;
 14:   };
 15: });
 16: jest.mock("@/lib/sanity/client", () => ({
 17:   urlFor: jest.fn().mockReturnValue({
 18:     width: jest.fn().mockReturnThis(),
 19:     height: jest.fn().mockReturnThis(),
 20:     fit: jest.fn().mockReturnThis(),
 21:     quality: jest.fn().mockReturnThis(),
 22:     auto: jest.fn().mockReturnThis(),
 23:     url: jest.fn().mockReturnValue("/test-image.jpg"), // The URL the tests expect
 24:   }),
 25: }));
 26: const mockProjectProps: Project = {
 27:   _id: "1",
 28:   _type: "project",
 29:   _createdAt: "2024-01-23",
 30:   _updatedAt: "2024-01-23",
 31:   _rev: "rev1",
 32:   id: 1,
 33:   name: "Test Project",
 34:   description: "This is a test project",
 35:   subdescription: "This is a subdescription",
 36:   // Use a valid Sanity image object structure
 37:   projectimage: {
 38:     _type: "image",
 39:     asset: {
 40:       _ref: "image-abcde12345-100x100-jpg",
 41:       _type: "reference",
 42:     },
 43:   },
 44:   urlwww: [{ url: "https://example.com", _key: "1", _type: "link" }],
 45:   urlgithub: [{ url: "https://github.com/example", _key: "1", _type: "link" }],
 46: };
 47: describe("ProsjektCard", () => {
 48:   describe("rendering project content", () => {
 49:     it("renders basic project information", () => {
 50:       // Arrange
 51:       const expectedContent = {
 52:         name: "Test Project",
 53:         description: "This is a test project",
 54:         subdescription: "This is a subdescription",
 55:       };
 56:       // Act
 57:       render(<ProsjektCard {...mockProjectProps} />);
 58:       // Assert
 59:       expect(screen.getByText(expectedContent.name)).toBeInTheDocument();
 60:       expect(screen.getByText(expectedContent.description)).toBeInTheDocument();
 61:       expect(
 62:         screen.getByText(expectedContent.subdescription),
 63:       ).toBeInTheDocument();
 64:     });
 65:     it("renders project image with correct attributes", () => {
 66:       // Arrange
 67:       const expectedImage = {
 68:         alt: "Test Project",
 69:         src: "/test-image.jpg",
 70:       };
 71:       // Act
 72:       render(<ProsjektCard {...mockProjectProps} />);
 73:       const img = screen.getByAltText(expectedImage.alt);
 74:       // Assert
 75:       expect(img).toBeInTheDocument();
 76:       expect(img).toHaveAttribute("src", expectedImage.src);
 77:     });
 78:     it("renders navigation buttons with correct hrefs", () => {
 79:       // Arrange
 80:       const expectedLinks = {
 81:         visit: {
 82:           text: "Besøk",
 83:           href: "https://example.com",
 84:         },
 85:         github: {
 86:           text: "GitHub",
 87:           href: "https://github.com/example",
 88:         },
 89:       };
 90:       // Act
 91:       render(<ProsjektCard {...mockProjectProps} />);
 92:       // Assert
 93:       const visitLink = screen.getByRole("link", {
 94:         name: expectedLinks.visit.text,
 95:       });
 96:       const githubLink = screen.getByRole("link", {
 97:         name: expectedLinks.github.text,
 98:       });
 99:       expect(visitLink).toBeInTheDocument();
100:       expect(visitLink).toHaveAttribute("href", expectedLinks.visit.href);
101:       expect(githubLink).toBeInTheDocument();
102:       expect(githubLink).toHaveAttribute("href", expectedLinks.github.href);
103:     });
104:   });
105:   describe("conditional rendering", () => {
106:     it("does not render navigation buttons when urls are not provided", () => {
107:       // Arrange
108:       const propsWithoutUrls: Project = {
109:         ...mockProjectProps,
110:         urlwww: [],
111:         urlgithub: [],
112:       };
113:       const buttonTexts = ["Besøk", "GitHub"];
114:       // Act
115:       render(<ProsjektCard {...propsWithoutUrls} />);
116:       // Assert
117:       buttonTexts.forEach((text) => {
118:         expect(screen.queryByText(text)).not.toBeInTheDocument();
119:       });
120:     });
121:   });
122: });
````

## File: src/__tests__/UI/Button.test.tsx
````typescript
 1: /**
 2:  * @jest-environment jsdom
 3:  */
 4: import { render, screen } from "@testing-library/react";
 5: import userEvent from "@testing-library/user-event";
 6: import Button from "@/components/UI/Button.component";
 7: describe("Button", () => {
 8:   describe("Button Component", () => {
 9:     it("renders button and handles click events", async () => {
10:       // Arrange
11:       const handleClick = jest.fn();
12:       const buttonText = "Click Me";
13:       // Act
14:       render(<Button onClick={handleClick}>{buttonText}</Button>);
15:       const button = screen.getByRole("button", { name: buttonText });
16:       await userEvent.click(button);
17:       // Assert
18:       expect(button).toBeInTheDocument();
19:       expect(handleClick).toHaveBeenCalledTimes(1);
20:       expect(button).toHaveTextContent(buttonText);
21:     });
22:     const testCases = [
23:       { children: "Save", ariaLabel: "Save changes" },
24:       { children: "Delete", ariaLabel: "Delete item" },
25:       { children: "Edit", ariaLabel: "Edit profile" },
26:     ];
27:     testCases.forEach(({ children, ariaLabel }) => {
28:       it(`renders button with '${children}' text and '${ariaLabel}' aria-label`, () => {
29:         // Arrange
30:         const props = {
31:           onClick: jest.fn(),
32:           "aria-label": ariaLabel,
33:         };
34:         // Act
35:         render(<Button {...props}>{children}</Button>);
36:         const button = screen.getByRole("button", { name: ariaLabel });
37:         // Assert
38:         expect(button).toBeInTheDocument();
39:         expect(button).toHaveAttribute("aria-label", ariaLabel);
40:         expect(button).toHaveTextContent(children);
41:       });
42:     });
43:     it("is disabled when disabled prop is true", () => {
44:       // Arrange
45:       const handleClick = jest.fn();
46:       // Act
47:       render(
48:         <Button onClick={handleClick} disabled>
49:           Disabled Button
50:         </Button>,
51:       );
52:       const button = screen.getByRole("button");
53:       // Assert
54:       expect(button).toBeDisabled();
55:       expect(button).not.toBeEnabled();
56:     });
57:   });
58: });
````

## File: src/__tests__/UI/ContentLoader.test.tsx
````typescript
 1: import { render, screen } from "@testing-library/react";
 2: import ContentLoader from "@/components/UI/ContentLoader.component";
 3: describe("ContentLoader", () => {
 4:   describe("Hero type", () => {
 5:     it("renders hero content skeletons", () => {
 6:       // Arrange
 7:       render(<ContentLoader type="hero" />);
 8:       // Act
 9:       const skeletons = screen.getAllByTestId("skeleton");
10:       // Assert
11:       expect(skeletons).toHaveLength(6);
12:     });
13:   });
14:   describe("Section type", () => {
15:     it("renders a single section by default", () => {
16:       // Arrange
17:       render(<ContentLoader type="section" />);
18:       // Act
19:       const sections = screen.getAllByTestId("content-section");
20:       // Assert
21:       expect(sections).toHaveLength(1);
22:     });
23:     it("renders multiple sections when specified", () => {
24:       // Arrange
25:       render(<ContentLoader type="section" sections={3} />);
26:       // Act
27:       const sections = screen.getAllByTestId("content-section");
28:       // Assert
29:       expect(sections).toHaveLength(3);
30:     });
31:   });
32:   describe("Custom type", () => {
33:     it("renders custom children", () => {
34:       // Arrange
35:       render(
36:         <ContentLoader type="custom">
37:           <div>Custom Content</div>
38:         </ContentLoader>,
39:       );
40:       // Act
41:       const customContent = screen.getByText("Custom Content");
42:       // Assert
43:       expect(customContent).toBeInTheDocument();
44:     });
45:   });
46: });
````

## File: src/__tests__/UI/InputField.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen } from "@testing-library/react";
 3: import "@testing-library/jest-dom";
 4: import { UseFormRegister } from "react-hook-form";
 5: import InputField, {
 6:   createRegisterOptions,
 7: } from "@/components/UI/InputField.component";
 8: interface TestFormData {
 9:   testField: string;
10: }
11: const mockRegister: UseFormRegister<TestFormData> = jest.fn((name) => ({
12:   onChange: jest.fn(),
13:   onBlur: jest.fn(),
14:   ref: jest.fn(),
15:   name,
16: }));
17: const TestComponent = ({
18:   type = "input",
19:   isRequired = false,
20:   inputPattern,
21: }: {
22:   type?: "input" | "textarea";
23:   isRequired?: boolean;
24:   inputPattern?: RegExp;
25: }) => {
26:   return (
27:     <InputField<TestFormData>
28:       name="testField"
29:       label="Test Field"
30:       htmlFor="testField"
31:       type={type}
32:       isRequired={isRequired}
33:       inputPattern={inputPattern}
34:       register={mockRegister}
35:     />
36:   );
37: };
38: describe("InputField", () => {
39:   describe("rendering", () => {
40:     it("renders input field with label", () => {
41:       // Arrange
42:       const expectedLabel = "Test Field";
43:       // Act
44:       render(<TestComponent />);
45:       const input = screen.getByLabelText(expectedLabel);
46:       // Assert
47:       expect(input).toBeInTheDocument();
48:     });
49:     it("renders textarea when specified", () => {
50:       // Arrange
51:       const expectedLabel = "Test Field";
52:       const expectedTag = "TEXTAREA";
53:       // Act
54:       render(<TestComponent type="textarea" />);
55:       const textarea = screen.getByLabelText(expectedLabel);
56:       // Assert
57:       expect(textarea).toBeInTheDocument();
58:       expect(textarea.tagName).toBe(expectedTag);
59:     });
60:     it("displays provided error message", () => {
61:       // Arrange
62:       const errorMessage = "This is an error message";
63:       const props = {
64:         name: "testField" as const,
65:         label: "Test Field",
66:         htmlFor: "testField",
67:         register: mockRegister,
68:         error: errorMessage,
69:       };
70:       // Act
71:       render(<InputField<TestFormData> {...props} />);
72:       // Assert
73:       expect(screen.getByText(errorMessage)).toBeInTheDocument();
74:     });
75:   });
76:   describe("form registration", () => {
77:     it("creates required validation option when isRequired is true", () => {
78:       // Arrange
79:       const isRequired = true;
80:       const expectedMessage = "Dette feltet er påkrevd";
81:       // Act
82:       const options = createRegisterOptions(isRequired);
83:       // Assert
84:       expect(options.required).toBe(expectedMessage);
85:     });
86:     it("creates pattern validation option when pattern is provided", () => {
87:       // Arrange
88:       const pattern = /[A-Za-z]+/;
89:       const isRequired = false;
90:       // Act
91:       const options = createRegisterOptions(isRequired, pattern);
92:       // Assert
93:       expect(options.pattern).toBeDefined();
94:       expect((options.pattern as { value: RegExp }).value).toStrictEqual(
95:         pattern,
96:       );
97:     });
98:   });
99: });
````

## File: src/__tests__/UI/Pill.test.tsx
````typescript
  1: import React from "react";
  2: import { render, screen, fireEvent } from "@testing-library/react";
  3: import Pill from "@/components/UI/Pill.component";
  4: interface LinkProps {
  5:   children: React.ReactNode;
  6:   href: string;
  7: }
  8: // Mock Next.js Link component
  9: jest.mock("next/link", () => {
 10:   return function MockLink({ children, href }: LinkProps) {
 11:     return <a href={href}>{children}</a>;
 12:   };
 13: });
 14: describe("Pill Component", () => {
 15:   describe("rendering", () => {
 16:     it("renders as button with default props", () => {
 17:       // Arrange
 18:       const text = "Test Pill";
 19:       // Act
 20:       render(<Pill text={text} />);
 21:       const pill = screen.getByText(text);
 22:       // Assert
 23:       expect(pill).toBeInTheDocument();
 24:       expect(pill.tagName).toBe("BUTTON");
 25:       expect(pill).toHaveAttribute("data-text", text);
 26:     });
 27:     it("renders as link when href is provided", () => {
 28:       // Arrange
 29:       const props = {
 30:         text: "Link Pill",
 31:         href: "/test",
 32:       };
 33:       // Act
 34:       render(<Pill {...props} />);
 35:       const pill = screen.getByText(props.text);
 36:       // Assert
 37:       expect(pill).toBeInTheDocument();
 38:       expect(pill.tagName).toBe("A");
 39:       expect(pill).toHaveAttribute("href", props.href);
 40:       expect(pill).toHaveAttribute("data-text", props.text);
 41:     });
 42:     it("applies custom className alongside base classes", () => {
 43:       // Arrange
 44:       const props = {
 45:         text: "Custom Class",
 46:         className: "custom-class",
 47:       };
 48:       const baseClasses = [
 49:         "glitch",
 50:         "text-white",
 51:         "m-4",
 52:         "text-xl",
 53:         "p-6",
 54:         "mt-4",
 55:         "rounded-full",
 56:         "transition",
 57:         "duration-300",
 58:         "ease-in-out",
 59:         "transform",
 60:         "bg-blue-600",
 61:         "bg-opacity-20",
 62:         "border-2",
 63:         "border-blue-800",
 64:         "border-opacity-30",
 65:         "hover:bg-blue-400",
 66:         "hover:bg-opacity-30",
 67:         "backdrop-blur-sm",
 68:       ];
 69:       // Act
 70:       render(<Pill {...props} />);
 71:       const pill = screen.getByText(props.text);
 72:       // Assert
 73:       expect(pill).toHaveClass(...baseClasses, props.className);
 74:     });
 75:   });
 76:   describe("interactions", () => {
 77:     it("calls onClick when clicked as button", () => {
 78:       // Arrange
 79:       const mockOnClick = jest.fn();
 80:       const props = {
 81:         text: "Clickable Pill",
 82:         onClick: mockOnClick,
 83:       };
 84:       // Act
 85:       render(<Pill {...props} />);
 86:       const pill = screen.getByText(props.text);
 87:       fireEvent.click(pill);
 88:       // Assert
 89:       expect(mockOnClick).toHaveBeenCalledTimes(1);
 90:     });
 91:     it("does not call onClick when rendered as link", () => {
 92:       // Arrange
 93:       const mockOnClick = jest.fn();
 94:       const props = {
 95:         text: "Link Pill",
 96:         href: "/test",
 97:         onClick: mockOnClick,
 98:       };
 99:       // Act
100:       render(<Pill {...props} />);
101:       const pill = screen.getByText(props.text);
102:       fireEvent.click(pill);
103:       // Assert
104:       expect(mockOnClick).not.toHaveBeenCalled();
105:     });
106:   });
107: });
````

## File: src/__tests__/UI/Skeleton.test.tsx
````typescript
 1: import { render, screen } from "@testing-library/react";
 2: import Skeleton from "@/components/UI/Skeleton.component";
 3: describe("Skeleton", () => {
 4:   it("renders with default props", () => {
 5:     // Arrange
 6:     render(<Skeleton />);
 7:     // Act
 8:     const skeleton = screen.getByTestId("skeleton");
 9:     // Assert
10:     expect(skeleton).toHaveClass(
11:       "skeleton-shimmer",
12:       "bg-slate-700",
13:       "rounded",
14:       "w-full",
15:       "h-4",
16:     );
17:   });
18:   it("renders with custom props", () => {
19:     // Arrange
20:     render(
21:       <Skeleton
22:         width="w-1/2"
23:         height="h-8"
24:         className="custom-class"
25:         rounded
26:         shimmer={false}
27:       />,
28:     );
29:     // Act
30:     const skeleton = screen.getByTestId("skeleton");
31:     // Assert
32:     expect(skeleton).toHaveClass(
33:       "animate-pulse",
34:       "bg-slate-700",
35:       "rounded-full",
36:       "w-1/2",
37:       "h-8",
38:       "custom-class",
39:     );
40:   });
41:   it("renders children when provided", () => {
42:     // Arrange
43:     render(
44:       <Skeleton data-testid="skeleton">
45:         <div>Child content</div>
46:       </Skeleton>,
47:     );
48:     // Act
49:     const child = screen.getByText("Child content");
50:     const skeleton = screen.getByTestId("skeleton");
51:     // Assert
52:     expect(child).toBeInTheDocument();
53:     expect(skeleton).toHaveClass("animate-pulse");
54:   });
55: });
````

## File: src/__tests__/UI/SkipLink.test.tsx
````typescript
 1: import React from "react";
 2: import { render, screen } from "@testing-library/react";
 3: import "@testing-library/jest-dom";
 4: import SkipLink from "@/components/UI/SkipLink.component";
 5: describe("SkipLink", () => {
 6:   describe("rendering", () => {
 7:     it("renders skip link with correct text", () => {
 8:       // Arrange
 9:       const expectedText = "Hopp til hovedinnhold";
10:       // Act
11:       render(<SkipLink />);
12:       const skipLink = screen.getByText(expectedText);
13:       // Assert
14:       expect(skipLink).toBeInTheDocument();
15:     });
16:     it("renders as link with correct href", () => {
17:       // Arrange
18:       const expectedProps = {
19:         text: "Hopp til hovedinnhold",
20:         href: "#main-content",
21:       };
22:       // Act
23:       render(<SkipLink />);
24:       const button = screen.getByRole("link", { name: expectedProps.text });
25:       // Assert
26:       expect(button).toHaveAttribute("href", expectedProps.href);
27:     });
28:   });
29:   describe("accessibility", () => {
30:     it("renders skip link with proper accessibility attributes", () => {
31:       // Arrange
32:       const expectedProps = {
33:         text: "Hopp til hovedinnhold",
34:         href: "#main-content",
35:       };
36:       // Act
37:       render(<SkipLink />);
38:       // Assert - Check that the skip link has the expected accessibility structure
39:       const skipLink = screen.getByRole("link", { name: expectedProps.text });
40:       expect(skipLink).toBeInTheDocument();
41:       expect(skipLink).toHaveAttribute("href", expectedProps.href);
42:       // Verify the component renders without errors (implicit test of CSS classes)
43:       expect(screen.getByText(expectedProps.text)).toBeInTheDocument();
44:     });
45:   });
46: });
````

## File: src/__tests__/UI/Tabs.test.tsx
````typescript
  1: /**
  2:  * @jest-environment jsdom
  3:  */
  4: import React from "react";
  5: import { render, screen, fireEvent } from "@testing-library/react";
  6: import "@testing-library/jest-dom";
  7: import Tabs from "@/components/UI/Tabs.component";
  8: // Component that throws an error immediately
  9: const ImmediateCrash = () => {
 10:   throw new Error("Immediate crash!");
 11: };
 12: const mockMotion = {
 13:   motion: {
 14:     div: (props: React.ComponentProps<"div">) => (
 15:       <div {...props}>{props.children}</div>
 16:     ),
 17:     button: (props: React.ComponentProps<"button">) => (
 18:       <button type="button" {...props}>
 19:         {props.children}
 20:       </button>
 21:     ),
 22:   },
 23:   AnimatePresence: ({ children }: { children: React.ReactNode }) => (
 24:     <>{children}</>
 25:   ),
 26: };
 27: jest.mock("motion", () => mockMotion);
 28: const mockTabs = [
 29:   {
 30:     id: "tab1",
 31:     label: "Normal Tab",
 32:     content: <div>Normal content</div>,
 33:   },
 34:   {
 35:     id: "tab2",
 36:     label: "Crashing Tab",
 37:     content: <ImmediateCrash />,
 38:   },
 39: ];
 40: describe("Tabs", () => {
 41:   const renderTabs = (orientation?: "horizontal" | "vertical") =>
 42:     render(<Tabs tabs={mockTabs} orientation={orientation} />);
 43:   it("renders tabs with correct layout in vertical orientation", () => {
 44:     // Arrange
 45:     const orientation = undefined; // default vertical orientation
 46:     // Act
 47:     renderTabs(orientation);
 48:     const tabList = screen.getByRole("tablist");
 49:     // Assert
 50:     expect(tabList).toHaveClass("sm:flex-col");
 51:   });
 52:   it("renders tabs with correct layout in horizontal orientation", () => {
 53:     // Arrange
 54:     const orientation = "horizontal";
 55:     // Act
 56:     renderTabs(orientation);
 57:     const tabList = screen.getByRole("tablist");
 58:     // Assert
 59:     expect(tabList).toHaveClass("flex-row");
 60:     expect(tabList).not.toHaveClass("sm:flex-col");
 61:   });
 62:   it("applies correct ARIA attributes to tabs", () => {
 63:     // Arrange
 64:     const expectedAttributes = mockTabs.map((tab, index) => ({
 65:       tab,
 66:       isSelected: index === 0,
 67:       controlsId: `tabpanel-${tab.id}`,
 68:     }));
 69:     // Act
 70:     renderTabs();
 71:     // Assert
 72:     expectedAttributes.forEach(({ tab, isSelected, controlsId }) => {
 73:       const tabElement = screen.getByRole("tab", { name: tab.label });
 74:       expect(tabElement).toHaveAttribute(
 75:         "aria-selected",
 76:         isSelected.toString(),
 77:       );
 78:       expect(tabElement).toHaveAttribute("aria-controls", controlsId);
 79:     });
 80:   });
 81:   it("switches tab content when clicking tabs", () => {
 82:     // Arrange
 83:     renderTabs();
 84:     const initialContent = "Normal content";
 85:     // Act & Assert - Initial state
 86:     expect(screen.getByText(initialContent)).toBeInTheDocument();
 87:     // Act & Assert - Click handling
 88:     const crashingTab = screen.getByRole("tab", { name: "Crashing Tab" });
 89:     expect(() => {
 90:       fireEvent.click(crashingTab);
 91:       render(<ImmediateCrash />);
 92:     }).toThrow("Immediate crash!");
 93:   });
 94:   it("applies correct border styles to tabs", () => {
 95:     // Arrange
 96:     renderTabs();
 97:     // Act
 98:     const tabs = screen.getAllByRole("tab");
 99:     // Assert
100:     expect(tabs[0]).not.toHaveClass("border-t");
101:     expect(tabs[1]).toHaveClass("border-t", "border-gray-600");
102:   });
103:   it("renders tab panels with correct attributes", () => {
104:     // Arrange
105:     const expectedAttributes = {
106:       id: "tabpanel-tab1",
107:       labelledBy: "tab-tab1",
108:       className: "px-8",
109:     };
110:     // Act
111:     renderTabs();
112:     const activePanel = screen.getByRole("tabpanel");
113:     // Assert
114:     expect(activePanel).toHaveAttribute("id", expectedAttributes.id);
115:     expect(activePanel).toHaveAttribute(
116:       "aria-labelledby",
117:       expectedAttributes.labelledBy,
118:     );
119:     expect(activePanel).toHaveClass(expectedAttributes.className);
120:   });
121: });
````

## File: src/app/api/csrf-token/route.ts
````typescript
 1: import { NextResponse } from "next/server";
 2: import { generateCSRFToken } from "@/lib/csrf";
 3: /**
 4:  * GET handler for CSRF token generation
 5:  * @returns {NextResponse} JSON response with CSRF token
 6:  */
 7: export async function GET() {
 8:   try {
 9:     const token = generateCSRFToken();
10:     return NextResponse.json(
11:       { csrfToken: token },
12:       {
13:         status: 200,
14:         headers: {
15:           "Cache-Control":
16:             "no-store, no-cache, must-revalidate, proxy-revalidate",
17:           Pragma: "no-cache",
18:           Expires: "0",
19:         },
20:       },
21:     );
22:   } catch (error) {
23:     console.error("Error generating CSRF token:", error);
24:     return NextResponse.json(
25:       { error: "Failed to generate CSRF token" },
26:       { status: 500 },
27:     );
28:   }
29: }
````

## File: src/app/api/form/route.ts
````typescript
 1: import { NextRequest, NextResponse } from "next/server";
 2: import { validateCSRFToken } from "@/lib/csrf";
 3: /**
 4:  * POST handler for form submissions with CSRF protection
 5:  * @param {NextRequest} request - The incoming request
 6:  * @returns {NextResponse} JSON response
 7:  */
 8: export async function POST(request: NextRequest) {
 9:   try {
10:     const contentType = request.headers.get("content-type");
11:     let formData: Record<string, string> = {};
12:     // Parse form data based on content type
13:     if (contentType?.includes("application/x-www-form-urlencoded")) {
14:       const body = await request.formData();
15:       for (const [key, value] of body.entries()) {
16:         formData[key] = value.toString();
17:       }
18:     } else if (contentType?.includes("application/json")) {
19:       formData = await request.json();
20:     } else {
21:       return NextResponse.json(
22:         { error: "Unsupported content type" },
23:         { status: 400 },
24:       );
25:     }
26:     // Extract and validate CSRF token
27:     const csrfToken = formData._csrf || formData.csrfToken;
28:     if (!csrfToken) {
29:       return NextResponse.json(
30:         { error: "CSRF token missing" },
31:         { status: 403 },
32:       );
33:     }
34:     if (!validateCSRFToken(csrfToken)) {
35:       return NextResponse.json(
36:         { error: "Invalid or expired CSRF token" },
37:         { status: 403 },
38:       );
39:     }
40:     // Remove CSRF token from form data before processing
41:     delete formData._csrf;
42:     delete formData.csrfToken;
43:     // Validate required fields
44:     const { navn, telefon, tekst } = formData;
45:     if (!navn || !telefon || !tekst) {
46:       return NextResponse.json(
47:         { error: "Missing required fields" },
48:         { status: 400 },
49:       );
50:     }
51:     // Basic validation
52:     if (navn.length < 2 || navn.length > 100) {
53:       return NextResponse.json(
54:         { error: "Name must be between 2 and 100 characters" },
55:         { status: 400 },
56:       );
57:     }
58:     if (tekst.length < 10 || tekst.length > 1000) {
59:       return NextResponse.json(
60:         { error: "Message must be between 10 and 1000 characters" },
61:         { status: 400 },
62:       );
63:     }
64:     // Return success response
65:     return NextResponse.json(
66:       {
67:         message: "Form submitted successfully",
68:         success: true,
69:       },
70:       { status: 200 },
71:     );
72:   } catch (error) {
73:     console.error("Error processing form submission:", error);
74:     return NextResponse.json(
75:       { error: "Internal server error" },
76:       { status: 500 },
77:     );
78:   }
79: }
80: /**
81:  * Handle other HTTP methods
82:  */
83: export async function GET() {
84:   return NextResponse.json({ error: "Method not allowed" }, { status: 405 });
85: }
86: export async function PUT() {
87:   return NextResponse.json({ error: "Method not allowed" }, { status: 405 });
88: }
89: export async function DELETE() {
90:   return NextResponse.json({ error: "Method not allowed" }, { status: 405 });
91: }
````

## File: src/app/api/siteMapGenerator.ts
````typescript
 1: import { SitemapStream, streamToPromise } from "sitemap";
 2: import { Readable } from "stream";
 3: import type { NextApiRequest, NextApiResponse } from "next";
 4: interface IData {
 5:   toString: () => string;
 6: }
 7: interface ILinks {
 8:   url: string;
 9:   changefreq: string;
10:   priority: number;
11: }
12: const siteMapGenerator = async (req: NextApiRequest, res: NextApiResponse) => {
13:   // An array with your links
14:   const links: ILinks[] = [
15:     { url: "/", changefreq: "daily", priority: 0.3 },
16:     { url: "/prosjekter", changefreq: "daily", priority: 0.3 },
17:     { url: "/cv", changefreq: "daily", priority: 0.3 },
18:     { url: "/kontakt", changefreq: "daily", priority: 0.3 },
19:   ];
20:   // Create a stream to write to
21:   const stream = new SitemapStream({ hostname: `https://${req.headers.host}` });
22:   res.writeHead(200, {
23:     "Content-Type": "application/xml",
24:   });
25:   const xmlString = await streamToPromise(
26:     Readable.from(links).pipe(stream),
27:   ).then((data: IData) => data.toString());
28:   res.end(xmlString);
29: };
30: export default siteMapGenerator;
````

## File: src/app/cv/page.tsx
````typescript
 1: import RootLayout from "../RootLayout";
 2: import CVContent from "@/components/CV/CVContent.component";
 3: import { client } from "@/lib/sanity/client";
 4: import { cvQuery } from "@/lib/sanity/queries";
 5: import { Metadata } from "next/types";
 6: export const metadata: Metadata = {
 7:   title: "CV - Dfweb",
 8:   description: "Daniel Fjeldstad | Frontend Web Utvikler | Portefølje",
 9: };
10: export default async function CVPage() {
11:   const cvData = await client.fetch(cvQuery);
12:   return (
13:     <RootLayout>
14:       <CVContent cvData={cvData} />
15:     </RootLayout>
16:   );
17: }
````

## File: src/app/kontakt/page.tsx
````typescript
 1: import RootLayout from "../RootLayout";
 2: import ContactForm from "@/components/Kontakt/ContactForm.component";
 3: import { generateCSRFToken } from "@/lib/csrf";
 4: import { Metadata } from "next/types";
 5: export const metadata: Metadata = {
 6:   title: "Kontakt - Dfweb",
 7:   description: "Daniel Fjeldstad | Frontend Web Utvikler | Portefølje",
 8: };
 9: export default async function PostIndex() {
10:   // Generate CSRF token server-side
11:   const csrfToken = generateCSRFToken();
12:   return (
13:     <RootLayout>
14:       <ContactForm csrfToken={csrfToken} />
15:     </RootLayout>
16:   );
17: }
````

## File: src/app/prosjekter/actions.ts
````typescript
 1: import { cache } from "react";
 2: import "server-only";
 3: import { client } from "@/lib/sanity/client";
 4: import { projectsQuery } from "@/lib/sanity/queries";
 5: import type { Project } from "@/types/sanity.types";
 6: import { isSanityApiError } from "@/types/sanity-errors";
 7: async function fetchProjectsFromSanity(): Promise<Project[]> {
 8:   return client.fetch(
 9:     projectsQuery,
10:     {},
11:     {
12:       next: { revalidate: 3600 },
13:     },
14:   );
15: }
16: function handleError(error: unknown): never {
17:   console.error("Error fetching projects:", error);
18:   if (isSanityApiError(error)) {
19:     switch (error.statusCode) {
20:       case 401:
21:         throw new Error("Authentication failed");
22:       case 403:
23:         throw new Error("Insufficient permissions");
24:       case 429:
25:         throw new Error("Rate limit exceeded");
26:       default:
27:         throw new Error(`Sanity API error: ${error.message}`);
28:     }
29:   }
30:   if (error instanceof Error && error.name === "TimeoutError") {
31:     throw new Error("Request timed out");
32:   }
33:   throw new Error("Failed to fetch projects");
34: }
35: export const getProjects = cache(async (): Promise<Project[]> => {
36:   try {
37:     return await fetchProjectsFromSanity();
38:   } catch (error) {
39:     handleError(error);
40:   }
41: });
42: export function preloadProjects(): void {
43:   getProjects();
44: }
````

## File: src/app/prosjekter/error.tsx
````typescript
 1: "use client";
 2: import { useEffect } from "react";
 3: type ErrorBoundaryProps = Readonly<{
 4:   error: Error & { digest?: string };
 5:   reset: () => void;
 6: }>;
 7: export default function ErrorBoundary({ error, reset }: ErrorBoundaryProps) {
 8:   useEffect(() => {
 9:     console.error(error);
10:   }, [error]);
11:   return (
12:     <div className="flex flex-col items-center justify-center min-h-[50vh] text-center px-4">
13:       <h2 className="text-2xl font-bold text-matrix-light mb-4">
14:         Noe gikk galt ved lasting av prosjekter
15:       </h2>
16:       <button
17:         onClick={reset}
18:         className="px-4 py-2 bg-matrix-dark hover:bg-matrix-light text-white rounded-sm transition-colors"
19:       >
20:         Prøv igjen
21:       </button>
22:     </div>
23:   );
24: }
````

## File: src/app/prosjekter/loading.tsx
````typescript
 1: import RootLayout from "../RootLayout";
 2: import PageHeader from "@/components/UI/PageHeader.component";
 3: import RotatingLoader from "@/components/Animations/RotatingLoader.component";
 4: export default function Loading() {
 5:   return (
 6:     <RootLayout>
 7:       <main
 8:         role="main"
 9:         aria-label="Laster portefølje"
10:         className="mt-32 bg-graybg"
11:       >
12:         <PageHeader>Prosjekter</PageHeader>
13:         <div className="container mx-auto flex justify-center items-center min-h-[400px]">
14:           <RotatingLoader />
15:         </div>
16:       </main>
17:     </RootLayout>
18:   );
19: }
````

## File: src/app/prosjekter/page.tsx
````typescript
 1: import { Suspense } from "react";
 2: import type { Metadata } from "next/types";
 3: import RootLayout from "../RootLayout";
 4: import PageHeader from "@/components/UI/PageHeader.component";
 5: import ProsjektCard from "@/components/Prosjekter/ProsjektCard.component";
 6: import RotatingLoader from "@/components/Animations/RotatingLoader.component";
 7: import { getProjects, preloadProjects } from "./actions";
 8: export const metadata: Metadata = {
 9:   title: "Prosjekter - Dfweb",
10:   description: "Daniel Fjeldstad | Frontend Web Utvikler | Portefølje",
11: };
12: async function ProjectList() {
13:   const projects = await getProjects();
14:   return (
15:     <div className="container mx-auto">
16:       <div className="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 xl:grid-cols-2 gap-8">
17:         {projects.map((project) => (
18:           <ProsjektCard key={project.id} {...project} />
19:         ))}
20:       </div>
21:     </div>
22:   );
23: }
24: export default function Prosjekter() {
25:   // Start fetching projects data as early as possible
26:   preloadProjects();
27:   return (
28:     <RootLayout>
29:       <main
30:         role="main"
31:         aria-label="Innhold portefølje"
32:         className="mt-32 bg-graybg"
33:       >
34:         <PageHeader>Prosjekter</PageHeader>
35:         <Suspense fallback={<RotatingLoader />}>
36:           <ProjectList />
37:         </Suspense>
38:       </main>
39:     </RootLayout>
40:   );
41: }
````

## File: src/app/cursor.css
````css
 1: .matrix-cursor {
 2:   cursor: none;
 3: }
 4: .matrix-cursor::before,
 5: .matrix-cursor::after {
 6:   content: "";
 7:   position: fixed;
 8:   pointer-events: none;
 9:   z-index: 9999;
10:   left: var(--cursor-x, 0);
11:   top: var(--cursor-y, 0);
12: }
13: .matrix-cursor::before {
14:   width: 16px;
15:   height: 16px;
16:   border: 2px solid #00ff62;
17:   border-radius: 50%;
18:   transform: translate(-50%, -50%);
19:   box-shadow: 0 0 10px #00ff62;
20:   animation: pulse-and-rotate 2s ease-in-out infinite;
21: }
22: .matrix-cursor::after {
23:   width: 4px;
24:   height: 4px;
25:   background: #00ff62;
26:   border-radius: 50%;
27:   transform: translate(-50%, -50%);
28:   box-shadow: 0 0 15px 2px #00ff62;
29:   animation: pulse 1s ease-in-out infinite;
30: }
31: .matrix-trail {
32:   position: fixed;
33:   pointer-events: none;
34:   font-family: monospace;
35:   color: #00ff62;
36:   font-size: 12px;
37:   text-shadow: 0 0 3px #00ff62;
38:   z-index: 9998;
39:   opacity: 0;
40:   animation: trail-fade 3s linear forwards;
41:   letter-spacing: 5px;
42: }
43: @keyframes trail-fade {
44:   0% {
45:     opacity: 0.3;
46:     transform: translateY(0);
47:   }
48:   50% {
49:     opacity: 0.15;
50:     transform: translateY(35px);
51:   }
52:   100% {
53:     opacity: 0;
54:     transform: translateY(50px);
55:   }
56: }
57: @keyframes pulse-and-rotate {
58:   0% {
59:     transform: translate(-50%, -50%) rotate(0deg) scale(1);
60:     border-radius: 50%;
61:   }
62:   25% {
63:     border-radius: 2px;
64:   }
65:   50% {
66:     transform: translate(-50%, -50%) rotate(180deg) scale(1.2);
67:     border-radius: 50%;
68:   }
69:   75% {
70:     border-radius: 2px;
71:   }
72:   100% {
73:     transform: translate(-50%, -50%) rotate(360deg) scale(1);
74:     border-radius: 50%;
75:   }
76: }
77: @keyframes pulse {
78:   0%,
79:   100% {
80:     transform: translate(-50%, -50%) scale(1);
81:     opacity: 0.8;
82:   }
83:   50% {
84:     transform: translate(-50%, -50%) scale(1.5);
85:     opacity: 1;
86:   }
87: }
````

## File: src/app/glitch.css
````css
  1: .glitch {
  2:   position: relative;
  3: }
  4: @keyframes noise-anim {
  5:   0% {
  6:     clip: rect(42px, 9999px, 44px, 0);
  7:   }
  8:   5% {
  9:     clip: rect(12px, 9999px, 85px, 0);
 10:   }
 11:   10% {
 12:     clip: rect(22px, 9999px, 65px, 0);
 13:   }
 14:   15% {
 15:     clip: rect(32px, 9999px, 75px, 0);
 16:   }
 17:   20% {
 18:     clip: rect(42px, 9999px, 55px, 0);
 19:   }
 20:   25% {
 21:     clip: rect(52px, 9999px, 45px, 0);
 22:   }
 23:   30% {
 24:     clip: rect(62px, 9999px, 35px, 0);
 25:   }
 26:   35% {
 27:     clip: rect(72px, 9999px, 25px, 0);
 28:   }
 29:   40% {
 30:     clip: rect(82px, 9999px, 15px, 0);
 31:   }
 32:   45% {
 33:     clip: rect(92px, 9999px, 5px, 0);
 34:   }
 35:   50% {
 36:     clip: rect(102px, 9999px, 95px, 0);
 37:   }
 38:   55% {
 39:     clip: rect(112px, 9999px, 85px, 0);
 40:   }
 41:   60% {
 42:     clip: rect(122px, 9999px, 75px, 0);
 43:   }
 44:   65% {
 45:     clip: rect(132px, 9999px, 65px, 0);
 46:   }
 47:   70% {
 48:     clip: rect(142px, 9999px, 55px, 0);
 49:   }
 50:   75% {
 51:     clip: rect(152px, 9999px, 45px, 0);
 52:   }
 53:   80% {
 54:     clip: rect(162px, 9999px, 35px, 0);
 55:   }
 56:   85% {
 57:     clip: rect(172px, 9999px, 25px, 0);
 58:   }
 59:   90% {
 60:     clip: rect(182px, 9999px, 15px, 0);
 61:   }
 62:   95% {
 63:     clip: rect(192px, 9999px, 5px, 0);
 64:   }
 65:   100% {
 66:     clip: rect(202px, 9999px, 95px, 0);
 67:   }
 68: }
 69: @keyframes noise-anim-2 {
 70:   0% {
 71:     clip: rect(32px, 9999px, 34px, 0);
 72:   }
 73:   5% {
 74:     clip: rect(22px, 9999px, 75px, 0);
 75:   }
 76:   10% {
 77:     clip: rect(12px, 9999px, 55px, 0);
 78:   }
 79:   15% {
 80:     clip: rect(42px, 9999px, 65px, 0);
 81:   }
 82:   20% {
 83:     clip: rect(52px, 9999px, 45px, 0);
 84:   }
 85:   25% {
 86:     clip: rect(62px, 9999px, 35px, 0);
 87:   }
 88:   30% {
 89:     clip: rect(72px, 9999px, 25px, 0);
 90:   }
 91:   35% {
 92:     clip: rect(82px, 9999px, 15px, 0);
 93:   }
 94:   40% {
 95:     clip: rect(92px, 9999px, 5px, 0);
 96:   }
 97:   45% {
 98:     clip: rect(102px, 9999px, 95px, 0);
 99:   }
100:   50% {
101:     clip: rect(112px, 9999px, 85px, 0);
102:   }
103:   55% {
104:     clip: rect(122px, 9999px, 75px, 0);
105:   }
106:   60% {
107:     clip: rect(132px, 9999px, 65px, 0);
108:   }
109:   65% {
110:     clip: rect(142px, 9999px, 55px, 0);
111:   }
112:   70% {
113:     clip: rect(152px, 9999px, 45px, 0);
114:   }
115:   75% {
116:     clip: rect(162px, 9999px, 35px, 0);
117:   }
118:   80% {
119:     clip: rect(172px, 9999px, 25px, 0);
120:   }
121:   85% {
122:     clip: rect(182px, 9999px, 15px, 0);
123:   }
124:   90% {
125:     clip: rect(192px, 9999px, 5px, 0);
126:   }
127:   95% {
128:     clip: rect(202px, 9999px, 95px, 0);
129:   }
130:   100% {
131:     clip: rect(212px, 9999px, 85px, 0);
132:   }
133: }
134: .glitch:after,
135: .glitch:before {
136:   content: attr(data-text);
137:   position: absolute;
138:   top: 0;
139:   overflow: hidden;
140:   clip: rect(0, 900px, 0, 0);
141: }
142: .glitch:after {
143:   left: 2px;
144:   text-shadow: -1px 0 red;
145: }
146: .glitch:before {
147:   left: -2px;
148:   text-shadow: 1px 0 blue;
149: }
150: .glitch:hover:after {
151:   animation: noise-anim 0.3s infinite linear alternate-reverse;
152: }
153: .glitch:hover:before {
154:   animation: noise-anim-2 0.3s infinite linear alternate-reverse;
155: }
````

## File: src/app/globals.css
````css
  1: @import "tailwindcss";
  2: @config '../../tailwind.config.ts';
  3: /*
  4:   The default border color has changed to `currentcolor` in Tailwind CSS v4,
  5:   so we've added these compatibility styles to make sure everything still
  6:   looks the same as it did with Tailwind CSS v3.
  7:   If we ever want to remove these styles, we need to add an explicit border
  8:   color utility to any element that depends on these defaults.
  9: */
 10: @layer base {
 11:   *,
 12:   ::after,
 13:   ::before,
 14:   ::backdrop,
 15:   ::file-selector-button {
 16:     border-color: var(--color-gray-200, currentcolor);
 17:   }
 18: }
 19: :root {
 20:   /* Modern Color Scheme */
 21:   --primary: #00ff62;
 22:   --secondary: #00cc4e;
 23:   --accent: #008529;
 24:   --text: #e1e1e1;
 25:   --background: var(--color-slate-900, #0f172a);
 26:   /* Semantic Colors */
 27:   --success: #00cc4e;
 28:   --error: #ff4e4e;
 29:   --warning: #ffb74e;
 30:   --info: #4e9fff;
 31:   /* Matrix Theme Colors */
 32:   --matrix-light: #00ff62;
 33:   --matrix: #00cc4e;
 34:   --matrix-dark: #008529;
 35:   --matrix-glow: rgba(0, 255, 98, 0.6);
 36: }
 37: body {
 38:   background-color: var(--background);
 39:   color: var(--text);
 40:   font-family:
 41:     "Inter",
 42:     -apple-system,
 43:     BlinkMacSystemFont,
 44:     "Segoe UI",
 45:     Roboto,
 46:     Oxygen,
 47:     Ubuntu,
 48:     Cantarell,
 49:     sans-serif;
 50: }
 51: #matrixCanvas {
 52:   opacity: 0.7;
 53: }
 54: /* Selection */
 55: ::selection {
 56:   background-color: var(--matrix-dark);
 57:   color: #ffffff;
 58: }
 59: /* Scrollbar */
 60: * {
 61:   scrollbar-width: thin;
 62:   scrollbar-color: var(--matrix-dark) #1a1a1a;
 63: }
 64: ::-webkit-scrollbar {
 65:   width: 6px;
 66: }
 67: ::-webkit-scrollbar-track {
 68:   background: #1a1a1a;
 69: }
 70: ::-webkit-scrollbar-thumb {
 71:   background: var(--matrix-dark);
 72:   border-radius: 3px;
 73: }
 74: ::-webkit-scrollbar-thumb:hover {
 75:   background: var(--matrix-light);
 76: }
 77: /* Remove focus outline */
 78: :focus {
 79:   outline: none;
 80: }
 81: /* Remove focus visible outline */
 82: :focus-visible {
 83:   outline: none;
 84: }
 85: /* Skeleton shimmer effect */
 86: @keyframes shimmer {
 87:   0% {
 88:     background-position: -200% 0;
 89:   }
 90:   100% {
 91:     background-position: 200% 0;
 92:   }
 93: }
 94: .skeleton-shimmer::before {
 95:   content: "";
 96:   position: absolute;
 97:   top: 0;
 98:   left: 0;
 99:   right: 0;
100:   bottom: 0;
101:   background: linear-gradient(
102:     90deg,
103:     transparent 0%,
104:     rgba(255, 255, 255, 0.04) 50%,
105:     transparent 100%
106:   );
107:   background-size: 200% 100%;
108:   animation: shimmer 1.5s infinite;
109: }
110: /* Performance optimizations for animations */
111: .contain-layout {
112:   contain: layout style paint;
113: }
114: /* Reduced motion for accessibility */
115: @media (prefers-reduced-motion: reduce) {
116:   *,
117:   *::before,
118:   *::after {
119:     animation-duration: 0.01ms !important;
120:     animation-iteration-count: 1 !important;
121:     transition-duration: 0.01ms !important;
122:   }
123: }
````

## File: src/app/layout.tsx
````typescript
 1: import type { Metadata } from "next";
 2: import { Inter } from "next/font/google";
 3: import "./globals.css";
 4: import "./glitch.css";
 5: import SkipLink from "@/components/UI/SkipLink.component";
 6: const inter = Inter({ subsets: ["latin"] });
 7: export const metadata: Metadata = {
 8:   title: "Forside - Dfweb",
 9:   description: "Daniel Fjeldstad | Frontend Web Utvikler | Portefølje",
10: };
11: export default function RootLayout({
12:   children,
13: }: Readonly<{
14:   children: React.ReactNode;
15: }>) {
16:   return (
17:     <html lang="nb">
18:       <head>
19:         <link rel="icon" href="/favicon.ico" />
20:         <link rel="apple-touch-icon" href="/logo.png" />
21:         <meta property="og:title" content="Daniel Fjeldstad" />
22:         <meta name="author" content="Daniel Fjeldstad" />
23:         <meta property="og:locale" content="nb_NO" />
24:         <meta
25:           name="description"
26:           content="Daniel Fjeldstad | Frontend Web Utvikler | Portefølje"
27:         />
28:         <meta
29:           property="og:description"
30:           content="Daniel Fjeldstad | Frontend Web Utvikler | Portefølje"
31:         />
32:         <meta property="og:url" content="https://www.dfweb.no/" />
33:         <meta property="og:site_name" content="dfweb.no" />
34:         <meta name="theme-color" content="#004014" />
35:       </head>
36:       <body
37:         className={`flex flex-col min-h-screen bg-slate-900 leading-relaxed text-slate-300/[0.9] antialiased selection:bg-teal-300 selection:text-teal-900 ${inter.className}`}
38:       >
39:         <SkipLink />
40:         <div id="main-content" className="grow flex flex-col">
41:           {children}
42:         </div>
43:       </body>
44:     </html>
45:   );
46: }
````

## File: src/app/not-found.tsx
````typescript
 1: import ReactMatrixAnimation from "@/components/Animations/Matrix.component";
 2: import Pill from "@/components/UI/Pill.component";
 3: export default function Custom404() {
 4:   return (
 5:     <div className="absolute w-full h-full">
 6:       <ReactMatrixAnimation />
 7:       <div className="absolute inset-0 flex flex-col items-center justify-center h-full">
 8:         <h1 className="text-white text-5xl m-6">Har du gått deg vill, Neo?</h1>
 9:         <Pill href="/" text="Returner til Matrix" />
10:       </div>
11:     </div>
12:   );
13: }
````

## File: src/app/page.tsx
````typescript
 1: import dynamic from "next/dynamic";
 2: import RootLayout from "@/app/RootLayout";
 3: import { client } from "@/lib/sanity/client";
 4: import { pageContentQuery } from "@/lib/sanity/queries";
 5: import ContentLoader from "@/components/UI/ContentLoader.component";
 6: const DynamicHero = dynamic(() => import("@/components/Index/Hero.component"), {
 7:   loading: () => <ContentLoader type="hero" />,
 8: });
 9: const DynamicIndexContent = dynamic(
10:   () => import("@/components/Index/IndexContent.component"),
11:   {
12:     loading: () => <ContentLoader type="section" sections={3} />,
13:   },
14: );
15: export default async function HomePage() {
16:   const pageContent = await client.fetch(pageContentQuery);
17:   return (
18:     <RootLayout>
19:       <main>
20:         <div className="mt-[4.5rem] md:mt-32 overflow-hidden">
21:           {pageContent?.hero && <DynamicHero content={pageContent.hero} />}
22:         </div>
23:         {pageContent?.content && (
24:           <DynamicIndexContent pageContent={pageContent.content} />
25:         )}
26:       </main>
27:     </RootLayout>
28:   );
29: }
````

## File: src/app/RootLayout.tsx
````typescript
 1: import { SpeedInsights } from "@vercel/speed-insights/next";
 2: import { client } from "@/lib/sanity/client";
 3: import { navigationQuery, settingsQuery } from "@/lib/sanity/queries";
 4: import Header from "@/components/Layout/Header.component";
 5: import Footer from "@/components/Layout/Footer.component";
 6: import ErrorBoundary from "@/components/ErrorBoundary/ErrorBoundary";
 7: export default async function RootLayout({
 8:   children,
 9: }: Readonly<{
10:   children: React.ReactNode;
11: }>) {
12:   const [navigation, { footerCopyrightText }] = await Promise.all([
13:     client.fetch(navigationQuery),
14:     client.fetch(settingsQuery),
15:   ]);
16:   return (
17:     <ErrorBoundary>
18:       <div className="flex flex-col grow">
19:         <Header navigation={navigation} />
20:         <SpeedInsights />
21:         <div className="grow">{children}</div>
22:         <Footer
23:           footerCopyrightText={
24:             footerCopyrightText ?? "Copyright Daniel Fjeldstad"
25:           }
26:         />
27:       </div>
28:     </ErrorBoundary>
29:   );
30: }
````

## File: src/components/Animations/types/Animations.types.ts
````typescript
 1: import { ReactNode } from "react";
 2: export interface IAnimateProps {
 3:   children: ReactNode;
 4:   cssClass?: string;
 5: }
 6: export interface IAnimateBounceProps {
 7:   children: ReactNode;
 8:   cssClass?: string;
 9:   viewAmount?: "some" | "all" | number;
10:   instant?: boolean;
11: }
12: export interface IAnimateWithDelayProps {
13:   children: ReactNode;
14:   cssClass?: string;
15:   delay: number;
16: }
17: export interface IAnimateStaggerWithDelayProps {
18:   children: ReactNode;
19:   cssClass?: string;
20:   delay: number;
21:   staggerDelay?: number;
22:   animateNotReverse: boolean;
23: }
24: export interface IGrowProps {
25:   duration?: number;
26:   delay?: number;
27:   easing?: [number, number, number, number];
28:   children: ReactNode;
29: }
````

## File: src/components/Animations/BounceInScroll.component.tsx
````typescript
 1: "use client";
 2: import { Variants, motion } from "motion/react";
 3: import { IAnimateBounceProps } from "./types/Animations.types";
 4: const bounceVariants: Variants = {
 5:   offscreen: {
 6:     y: 30,
 7:     opacity: 0,
 8:   },
 9:   onscreen: {
10:     y: 0,
11:     opacity: 1,
12:     transition: {
13:       type: "spring",
14:       bounce: 0.5,
15:       duration: 1.5,
16:     },
17:   },
18: };
19: /**
20:  * Bounce in content when content becomes visible in viewport
21:  * @function BounceInScroll
22:  * @param {ReactNode} children - Children content to render
23:  * @param {string} cssClass - CSS classes to apply to component
24:  * @param {"some" | "all" | number} viewAmount - Amount of component needed to be visible before animating
25:  * @param {boolean} instant - Whether to animate instantly without scroll trigger
26:  * @returns {JSX.Element} - Rendered component
27:  */
28: const BounceInScroll = ({
29:   children,
30:   cssClass,
31:   viewAmount,
32:   instant,
33: }: IAnimateBounceProps) => (
34:   <motion.div
35:     initial="offscreen"
36:     animate={instant ? "onscreen" : undefined}
37:     whileInView={instant ? undefined : "onscreen"}
38:     viewport={instant ? undefined : { once: true, amount: viewAmount ?? 0.2 }}
39:     className={cssClass}
40:     data-testid="bounceinscroll"
41:   >
42:     <motion.div variants={bounceVariants}>{children}</motion.div>
43:   </motion.div>
44: );
45: export default BounceInScroll;
````

## File: src/components/Animations/FadeDown.component.tsx
````typescript
 1: import { Variants, motion } from "motion/react";
 2: import { IAnimateWithDelayProps } from "./types/Animations.types";
 3: /**
 4:  * Fade down content animation
 5:  * @function FadeDown
 6:  * @param {ReactNode} children - Children content to render
 7:  * @param {string} cssClass - CSS classes to apply to component
 8:  * @param {number} delay - Time to wait before starting animation
 9:  * @returns {JSX.Element} - Rendered component
10:  */
11: const FadeDown = ({ children, cssClass, delay }: IAnimateWithDelayProps) => {
12:   const fadeDownVariants: Variants = {
13:     initial: { opacity: 0, y: -20 },
14:     animate: {
15:       y: 0,
16:       opacity: 1,
17:       transition: { delay, type: "spring", duration: 0.5, stiffness: 100 },
18:     },
19:   };
20:   return (
21:     <motion.div
22:       className={cssClass}
23:       variants={fadeDownVariants}
24:       initial="initial"
25:       animate="animate"
26:       data-testid="fadedown"
27:     >
28:       {children}
29:     </motion.div>
30:   );
31: };
32: export default FadeDown;
````

## File: src/components/Animations/FadeIn.component.tsx
````typescript
 1: import { motion } from "motion/react";
 2: import { ReactNode } from "react";
 3: export interface FadeInProps {
 4:   children: ReactNode;
 5:   className?: string;
 6:   duration?: number;
 7:   delay?: number;
 8:   "data-testid"?: string;
 9: }
10: /**
11:  * Minimal fade-in animation component
12:  * Only uses opacity for zero CLS impact
13:  */
14: const FadeIn = ({
15:   children,
16:   className = "",
17:   duration = 1,
18:   delay = 0,
19:   "data-testid": dataTestId,
20: }: FadeInProps) => {
21:   return (
22:     <motion.div
23:       className={className}
24:       data-testid={dataTestId}
25:       initial={{ opacity: 0 }}
26:       animate={{ opacity: 1 }}
27:       transition={{
28:         duration,
29:         delay,
30:         ease: "easeOut",
31:       }}
32:       style={{
33:         willChange: "opacity",
34:       }}
35:     >
36:       {children}
37:     </motion.div>
38:   );
39: };
40: export default FadeIn;
````

## File: src/components/Animations/FadeInScroll.component.tsx
````typescript
 1: "use client";
 2: import { motion } from "motion/react";
 3: import { ReactNode } from "react";
 4: export interface FadeInScrollProps {
 5:   children: ReactNode;
 6:   className?: string;
 7:   duration?: number;
 8:   viewAmount?: "some" | "all" | number;
 9:   "data-testid"?: string;
10: }
11: /**
12:  * Minimal fade-in animation triggered on scroll
13:  * Only uses opacity for zero CLS impact
14:  */
15: const FadeInScroll = ({
16:   children,
17:   className = "",
18:   duration = 0.4,
19:   viewAmount = 0.2,
20:   "data-testid": dataTestId,
21: }: FadeInScrollProps) => {
22:   return (
23:     <motion.div
24:       className={className}
25:       data-testid={dataTestId}
26:       initial={{ opacity: 0 }}
27:       whileInView={{ opacity: 1 }}
28:       viewport={{ once: true, amount: viewAmount }}
29:       transition={{
30:         duration,
31:         ease: "easeOut",
32:       }}
33:       style={{
34:         willChange: "opacity",
35:       }}
36:     >
37:       {children}
38:     </motion.div>
39:   );
40: };
41: export default FadeInScroll;
````

## File: src/components/Animations/FadeUp.component.tsx
````typescript
 1: import { Variants, motion } from "motion/react";
 2: import { IAnimateWithDelayProps } from "./types/Animations.types";
 3: /**
 4:  * Fade up content animation
 5:  * @function FadeUp
 6:  * @param {ReactNode} children - Children content to render
 7:  * @param {string} cssClass - CSS classes to apply to component
 8:  * @param {number} delay - Time to wait before starting animation
 9:  * @returns {JSX.Element} - Rendered component
10:  */
11: const FadeUp = ({ children, cssClass, delay }: IAnimateWithDelayProps) => {
12:   const fadeUpVariants: Variants = {
13:     initial: { opacity: 0, y: 20 },
14:     animate: {
15:       y: 0,
16:       opacity: 1,
17:       transition: { delay, type: "spring", duration: 0.5, stiffness: 100 },
18:     },
19:   };
20:   return (
21:     <motion.div
22:       className={cssClass}
23:       variants={fadeUpVariants}
24:       initial="initial"
25:       animate="animate"
26:       data-testid="fadeup"
27:     >
28:       {children}
29:     </motion.div>
30:   );
31: };
32: export default FadeUp;
````

## File: src/components/Animations/Grow.component.tsx
````typescript
 1: import { motion } from "motion/react";
 2: import { IGrowProps } from "./types/Animations.types";
 3: /**
 4:  * A component that animates its children to grow in size.
 5:  * @param props Props for the Grow component.
 6:  * @returns A component that animates its children to grow in size.
 7:  */
 8: const Grow = ({
 9:   duration = 0.5,
10:   delay = 0,
11:   easing = [0.42, 0, 0.58, 1],
12:   children,
13: }: IGrowProps) => {
14:   return (
15:     <motion.div
16:       initial={{ scale: 0 }}
17:       animate={{ scale: 1 }}
18:       transition={{ duration, delay, ease: easing }}
19:       data-testid="grow"
20:     >
21:       {children}
22:     </motion.div>
23:   );
24: };
25: export default Grow;
````

## File: src/components/Animations/Matrix.component.tsx
````typescript
  1: "use client";
  2: import React, { useEffect, useRef, useCallback } from "react";
  3: import { createMatrixRenderer } from "./Matrix.renderer";
  4: import { hexToRgb, getRandomInt, debounce, Column } from "./Matrix.utils";
  5: export interface ReactMatrixAnimationProps {
  6:   tileSize?: number;
  7:   fadeFactor?: number;
  8:   backgroundColor?: string;
  9:   fontColor?: string;
 10:   glowColor?: string;
 11:   tileSet?: string[] | null;
 12: }
 13: const CANVAS_ID = "matrixCanvas";
 14: /**
 15:  * ReactMatrixAnimation component
 16:  * @param {ReactMatrixAnimationProps} props - The props for the ReactMatrixAnimation component
 17:  * @returns {JSX.Element} The rendered ReactMatrixAnimation component
 18:  */
 19: const ReactMatrixAnimation: React.FC<ReactMatrixAnimationProps> = ({
 20:   tileSize = 20,
 21:   fadeFactor = 0.5,
 22:   backgroundColor = "#0a0a0a",
 23:   fontColor = "#008529",
 24:   glowColor = "#00FF00",
 25:   tileSet = "アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789АВСDЕFGHIJKLMNOPQRSTUVWXYZ".split(
 26:     "",
 27:   ),
 28: }) => {
 29:   const canvasRef = useRef<HTMLCanvasElement>(null);
 30:   const columnsRef = useRef<Column[]>([]);
 31:   const maxStackHeightRef = useRef<number>(0);
 32:   const lastFrameTimeRef = useRef<number>(0);
 33:   const isInitializedRef = useRef<boolean>(false);
 34:   const fps = 10;
 35:   const frameInterval = 1000 / fps;
 36:   const rgbBackground = hexToRgb(backgroundColor);
 37:   if (!rgbBackground) {
 38:     throw new Error("Invalid background color. Use a hex value e.g. #030303");
 39:   }
 40:   const rgbFont = hexToRgb(fontColor);
 41:   if (!rgbFont) {
 42:     throw new Error("Invalid font color. Use a hex value e.g. #030303");
 43:   }
 44:   /**
 45:    * Initializes the matrix columns
 46:    * @param {HTMLCanvasElement} canvas - The canvas element
 47:    */
 48:   const initMatrix = useCallback(
 49:     (canvas: HTMLCanvasElement) => {
 50:       const columns: Column[] = [];
 51:       const maxStackHeight = Math.ceil(canvas.height / tileSize);
 52:       for (let i = 0; i < canvas.width / tileSize; ++i) {
 53:         const column: Column = {
 54:           x: i * tileSize,
 55:           stackHeight: 10 + getRandomInt(maxStackHeight),
 56:           stackCounter: -getRandomInt(maxStackHeight * 2),
 57:         };
 58:         columns.push(column);
 59:       }
 60:       columnsRef.current = columns;
 61:       maxStackHeightRef.current = maxStackHeight;
 62:     },
 63:     [tileSize],
 64:   );
 65:   const tick = useCallback(
 66:     (
 67:       timestamp: number,
 68:       ctx: CanvasRenderingContext2D,
 69:       canvas: HTMLCanvasElement,
 70:     ) => {
 71:       if (!lastFrameTimeRef.current) {
 72:         lastFrameTimeRef.current = timestamp;
 73:       }
 74:       const delta = timestamp - lastFrameTimeRef.current;
 75:       if (delta > frameInterval) {
 76:         const view = createMatrixRenderer({
 77:           ctx,
 78:           canvas,
 79:           columns: columnsRef.current,
 80:           maxStackHeight: maxStackHeightRef.current,
 81:           tileSize,
 82:           fadeFactor,
 83:           rgbBackground,
 84:           rgbFont,
 85:           glowColor,
 86:           tileSet,
 87:           getRandomInt,
 88:         });
 89:         view.draw();
 90:         lastFrameTimeRef.current = timestamp - (delta % frameInterval);
 91:       }
 92:       requestAnimationFrame((timestamp) => tick(timestamp, ctx, canvas));
 93:     },
 94:     [
 95:       fadeFactor,
 96:       rgbBackground,
 97:       rgbFont,
 98:       tileSize,
 99:       glowColor,
100:       tileSet,
101:       frameInterval,
102:     ],
103:   );
104:   useEffect(() => {
105:     const canvas = canvasRef.current;
106:     if (!canvas) return;
107:     const ctx = canvas.getContext("2d");
108:     if (!ctx) return;
109:     const handleResize = () => {
110:       const boundingClientRect = canvas.getBoundingClientRect();
111:       canvas.width = boundingClientRect.width;
112:       canvas.height = boundingClientRect.height;
113:       initMatrix(canvas);
114:       isInitializedRef.current = true;
115:     };
116:     const debouncedResize = debounce(handleResize, 100);
117:     window.addEventListener("resize", debouncedResize);
118:     handleResize();
119:     requestAnimationFrame((timestamp) => tick(timestamp, ctx, canvas));
120:     return () => {
121:       window.removeEventListener("resize", debouncedResize);
122:     };
123:   }, [initMatrix, tick]);
124:   return (
125:     <canvas
126:       ref={canvasRef}
127:       id={CANVAS_ID}
128:       style={{ width: "100%", height: "100%" }}
129:       data-testid="matrix-canvas"
130:       className="absolute inset-0"
131:     />
132:   );
133: };
134: export default ReactMatrixAnimation;
````

## File: src/components/Animations/Matrix.renderer.ts
````typescript
  1: import { RGB, Column, getRandomCharacter } from "./Matrix.utils";
  2: interface MatrixRendererProps {
  3:   ctx: CanvasRenderingContext2D;
  4:   canvas: HTMLCanvasElement;
  5:   columns: Column[];
  6:   maxStackHeight: number;
  7:   tileSize: number;
  8:   fadeFactor: number;
  9:   rgbBackground: RGB;
 10:   rgbFont: RGB;
 11:   glowColor: string;
 12:   tileSet: string[] | null;
 13:   getRandomInt: (max: number) => number;
 14: }
 15: interface MatrixRenderer {
 16:   draw: () => void;
 17: }
 18: const createDrawFunctions = (
 19:   ctx: CanvasRenderingContext2D,
 20:   canvas: HTMLCanvasElement,
 21:   rgbBackground: RGB,
 22:   rgbFont: RGB,
 23:   fadeFactor: number,
 24:   tileSize: number,
 25:   glowColor: string,
 26: ) => {
 27:   const drawBackground = () => {
 28:     ctx.fillStyle = `rgba(${rgbBackground.r}, ${rgbBackground.g}, ${rgbBackground.b}, ${fadeFactor})`;
 29:     ctx.fillRect(0, 0, canvas.width, canvas.height);
 30:     ctx.font = `${tileSize - 2}px monospace`;
 31:   };
 32:   const drawCharacter = (character: string, x: number, y: number) => {
 33:     ctx.fillStyle = `rgb(${rgbFont.r}, ${rgbFont.g}, ${rgbFont.b})`;
 34:     ctx.fillText(character, x, y);
 35:   };
 36:   const drawGlowEffect = (character: string, x: number, y: number) => {
 37:     ctx.save();
 38:     ctx.shadowColor = glowColor;
 39:     ctx.shadowBlur = 10;
 40:     ctx.fillStyle = glowColor;
 41:     ctx.fillText(character, x, y);
 42:     ctx.restore();
 43:   };
 44:   return { drawBackground, drawCharacter, drawGlowEffect };
 45: };
 46: const createColumnHandlers = (
 47:   tileSize: number,
 48:   maxStackHeight: number,
 49:   getRandomInt: (max: number) => number,
 50: ) => {
 51:   const updateColumnState = (column: Column) => {
 52:     column.stackCounter++;
 53:     if (column.stackCounter >= column.stackHeight) {
 54:       column.stackHeight = 10 + getRandomInt(maxStackHeight);
 55:       column.stackCounter = 0;
 56:     }
 57:   };
 58:   const getCharacterPosition = (column: Column) => ({
 59:     y: column.stackCounter * tileSize + tileSize,
 60:     isLastCharacter: column.stackCounter === Math.floor(column.stackHeight) - 1,
 61:   });
 62:   return { updateColumnState, getCharacterPosition };
 63: };
 64: export const createMatrixRenderer = ({
 65:   ctx,
 66:   canvas,
 67:   columns,
 68:   maxStackHeight,
 69:   tileSize,
 70:   fadeFactor,
 71:   rgbBackground,
 72:   rgbFont,
 73:   glowColor,
 74:   tileSet,
 75:   getRandomInt,
 76: }: MatrixRendererProps): MatrixRenderer => {
 77:   const { drawBackground, drawCharacter, drawGlowEffect } = createDrawFunctions(
 78:     ctx,
 79:     canvas,
 80:     rgbBackground,
 81:     rgbFont,
 82:     fadeFactor,
 83:     tileSize,
 84:     glowColor,
 85:   );
 86:   const { updateColumnState, getCharacterPosition } = createColumnHandlers(
 87:     tileSize,
 88:     maxStackHeight,
 89:     getRandomInt,
 90:   );
 91:   const drawColumn = (column: Column) => {
 92:     if (column.stackCounter < 0) return;
 93:     const randomCharacter = getRandomCharacter(tileSet);
 94:     const { y, isLastCharacter } = getCharacterPosition(column);
 95:     drawCharacter(randomCharacter, column.x, y);
 96:     if (isLastCharacter) {
 97:       drawGlowEffect(randomCharacter, column.x, y);
 98:     }
 99:   };
100:   return {
101:     draw: () => {
102:       drawBackground();
103:       columns.forEach((column) => {
104:         drawColumn(column);
105:         updateColumnState(column);
106:       });
107:     },
108:   };
109: };
````

## File: src/components/Animations/Matrix.utils.ts
````typescript
 1: export interface RGB {
 2:   r: number;
 3:   g: number;
 4:   b: number;
 5: }
 6: export interface Column {
 7:   x: number;
 8:   stackHeight: number;
 9:   stackCounter: number;
10: }
11: /**
12:  * Converts a hex color value to RGB
13:  * @param {string} hexValue - The hex color value to convert
14:  * @returns {RGB | null} The RGB color object or null if invalid hex value
15:  */
16: export const hexToRgb = (hexValue: string): RGB | null => {
17:   const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hexValue);
18:   return result
19:     ? {
20:         r: parseInt(result?.[1] ?? "0", 16),
21:         g: parseInt(result?.[2] ?? "0", 16),
22:         b: parseInt(result?.[3] ?? "0", 16),
23:       }
24:     : null;
25: };
26: /**
27:  * Generates a random integer
28:  * @param {number} max - The maximum value (exclusive)
29:  * @returns {number} A random integer between 0 and max-1
30:  */
31: export const getRandomInt = (max: number): number => {
32:   const array = new Uint32Array(1);
33:   window.crypto.getRandomValues(array);
34:   return (array?.[0] ?? 0) % max;
35: };
36: /**
37:  * Gets a random character from the tileSet or generates a random ASCII character
38:  * @param {string[] | null} tileSet - Optional set of characters to choose from
39:  * @returns {string} A random character
40:  */
41: export const getRandomCharacter = (tileSet: string[] | null): string => {
42:   if (tileSet && Array.isArray(tileSet) && tileSet.length > 0) {
43:     return tileSet[getRandomInt(tileSet.length)] ?? tileSet[0] ?? "";
44:   }
45:   // Generate ASCII printable characters (33-126)
46:   return String.fromCharCode(33 + (getRandomInt(94) % 94));
47: };
48: /**
49:  * Debounce function
50:  * @param {T} func - The function to debounce
51:  * @param {number} wait - The debounce wait time in milliseconds
52:  * @returns {(...args: Parameters<T>) => void} The debounced function
53:  */
54: export const debounce = <T extends (...args: unknown[]) => void>(
55:   func: T,
56:   wait: number,
57: ): ((...args: Parameters<T>) => void) => {
58:   let timeout: ReturnType<typeof setTimeout> | null = null;
59:   return (...args: Parameters<T>) => {
60:     if (timeout !== null) {
61:       clearTimeout(timeout);
62:     }
63:     timeout = setTimeout(() => func(...args), wait);
64:   };
65: };
````

## File: src/components/Animations/MatrixCursor.component.tsx
````typescript
  1: "use client";
  2: import { useEffect, RefObject, useState, useCallback } from "react";
  3: import "@/app/cursor.css";
  4: import { useMobile } from "../../hooks/useMobile"; // Pb51b
  5: interface MatrixCursorProps {
  6:   heroRef: RefObject<HTMLElement | null>;
  7: }
  8: interface CursorStyles extends React.CSSProperties {
  9:   "--cursor-x": string;
 10:   "--cursor-y": string;
 11: }
 12: interface MatrixTrail {
 13:   id: string;
 14:   x: number;
 15:   y: number;
 16:   char: string;
 17: }
 18: /**
 19:  * MatrixCursor component that renders a custom cursor with a matrix trail effect
 20:  * @param {MatrixCursorProps} props - The props for the MatrixCursor component
 21:  * @param {RefObject<HTMLElement | null>} props.heroRef - Reference to the hero section element
 22:  * @returns {JSX.Element | null} The rendered MatrixCursor component or null if heroRef is not available
 23:  */
 24: const MatrixCursor = ({ heroRef }: MatrixCursorProps) => {
 25:   const isMobile = useMobile(); // Pd528
 26:   const [cursorPosition, setCursorPosition] = useState({ x: 0, y: 0 });
 27:   const [isHovered, setIsHovered] = useState(false);
 28:   const [trails, setTrails] = useState<MatrixTrail[]>([]);
 29:   const getRandomChar = useCallback(() => {
 30:     const matrixChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*";
 31:     const index = Math.floor(Math.random() * matrixChars.length);
 32:     return matrixChars[index] ?? matrixChars[0] ?? "X";
 33:   }, []);
 34:   const createTrail = useCallback(
 35:     (x: number, y: number) => {
 36:       const newTrail: MatrixTrail = {
 37:         id: Math.random().toString(36).substring(2, 100),
 38:         x,
 39:         y,
 40:         char: getRandomChar(),
 41:       };
 42:       setTrails((currentTrails) => {
 43:         const updatedTrails = [...currentTrails, newTrail];
 44:         if (updatedTrails.length > 20) {
 45:           return updatedTrails.slice(1);
 46:         }
 47:         return updatedTrails;
 48:       });
 49:     },
 50:     [getRandomChar],
 51:   );
 52:   useEffect(() => {
 53:     const heroSection = heroRef.current;
 54:     if (!heroSection) return;
 55:     // Add cursor: none to the hero section when hovered
 56:     if (isHovered) {
 57:       heroSection.style.cursor = "none";
 58:     } else {
 59:       heroSection.style.cursor = "";
 60:     }
 61:     const handleMouseMove = (e: MouseEvent) => {
 62:       setCursorPosition({ x: e.clientX, y: e.clientY });
 63:       if (isHovered) {
 64:         createTrail(e.clientX, e.clientY);
 65:       }
 66:     };
 67:     const handleMouseEnter = () => {
 68:       setIsHovered(true);
 69:       heroSection.style.cursor = "none";
 70:     };
 71:     const handleMouseLeave = () => {
 72:       setIsHovered(false);
 73:       heroSection.style.cursor = "";
 74:       setTrails([]);
 75:     };
 76:     heroSection.addEventListener("mousemove", handleMouseMove);
 77:     heroSection.addEventListener("mouseenter", handleMouseEnter);
 78:     heroSection.addEventListener("mouseleave", handleMouseLeave);
 79:     return () => {
 80:       heroSection.removeEventListener("mousemove", handleMouseMove);
 81:       heroSection.removeEventListener("mouseenter", handleMouseEnter);
 82:       heroSection.removeEventListener("mouseleave", handleMouseLeave);
 83:       heroSection.style.cursor = "";
 84:     };
 85:   }, [heroRef, isHovered, createTrail]);
 86:   const handleAnimationEnd = useCallback((trailId: string) => {
 87:     setTrails((currentTrails) =>
 88:       currentTrails.filter((trail) => trail.id !== trailId),
 89:     );
 90:   }, []);
 91:   if (!heroRef.current || isMobile) return null; // P6ecf
 92:   const cursorStyles: CursorStyles = {
 93:     position: "fixed",
 94:     top: 0,
 95:     left: 0,
 96:     width: "100%",
 97:     height: "100%",
 98:     pointerEvents: "none",
 99:     zIndex: 9999,
100:     "--cursor-x": `${cursorPosition.x}px`,
101:     "--cursor-y": `${cursorPosition.y}px`,
102:   };
103:   return (
104:     <div
105:       data-testid="matrix-cursor"
106:       className={isHovered ? "matrix-cursor" : ""}
107:       style={cursorStyles}
108:     >
109:       {trails.map((trail) => (
110:         <div
111:           key={trail.id}
112:           data-testid="matrix-trail"
113:           className="matrix-trail"
114:           style={{
115:             position: "fixed",
116:             left: `${trail.x}px`,
117:             top: `${trail.y}px`,
118:             zIndex: 10000,
119:             pointerEvents: "none",
120:           }}
121:           onAnimationEnd={() => handleAnimationEnd(trail.id)}
122:         >
123:           {trail.char}
124:         </div>
125:       ))}
126:       {isHovered && (
127:         <div
128:           style={{
129:             position: "fixed",
130:             top: 0,
131:             left: 0,
132:             width: "100%",
133:             height: "100%",
134:             pointerEvents: "none",
135:             zIndex: 9999,
136:           }}
137:         />
138:       )}
139:     </div>
140:   );
141: };
142: export default MatrixCursor;
````

## File: src/components/Animations/PageTransition.component.tsx
````typescript
 1: import { Variants, motion, AnimatePresence } from "motion/react";
 2: import { IAnimateProps } from "./types/Animations.types";
 3: /**
 4:  * Fade in animation used for page transitions
 5:  * @function PageTransition
 6:  * @param {ReactNode} children - Children content to render
 7:  * @param {string} cssClass - CSS classes to apply to component
 8:  * @returns {JSX.Element} - Rendered component
 9:  */
10: const PageTransition = ({ children, cssClass }: IAnimateProps) => {
11:   const pageTransitionVariants: Variants = {
12:     initial: { opacity: 0 },
13:     animate: { opacity: 1, transition: { duration: 1.0 } },
14:     exit: { opacity: 0 },
15:   };
16:   return (
17:     <AnimatePresence mode="wait">
18:       <motion.div
19:         className={cssClass}
20:         variants={pageTransitionVariants}
21:         initial="initial"
22:         animate="animate"
23:         exit="exit"
24:         data-testid="pagetransition"
25:       >
26:         {children}
27:       </motion.div>
28:     </AnimatePresence>
29:   );
30: };
31: export default PageTransition;
````

## File: src/components/Animations/RotatingLoader.component.tsx
````typescript
 1: /**
 2:  * RotatingLoader component
 3:  * Renders a rotating loader animation with Matrix theme
 4:  * @returns {JSX.Element} The rendered RotatingLoader component
 5:  */
 6: export default function RotatingLoader() {
 7:   return (
 8:     <div
 9:       className="grid min-h-[140px] w-full place-items-center overflow-x-scroll rounded-lg p-6 lg:overflow-visible"
10:       data-testid="rotating-loader"
11:     >
12:       <div className="animate-matrix-glow" data-testid="glow-container">
13:         <svg
14:           className="animate-spin"
15:           viewBox="0 0 64 64"
16:           fill="none"
17:           xmlns="http://www.w3.org/2000/svg"
18:           width="64"
19:           height="64"
20:           data-testid="loader-svg"
21:         >
22:           <path
23:             d="M32 3C35.8083 3 39.5794 3.75011 43.0978 5.20749C46.6163 6.66488 49.8132 8.80101 52.5061 11.4939C55.199 14.1868 57.3351 17.3837 58.7925 20.9022C60.2499 24.4206 61 28.1917 61 32C61 35.8083 60.2499 39.5794 58.7925 43.0978C57.3351 46.6163 55.199 49.8132 52.5061 52.5061C49.8132 55.199 46.6163 57.3351 43.0978 58.7925C39.5794 60.2499 35.8083 61 32 61C28.1917 61 24.4206 60.2499 20.9022 58.7925C17.3837 57.3351 14.1868 55.199 11.4939 52.5061C8.801 49.8132 6.66487 46.6163 5.20749 43.0978C3.7501 39.5794 3 35.8083 3 32C3 28.1917 3.75011 24.4206 5.2075 20.9022C6.66489 17.3837 8.80101 14.1868 11.4939 11.4939C14.1868 8.80099 17.3838 6.66487 20.9022 5.20749C24.4206 3.7501 28.1917 3 32 3L32 3Z"
24:             className="stroke-matrix-dark"
25:             strokeWidth="5"
26:             strokeLinecap="round"
27:             strokeLinejoin="round"
28:             data-testid="loader-path"
29:           ></path>
30:           <path
31:             d="M32 3C36.5778 3 41.0906 4.08374 45.1692 6.16256C49.2477 8.24138 52.7762 11.2562 55.466 14.9605C58.1558 18.6647 59.9304 22.9531 60.6448 27.4748C61.3591 31.9965 60.9928 36.6232 59.5759 40.9762"
32:             className="stroke-matrix-light"
33:             strokeWidth="5"
34:             strokeLinecap="round"
35:             strokeLinejoin="round"
36:             data-testid="loader-path"
37:           ></path>
38:         </svg>
39:       </div>
40:     </div>
41:   );
42: }
````

## File: src/components/CV/CVContent.component.tsx
````typescript
 1: import PageHeader from "@/components/UI/PageHeader.component";
 2: import Button from "@/components/UI/Button.component";
 3: import Tabs from "@/components/UI/Tabs.component";
 4: import QualificationsTabContent from "./QualificationsTabContent";
 5: import ExperienceTabContent from "./ExperienceTabContent";
 6: import EducationTabContent from "./EducationTabContent";
 7: import VolunteerWorkTabContent from "./VolunteerWorkTabContent";
 8: import type { Cv } from "@/types/sanity.types";
 9: /**
10:  * CVContent component for rendering the CV page with tabs
11:  * @param {Object} props - The props for the CVContent component
12:  * @param {Cv} props.cvData - The CV data from Sanity
13:  * @returns {JSX.Element} The rendered CVContent component
14:  */
15: const CVContent = ({ cvData }: { cvData: Cv }) => {
16:   const tabs = [
17:     {
18:       id: "qualifications",
19:       label: "Nøkkelkvalifikasjoner",
20:       content: (
21:         <QualificationsTabContent qualifications={cvData.keyQualifications} />
22:       ),
23:     },
24:     {
25:       id: "experience",
26:       label: "Erfaring",
27:       content: <ExperienceTabContent experience={cvData.experience} />,
28:     },
29:     {
30:       id: "education",
31:       label: "Utdanning",
32:       content: <EducationTabContent education={cvData.education} />,
33:     },
34:     {
35:       id: "volunteerWork",
36:       label: "Frivillig arbeid",
37:       content: <VolunteerWorkTabContent volunteerWork={cvData.volunteerWork} />,
38:     },
39:   ];
40:   return (
41:     <main id="maincontent">
42:       <div className="mt-32 bg-graybg">
43:         <PageHeader>CV</PageHeader>
44:         <div className="px-4 lg:px-0 xl:px-0 md:px-0">
45:           <div className="container mx-auto bg-slate-700 rounded-sm shadow-sm sm:mb-4">
46:             <div className="p-4 mx-auto md:h-full mt-4 flex flex-col justify-center items-center md:min-h-[600px] min-h-[400px]">
47:               <div className="p-4 text-lg rounded-sm md:w-full">
48:                 <div className="md:flex md:justify-center hidden">
49:                   <Tabs tabs={tabs} />
50:                 </div>
51:                 <div className="mx-auto text-center md:mt-8 md:hidden">
52:                   <Button href="./cv2.pdf" renderAs="a" type="button">
53:                     Last ned PDF
54:                   </Button>
55:                 </div>
56:               </div>
57:             </div>
58:           </div>
59:         </div>
60:       </div>
61:     </main>
62:   );
63: };
64: export default CVContent;
````

## File: src/components/CV/EducationTabContent.tsx
````typescript
 1: import React from "react";
 2: import GenericCVSectionContent from "./GenericCVSectionContent";
 3: interface Education {
 4:   period?: string;
 5:   institution?: string;
 6:   degree?: string;
 7:   description?: string;
 8: }
 9: interface EducationTabContentProps {
10:   education?: Education[];
11: }
12: const EducationTabContent: React.FC<EducationTabContentProps> = ({
13:   education,
14: }) => (
15:   <GenericCVSectionContent<Education>
16:     items={education}
17:     renderHeaderContent={(edu) => (
18:       <>
19:         {edu.period ?? ""} - {edu.institution ?? ""}
20:       </>
21:     )}
22:     renderSubHeaderContent={(edu) =>
23:       edu.degree && <p className="italic">{edu.degree}</p>
24:     }
25:   />
26: );
27: export default EducationTabContent;
````

## File: src/components/CV/ExperienceTabContent.tsx
````typescript
 1: import React from "react";
 2: import GenericCVSectionContent from "./GenericCVSectionContent";
 3: interface Experience {
 4:   period?: string;
 5:   company?: string;
 6:   role?: string;
 7:   description?: string;
 8: }
 9: interface ExperienceTabContentProps {
10:   experience?: Experience[];
11: }
12: const ExperienceTabContent: React.FC<ExperienceTabContentProps> = ({
13:   experience,
14: }) => (
15:   <GenericCVSectionContent<Experience>
16:     items={experience}
17:     renderHeaderContent={(exp) => (
18:       <>
19:         {exp.period ?? ""} - {exp.company ?? ""}
20:       </>
21:     )}
22:     renderSubHeaderContent={(exp) =>
23:       exp.role && <p className="italic">{exp.role}</p>
24:     }
25:   />
26: );
27: export default ExperienceTabContent;
````

## File: src/components/CV/GenericCVSectionContent.tsx
````typescript
 1: import React from "react";
 2: interface BaseItem {
 3:   description?: string;
 4: }
 5: interface GenericCVSectionContentProps<T extends BaseItem> {
 6:   items?: T[];
 7:   renderHeaderContent: (item: T) => React.ReactNode;
 8:   renderSubHeaderContent?: (item: T) => React.ReactNode;
 9: }
10: const GenericCVSectionContent = <T extends BaseItem>({
11:   items,
12:   renderHeaderContent,
13:   renderSubHeaderContent,
14: }: GenericCVSectionContentProps<T>) => (
15:   <div className="text-slate-300/[0.9]">
16:     {items?.map((item, index) => (
17:       <div key={item.description ?? `item-${index}`} className="mb-6">
18:         <h3 className="font-semibold text-slate-100">
19:           {renderHeaderContent(item)}
20:         </h3>
21:         {renderSubHeaderContent?.(item)}
22:         <p>{item.description ?? ""}</p>
23:       </div>
24:     ))}
25:   </div>
26: );
27: export default GenericCVSectionContent;
````

## File: src/components/CV/QualificationsTabContent.tsx
````typescript
 1: import React from "react";
 2: interface QualificationsTabContentProps {
 3:   qualifications?: string[];
 4: }
 5: const QualificationsTabContent: React.FC<QualificationsTabContentProps> = ({
 6:   qualifications,
 7: }) => (
 8:   <ul className="list-disc pl-5 text-slate-300/[0.9]">
 9:     {qualifications?.map((qual) => (
10:       <li key={qual ?? ""} className="mb-2">
11:         {qual ?? ""}
12:       </li>
13:     ))}
14:   </ul>
15: );
16: export default QualificationsTabContent;
````

## File: src/components/CV/VolunteerWorkTabContent.tsx
````typescript
 1: import React from "react";
 2: import GenericCVSectionContent from "./GenericCVSectionContent";
 3: interface VolunteerWork {
 4:   period?: string;
 5:   organization?: string;
 6:   role?: string;
 7:   description?: string;
 8: }
 9: interface VolunteerWorkTabContentProps {
10:   volunteerWork?: VolunteerWork[];
11: }
12: const VolunteerWorkTabContent: React.FC<VolunteerWorkTabContentProps> = ({
13:   volunteerWork,
14: }) => (
15:   <GenericCVSectionContent<VolunteerWork>
16:     items={volunteerWork}
17:     renderHeaderContent={(vol) => (
18:       <>
19:         {vol.period ?? ""} - {vol.organization ?? ""}
20:       </>
21:     )}
22:     renderSubHeaderContent={(vol) =>
23:       vol.role && <p className="italic">{vol.role}</p>
24:     }
25:   />
26: );
27: export default VolunteerWorkTabContent;
````

## File: src/components/ErrorBoundary/ErrorBoundary.tsx
````typescript
 1: "use client";
 2: import React, { ReactNode, ErrorInfo } from "react";
 3: import {
 4:   ErrorBoundary as ReactErrorBoundary,
 5:   FallbackProps,
 6: } from "react-error-boundary";
 7: import Fallback from "./Fallback.component";
 8: interface ErrorBoundaryProps {
 9:   children: ReactNode;
10:   compact?: boolean;
11: }
12: /**
13:  * ErrorBoundary component that catches JavaScript errors anywhere in the child component tree.
14:  * It logs the error and displays a fallback UI instead of the component tree that crashed.
15:  *
16:  * @param {Object} props - The component props
17:  * @param {ReactNode} props.children - The child components to be wrapped by the ErrorBoundary
18:  * @param {boolean} props.compact - Whether to show a compact error fallback (used in stories)
19:  * @returns {JSX.Element} A React component that catches errors in its child components
20:  */
21: const ErrorBoundary: React.FC<ErrorBoundaryProps> = ({
22:   children,
23:   compact = false,
24: }) => {
25:   const handleError = (error: Error, info: ErrorInfo) => {
26:     console.error("Uventet feil i Matrix:", error, info);
27:   };
28:   const ErrorFallback = (props: FallbackProps) => {
29:     return <Fallback {...props} compact={compact} />;
30:   };
31:   return (
32:     <ReactErrorBoundary FallbackComponent={ErrorFallback} onError={handleError}>
33:       {children}
34:     </ReactErrorBoundary>
35:   );
36: };
37: export default ErrorBoundary;
````

## File: src/components/ErrorBoundary/ErrorFallback.component.tsx
````typescript
 1: import React from "react";
 2: import ReactMatrixAnimation from "../../components/Animations/Matrix.component";
 3: import Pill from "../../components/UI/Pill.component";
 4: interface ErrorFallbackProps {
 5:   error: Error;
 6:   compact?: boolean;
 7: }
 8: /**
 9:  * ErrorFallback component to display when an error occurs within the ErrorBoundary.
10:  * It shows a Matrix-themed error message with the option to reload the page.
11:  *
12:  * @param {Object} props - The component props
13:  * @param {Error} props.error - The error object caught by the ErrorBoundary
14:  * @param {boolean} props.compact - Whether to show a compact version (used in stories)
15:  * @returns {JSX.Element} A React component displaying the error message and reload option
16:  */
17: const ErrorFallback: React.FC<ErrorFallbackProps> = ({
18:   error,
19:   compact = false,
20: }) => {
21:   if (compact) {
22:     return (
23:       <div
24:         data-testid="error-fallback-container"
25:         className="relative bg-gray-900 p-4 rounded-lg overflow-hidden"
26:       >
27:         <div className="absolute inset-0 opacity-30">
28:           <ReactMatrixAnimation />
29:         </div>
30:         <div className="relative z-10 flex flex-col items-center text-center">
31:           <h2 className="text-white text-lg mb-2">
32:             Har du funnet en feil i Matrix?
33:           </h2>
34:           <p className="text-white text-sm mb-3">
35:             {error.message || "En uventet feil har oppstått."}
36:           </p>
37:           <button
38:             onClick={() => window.location.reload()}
39:             className="px-3 py-1 bg-matrix-light text-black rounded-sm text-sm hover:bg-matrix-dark"
40:           >
41:             Returner til Matrix
42:           </button>
43:         </div>
44:       </div>
45:     );
46:   }
47:   return (
48:     <div
49:       data-testid="error-fallback-container"
50:       className="absolute w-full h-full"
51:     >
52:       <ReactMatrixAnimation />
53:       <div className="absolute inset-0 flex flex-col items-center justify-center h-full">
54:         <h1 className="text-white text-5xl m-6">
55:           Har du funnet en feil i Matrix?
56:         </h1>
57:         <p className="text-white text-xl mb-6">
58:           {error.message || "En uventet feil har oppstått."}
59:         </p>
60:         <Pill
61:           text="Returner til Matrix"
62:           onClick={() => window.location.reload()}
63:         />
64:       </div>
65:     </div>
66:   );
67: };
68: export default ErrorFallback;
````

## File: src/components/ErrorBoundary/ErrorFallbackWrapper.component.tsx
````typescript
 1: import React from "react";
 2: import ErrorFallback from "./ErrorFallback.component";
 3: interface ErrorFallbackWrapperProps {
 4:   error: Error;
 5:   compact?: boolean;
 6: }
 7: /**
 8:  * Wrapper component for ErrorFallback that handles compact mode
 9:  * @param {Object} props - The component props
10:  * @param {Error} props.error - The error object to display
11:  * @param {boolean} props.compact - Whether to show a compact version
12:  * @returns {JSX.Element} The wrapped ErrorFallback component
13:  */
14: const ErrorFallbackWrapper: React.FC<ErrorFallbackWrapperProps> = ({
15:   error,
16:   compact,
17: }) => <ErrorFallback error={error} compact={compact} />;
18: export default ErrorFallbackWrapper;
````

## File: src/components/ErrorBoundary/Fallback.component.tsx
````typescript
 1: import React from "react";
 2: import { FallbackProps } from "react-error-boundary";
 3: import ErrorFallbackWrapper from "./ErrorFallbackWrapper.component";
 4: interface FallbackComponentProps extends FallbackProps {
 5:   compact: boolean;
 6: }
 7: const Fallback: React.FC<FallbackComponentProps> = ({ error, compact }) => {
 8:   return <ErrorFallbackWrapper error={error} compact={compact} />;
 9: };
10: export default Fallback;
````

## File: src/components/Index/Hero.component.tsx
````typescript
 1: "use client";
 2: import React, { useRef } from "react";
 3: import dynamic from "next/dynamic";
 4: import type { Herocontent } from "@/types/sanity.types";
 5: import Icons from "./Icons.component";
 6: import FadeIn from "../Animations/FadeIn.component";
 7: import RotatingLoader from "../Animations/RotatingLoader.component";
 8: import MobileBackground from "./MobileBackground.component";
 9: import MatrixCursor from "../Animations/MatrixCursor.component";
10: const ReactMatrixAnimation = dynamic(
11:   () => import("../Animations/Matrix.component"),
12:   {
13:     ssr: false,
14:     loading: () => (
15:       <div className="text-center">
16:         <RotatingLoader />
17:       </div>
18:     ),
19:   },
20: );
21: /**
22:  * Hero component for rendering the main hero section of the page
23:  * @param {Object} props - The props for the Hero component
24:  * @param {Herocontent[]} props.content - Array of hero content from Sanity
25:  * @returns {JSX.Element} The rendered Hero component
26:  */
27: const Hero = ({ content }: { content: Herocontent[] }) => {
28:   const heroRef = useRef<HTMLElement>(null);
29:   return (
30:     <article
31:       aria-label="Kontainer for animasjoner av introtekst"
32:       id="main-hero"
33:       data-testid="main-hero"
34:       ref={heroRef}
35:       className="relative flex flex-col justify-center text-lg h-[32rem] md:h-[30rem] overflow-hidden w-full"
36:     >
37:       <MatrixCursor heroRef={heroRef} />
38:       <MobileBackground />
39:       <div className="hidden md:block absolute inset-0 w-full h-full">
40:         <ReactMatrixAnimation />
41:       </div>
42:       <div className="relative z-10">
43:         <section
44:           className="text-left md:text-center px-4 md:px-0"
45:           data-testid="fade-in"
46:         >
47:           <FadeIn delay={0.2}>
48:             <h1
49:               data-cy="hei"
50:               className="text-6xl font-bold text-[#00ff62] text-center"
51:             >
52:               {content?.length > 0 ? content[0]?.text : "Hei!"}
53:             </h1>
54:           </FadeIn>
55:           <FadeIn delay={1}>
56:             <h2 className="mt-4 text-2xl text-slate-300 text-left md:text-center  ">
57:               {content?.length > 0 && content[1]?.text}
58:             </h2>
59:           </FadeIn>
60:           <FadeIn delay={2}>
61:             <p className="mt-4 text-xl text-slate-300 text-left md:text-center ">
62:               {content?.length > 0 && content[2]?.text}
63:             </p>
64:           </FadeIn>
65:           <div className="mt-4">
66:             <Icons />
67:           </div>
68:         </section>
69:       </div>
70:     </article>
71:   );
72: };
73: export default Hero;
````

## File: src/components/Index/Icons.component.tsx
````typescript
 1: import { IconType } from "react-icons";
 2: import { FaReact, FaVuejs, FaPhp } from "react-icons/fa";
 3: import { SiTypescript, SiWordpress } from "react-icons/si";
 4: import Grow from "../Animations/Grow.component";
 5: interface IAnimateIcons {
 6:   id: number;
 7:   Icon: IconType;
 8:   iconName: string;
 9: }
10: const AnimateIcons: IAnimateIcons[] = [
11:   {
12:     id: 0,
13:     Icon: FaReact,
14:     iconName: "React",
15:   },
16:   {
17:     id: 1,
18:     Icon: FaVuejs,
19:     iconName: "VueJS",
20:   },
21:   {
22:     id: 2,
23:     Icon: SiTypescript,
24:     iconName: "TypeScript",
25:   },
26:   {
27:     id: 3,
28:     Icon: SiWordpress,
29:     iconName: "WordPress",
30:   },
31:   {
32:     id: 4,
33:     Icon: FaPhp,
34:     iconName: "PHP",
35:   },
36: ];
37: /**
38:  * Icons component that renders SVG icons used on the front page
39:  * Uses Framer Motion for animations to show the SVGs
40:  * @returns {JSX.Element} The rendered Icons component
41:  */
42: const Icons = () => (
43:   <div
44:     data-testid="icons"
45:     className="flex flex-wrap justify-center gap-8 p-2 text-slate-300/[0.8]"
46:   >
47:     {AnimateIcons.map(({ Icon, id, iconName }) => (
48:       <span className="relative" key={id}>
49:         <Grow delay={2.5 + id * 0.2}>
50:           <div className="relative group">
51:             <div className="p-4 rounded-lg bg-slate-900/50 backdrop-blur-sm border border-slate-800/50 transition-all duration-300 group-hover:border-[#00ff62]/30 group-hover:bg-slate-900/70">
52:               <Icon
53:                 data-testid={iconName}
54:                 aria-label={`${iconName} ikon`}
55:                 title={`${iconName} ikon`}
56:                 size="2.5em"
57:                 className="transition-all duration-300 group-hover:text-[#00ff62]"
58:               />
59:             </div>
60:             <span className="absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm font-medium opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap text-[#00ff62]">
61:               {iconName}
62:             </span>
63:           </div>
64:         </Grow>
65:       </span>
66:     ))}
67:   </div>
68: );
69: export default Icons;
````

## File: src/components/Index/IndexContent.component.tsx
````typescript
 1: "use client";
 2: import Section from "./Section.component";
 3: import type { Page } from "@/types/sanity.types";
 4: /**
 5:  * IndexContent component that renders multiple content sections with alternating visual styles
 6:  * @param {Object} props - The props for the IndexContent component
 7:  * @param {Pagecontent[]} props.pageContent - Array of content sections from Sanity to render. Each section alternates between default and alternate variant
 8:  * @returns {JSX.Element} The rendered IndexContent component
 9:  * @throws {Error} Throws an error if no content is available
10:  */
11: const IndexContent = ({ pageContent }: { pageContent: Page["content"] }) => {
12:   if (!pageContent || pageContent.length === 0) {
13:     throw new Error("Ingen innhold tilgjengelig");
14:   }
15:   return (
16:     <div className="w-full overflow-hidden -mb-8">
17:       {pageContent.map((page, index) => (
18:         <Section
19:           key={page._key}
20:           {...page}
21:           variant={index % 2 === 0 ? "default" : "alternate"}
22:         />
23:       ))}
24:     </div>
25:   );
26: };
27: export default IndexContent;
````

## File: src/components/Index/MobileBackground.component.tsx
````typescript
 1: /**
 2:  * MobileBackground component that renders a background image for mobile devices
 3:  * @returns {JSX.Element} The rendered MobileBackground component
 4:  */
 5: const MobileBackground = () => (
 6:   <div
 7:     className="absolute inset-0 md:hidden bg-cover bg-center bg-no-repeat pb-4"
 8:     style={{
 9:       backgroundImage: "url('/images/mobilbg.webp')",
10:       top: "-0.5rem",
11:       marginBottom: "0.5rem",
12:     }}
13:   />
14: );
15: export default MobileBackground;
````

## File: src/components/Index/Section.component.tsx
````typescript
 1: "use client";
 2: import { PortableText } from "@portabletext/react";
 3: import { useState } from "react";
 4: import FadeInScroll from "../Animations/FadeInScroll.component";
 5: import Button from "../UI/Button.component";
 6: import { myPortableTextComponents } from "@/utils/portableTextComponents";
 7: import type { Pagecontent } from "@/types/sanity.types";
 8: interface SectionProps extends Pagecontent {
 9:   variant?: "default" | "alternate";
10:   showDebugButton?: boolean;
11: }
12: /**
13:  * Section component that renders a single content section
14:  * @param {SectionProps} props - The props for the Section component
15:  * @param {Pagecontent['text']} props.text - The text content from Sanity
16:  * @param {string} props.title - The title of the section
17:  * @param {"default" | "alternate"} [props.variant="default"] - Visual style variant of the section. Controls background color.
18:  * @param {boolean} [props.showDebugButton=true] - If true (default), shows the debug button in development mode. Set to false to hide the button (e.g., in stories or production).
19:  * @returns {JSX.Element | null} The rendered Section component or null if invalid data
20:  */
21: const Section = ({
22:   text,
23:   title,
24:   variant = "default",
25:   showDebugButton = true,
26: }: SectionProps) => {
27:   const [shouldError, setShouldError] = useState(false);
28:   if (!title || !text) {
29:     console.error(
30:       `Ugyldig seksjon data: tittel=${title}, tekst=${JSON.stringify(text)}`,
31:     );
32:     return null;
33:   }
34:   if (shouldError) {
35:     throw new Error("En uventet feil har oppstått");
36:   }
37:   const sectionStyles = {
38:     default: "bg-slate-900",
39:     alternate: "bg-slate-800/30",
40:   };
41:   return (
42:     <section
43:       aria-label={title}
44:       data-testid="sanity-section"
45:       className={`
46:         md:py-6
47:         relative
48:         transition-colors
49:         duration-300
50:         contain-layout
51:         ${sectionStyles[variant]}
52:       `}
53:     >
54:       <div className="p-6 md:p-2 text-lg h-full max-w-7xl mx-auto">
55:         <FadeInScroll viewAmount={0.2} data-testid="fade-in-scroll">
56:           <h2
57:             data-testid="sanity-title"
58:             data-cy={title}
59:             className="text-3xl text-center text-slate-100"
60:           >
61:             {title}
62:           </h2>
63:           <div className="flex justify-center">
64:             <div className="mt-4 text-lg text-left md:max-w-3xl text-slate-300/[0.9]">
65:               <PortableText
66:                 value={text}
67:                 components={myPortableTextComponents}
68:               />
69:             </div>
70:           </div>
71:           {process.env.NODE_ENV === "development" && showDebugButton && (
72:             <Button onClick={() => setShouldError(true)} type="button">
73:               Utløs Testfeil
74:             </Button>
75:           )}
76:         </FadeInScroll>
77:       </div>
78:     </section>
79:   );
80: };
81: export default Section;
````

## File: src/components/Kontakt/config/formConfig.ts
````typescript
 1: import { z } from "zod";
 2: export const formSchema = z.object({
 3:   navn: z
 4:     .string()
 5:     .min(1, "Fullt navn er påkrevd")
 6:     .regex(/^[a-zA-ZæøåÆØÅ ]+$/, "Vennligst bruk norske bokstaver"),
 7:   telefon: z
 8:     .string()
 9:     .min(1, "Telefonnummer er påkrevd")
10:     .regex(/^\d{8}$/, "Vennligst oppgi et gyldig telefonnummer"),
11:   tekst: z.string().min(1, "Beskjed er påkrevd"),
12: });
13: export type FormData = z.infer<typeof formSchema>;
````

## File: src/components/Kontakt/ContactForm.component.tsx
````typescript
  1: "use client";
  2: import React, { useState } from "react";
  3: import { useForm } from "react-hook-form";
  4: import { zodResolver } from "@hookform/resolvers/zod";
  5: import emailjs from "@emailjs/browser";
  6: import PageHeader from "@/components/UI/PageHeader.component";
  7: import Button from "@/components/UI/Button.component";
  8: import InputField from "@/components/UI/InputField.component";
  9: import { formSchema, FormData } from "./config/formConfig";
 10: interface ContactFormProps {
 11:   csrfToken?: string;
 12:   onSubmit?: (data: FormData) => Promise<string>;
 13:   initialResponse?: string;
 14: }
 15: /**
 16:  * ContactForm component - A complete contact form with EmailJS integration
 17:  * Handles both the form UI and submission logic in a single, clear component
 18:  */
 19: const ContactForm: React.FC<ContactFormProps> = ({
 20:   csrfToken = "",
 21:   onSubmit: onSubmitProp,
 22:   initialResponse = "",
 23: }) => {
 24:   const [serverResponse, setServerResponse] = useState<string>(initialResponse);
 25:   const {
 26:     register,
 27:     handleSubmit,
 28:     formState: { errors, isSubmitting },
 29:   } = useForm<FormData>({
 30:     resolver: zodResolver(formSchema),
 31:   });
 32:   /**
 33:    * Default form submission handler using EmailJS.
 34:    * @param {FormData} data - The form data.
 35:    * @return {Promise<string>} A promise that resolves to a success or error message.
 36:    */
 37:   const defaultOnSubmit = async (data: FormData): Promise<string> => {
 38:     const EMAIL_API_KEY = process.env.NEXT_PUBLIC_EMAIL_API_KEY ?? "changeme";
 39:     const TEMPLATE_KEY =
 40:       process.env.NEXT_PUBLIC_EMAIL_TEMPLATE_KEY ?? "changeme";
 41:     const SERVICE_KEY = process.env.NEXT_PUBLIC_EMAIL_SERVICE_KEY ?? "changeme";
 42:     try {
 43:       emailjs.init(EMAIL_API_KEY);
 44:       await emailjs.send(SERVICE_KEY, TEMPLATE_KEY, data);
 45:       return "Takk for din beskjed";
 46:     } catch {
 47:       return "Feil under sending av skjema";
 48:     }
 49:   };
 50:   const handleFormSubmit = async (data: FormData): Promise<void> => {
 51:     const submitHandler = onSubmitProp ?? defaultOnSubmit;
 52:     const message = await submitHandler(data);
 53:     setServerResponse(message);
 54:   };
 55:   return (
 56:     <main data-testid="kontaktcontent" id="maincontent">
 57:       <div className="mt-32 bg-graybg">
 58:         <PageHeader>Kontakt</PageHeader>
 59:         <div className="px-4 lg:px-0 xl:px-0 md:px-0">
 60:           <div className="container mx-auto bg-slate-700 rounded-sm shadow-sm sm:mb-4">
 61:             <div className="p-4 mx-auto md:h-full mt-4 flex flex-col justify-center items-center min-h-[470px]">
 62:               <div className="p-2 md:p-6 pt-8">
 63:                 {serverResponse ? (
 64:                   <h3 className="m-2 h-32 text-xl text-center text-gray-300">
 65:                     {serverResponse}
 66:                   </h3>
 67:                 ) : (
 68:                   <div className="bg-gray-800 p-4 md:p-6 rounded-lg pt-8">
 69:                     <form
 70:                       id="contact-form"
 71:                       className="text-center"
 72:                       onSubmit={handleSubmit(handleFormSubmit)}
 73:                       method="POST"
 74:                       action="/api/form"
 75:                       aria-label="Contact Form"
 76:                     >
 77:                       {csrfToken && (
 78:                         <input type="hidden" name="_csrf" value={csrfToken} />
 79:                       )}
 80:                       <fieldset>
 81:                         <legend className="text-center mx-auto text-xl mt-4 sr-only">
 82:                           Kontaktskjema
 83:                         </legend>
 84:                         <InputField<FormData>
 85:                           name="navn"
 86:                           label="Fullt navn"
 87:                           htmlFor="navn"
 88:                           register={register}
 89:                           error={errors.navn?.message}
 90:                           isRequired
 91:                           inputPattern={/^[a-zA-ZæøåÆØÅ ]+$/}
 92:                           title="Vennligst bruk norske bokstaver"
 93:                         />
 94:                         <br />
 95:                         <InputField<FormData>
 96:                           name="telefon"
 97:                           label="Telefonnummer"
 98:                           htmlFor="telefon"
 99:                           register={register}
100:                           error={errors.telefon?.message}
101:                           isRequired
102:                           inputPattern={/^\d{8}$/}
103:                           title="Vennligst oppgi et gyldig telefonnummer"
104:                         />
105:                         <br />
106:                         <InputField<FormData>
107:                           name="tekst"
108:                           label="Hva ønsker du å si?"
109:                           htmlFor="tekst"
110:                           register={register}
111:                           error={errors.tekst?.message}
112:                           isRequired
113:                           type="textarea"
114:                         />
115:                         <br />
116:                       </fieldset>
117:                       <div className="-mt-4">
118:                         <Button
119:                           disabled={isSubmitting}
120:                           data-testid="submit-button"
121:                         >
122:                           Send skjema
123:                         </Button>
124:                       </div>
125:                     </form>
126:                   </div>
127:                 )}
128:               </div>
129:             </div>
130:           </div>
131:         </div>
132:       </div>
133:     </main>
134:   );
135: };
136: export default ContactForm;
````

## File: src/components/Layout/DesktopNavigation.component.tsx
````typescript
 1: import React from "react";
 2: import { usePathname } from "next/navigation";
 3: import { MotionLi, MotionUl } from "@/lib/framer/client";
 4: import NavigationLinkComponent from "./NavigationLink.component";
 5: import type { Navigation } from "@/types/sanity.types";
 6: type NavigationLinksArray = NonNullable<Navigation["links"]>;
 7: const DesktopNavigation: React.FC<{
 8:   navigationLinks: NavigationLinksArray;
 9: }> = ({ navigationLinks }) => {
10:   const pathname = usePathname();
11:   const isLinkActive = (href: string) => pathname === href;
12:   return (
13:     <MotionUl
14:       className="hidden md:flex md:w-[22rem] flex-wrap items-center justify-center gap-y-1 text-[0.9rem] font-medium text-slate-200 sm:w-[initial] sm:flex-nowrap sm:gap-5"
15:       variants={{
16:         hidden: { opacity: 0 },
17:         visible: {
18:           opacity: 1,
19:           transition: {
20:             staggerChildren: 0.1,
21:             delayChildren: 0.3,
22:           },
23:         },
24:       }}
25:       initial="hidden"
26:       animate="visible"
27:     >
28:       {navigationLinks.map((link) => (
29:         <MotionLi
30:           className="h-3/4 flex items-center justify-center relative"
31:           key={link._key ?? link.title}
32:           variants={{
33:             hidden: { y: -20, opacity: 0 },
34:             visible: { y: 0, opacity: 1 },
35:           }}
36:           transition={{ duration: 0.3 }}
37:         >
38:           <NavigationLinkComponent
39:             name={link.title ?? ""}
40:             href={link.href ?? ""}
41:             isActive={isLinkActive(link.href ?? "")}
42:           />
43:         </MotionLi>
44:       ))}
45:     </MotionUl>
46:   );
47: };
48: export default DesktopNavigation;
````

## File: src/components/Layout/Footer.component.tsx
````typescript
 1: "use client";
 2: import { IconContext } from "react-icons";
 3: import { BiCopyright } from "react-icons/bi";
 4: import type { Settings } from "@/types/sanity.types";
 5: type FooterProps = Pick<Settings, "footerCopyrightText">;
 6: /**
 7:  * Renders the footer for the application
 8:  * @param {FooterProps} props - The props for the Footer component, containing only footerCopyrightText from Settings.
 9:  * @param {string} [props.footerCopyrightText] - The copyright text from Sanity settings (optional)
10:  * @returns {JSX.Element} - Rendered Footer component
11:  */
12: const Footer = ({ footerCopyrightText }: FooterProps) => (
13:   <footer
14:     className="mt-8"
15:     aria-label="Innholdet for bunnteksten med copyright"
16:     data-testid="footer"
17:   >
18:     <div className="bg-slate-800 shadow-sm min-h-[50px]">
19:       <div className="w-full mx-auto p-6 text-center font-semibold">
20:         <div className="flex justify-center items-center space-x-2">
21:           <span>{footerCopyrightText}</span>
22:           <IconContext.Provider value={{ className: "inline-block" }}>
23:             <BiCopyright size="1.2em" />
24:           </IconContext.Provider>
25:           <span>{new Date().getFullYear()}</span>
26:         </div>
27:       </div>
28:     </div>
29:   </footer>
30: );
31: export default Footer;
````

## File: src/components/Layout/Hamburger.component.tsx
````typescript
 1: "use client";
 2: export interface IHamburgerProps {
 3:   onClick: () => void;
 4:   animatetoX: boolean;
 5: }
 6: /**
 7:  * Hamburger component used in mobile menu. Animates to a X when clicked
 8:  * @function Hamburger
 9:  * @param {() => void} onClick - onClick handler to respond to clicks
10:  * @param {boolean} animatetoX - Should the hamburger animate to a X?
11:  * @returns {JSX.Element} - Rendered component
12:  */
13: const Hamburger = ({ onClick, animatetoX }: IHamburgerProps) => {
14:   const hamburgerLine =
15:     "h-1 w-10 my-1 rounded-full bg-white transition ease transform duration-300 not-sr-only";
16:   const opacityFull = "opacity-100 group-hover:opacity-100";
17:   return (
18:     <button
19:       className="flex flex-col w-16 rounded-sm justify-center items-center group z-50 pr-6 relative"
20:       data-cy="hamburger"
21:       data-testid="hamburger"
22:       onClick={onClick}
23:       aria-expanded={animatetoX}
24:       type="button"
25:     >
26:       <span className="sr-only text-white text-2xl">Hamburger</span>
27:       <span
28:         data-testid="hamburgerline"
29:         className={`${hamburgerLine} ${
30:           animatetoX
31:             ? "rotate-45 translate-y-3 opacity-100 group-hover:opacity-100"
32:             : opacityFull
33:         }`}
34:       />
35:       <span
36:         className={`${hamburgerLine} ${animatetoX ? "opacity-0" : opacityFull}`}
37:       />
38:       <span
39:         className={`${hamburgerLine} ${
40:           animatetoX
41:             ? "-rotate-45 -translate-y-3 opacity-100 group-hover:opacity-100"
42:             : opacityFull
43:         }`}
44:       />
45:     </button>
46:   );
47: };
48: export default Hamburger;
````

## File: src/components/Layout/Header.component.tsx
````typescript
 1: "use client";
 2: import React from "react";
 3: import { MotionDiv } from "@/lib/framer/client";
 4: import MobileMenu from "./MobileMenu.component";
 5: import DesktopNavigation from "./DesktopNavigation.component";
 6: import type { Navigation } from "@/types/sanity.types";
 7: /**
 8:  * Header component that renders the navigation bar using links from Sanity CMS.
 9:  * Provides both desktop and mobile navigation with animated transitions.
10:  * @param {Navigation} props - The navigation data object from Sanity containing menu links.
11:  * @returns {JSX.Element} The rendered Header component with responsive navigation.
12:  */
13: const Header: React.FC<{ navigation: Navigation }> = ({
14:   navigation: { links },
15: }) => {
16:   return (
17:     <header className="z-999 relative">
18:       <div
19:         className="sm:hidden w-full w-[450px] md:max-w-[36rem] bg-slate-800 bg-opacity-80 fixed top-0 left-1/2 h-[4.5rem] shadow-sm rounded-none shadow-lg shadow-black/[0.03] backdrop-blur-[0.5rem] sm:top-6 sm:h-[3.25rem] md:w-[36rem] sm:rounded-full mr-8 md:mr-0"
20:         style={{ transform: "translateX(-50%)" }}
21:       />
22:       <MotionDiv
23:         className="hidden sm:block w-full w-[450px] md:max-w-[36rem] bg-slate-800 bg-opacity-80 fixed top-0 left-1/2 h-[4.5rem] shadow-sm rounded-none shadow-lg shadow-black/[0.03] backdrop-blur-[0.5rem] sm:top-6 sm:h-[3.25rem] md:w-[36rem] sm:rounded-full mr-8 md:mr-0"
24:         initial={{ y: -100, x: "-50%", opacity: 0 }}
25:         animate={{
26:           y: 0,
27:           x: "-51%",
28:           opacity: 1,
29:           transition: {
30:             y: { duration: 0.6, ease: "easeOut" },
31:             opacity: { duration: 0.6, ease: "easeOut" },
32:           },
33:         }}
34:       />
35:       <nav className="flex fixed top-[0.65rem] left-1/2 h-12 -translate-x-1/2 py-2 sm:top-[1.7rem] sm:h-[initial] sm:py-0 w-full max-w-[370px] justify-end md:justify-between items-center">
36:         <DesktopNavigation navigationLinks={links ?? []} />
37:         <div id="hamburger-div" data-cy="hamburger-div" className="md:hidden">
38:           <MobileMenu links={links ?? []} />
39:         </div>
40:       </nav>
41:     </header>
42:   );
43: };
44: export default Header;
````

## File: src/components/Layout/MobileMenu.component.tsx
````typescript
  1: "use client";
  2: import Link from "next/link";
  3: import { usePathname } from "next/navigation";
  4: import { AnimatePresence, useCycle, motion, Variants } from "motion/react";
  5: import Hamburger from "./Hamburger.component";
  6: import type { Navigation } from "@/types/sanity.types";
  7: type NavigationLinksArray = NonNullable<Navigation["links"]>;
  8: /**
  9:  * MobileMenu component that renders a responsive navigation menu for mobile devices
 10:  * @param {Object} props
 11:  * @param {ILink[]} props.links - Array of navigation link objects
 12:  * @returns {JSX.Element} The rendered MobileMenu component
 13:  */
 14: const MobileMenu: React.FC<{ links: NavigationLinksArray }> = ({ links }) => {
 15:   const [isExpanded, toggleExpanded] = useCycle<boolean>(false, true);
 16:   const closeMenu = () => toggleExpanded(0);
 17:   const pathname = usePathname();
 18:   const menuVariants: Variants = {
 19:     closed: {
 20:       x: "125%",
 21:       transition: {
 22:         type: "spring",
 23:         stiffness: 60,
 24:         damping: 10,
 25:         delay: 0.3,
 26:       },
 27:     },
 28:     open: {
 29:       x: 0,
 30:       transition: {
 31:         type: "spring",
 32:         stiffness: 60,
 33:         damping: 10,
 34:       },
 35:     },
 36:   };
 37:   const itemVariants: Variants = {
 38:     closed: (i: number) => ({
 39:       x: i % 2 === 0 ? "-50%" : "50%",
 40:       opacity: 0,
 41:       transition: {
 42:         type: "spring",
 43:         stiffness: 120,
 44:         damping: 12,
 45:         duration: 0.25,
 46:       },
 47:     }),
 48:     open: (i: number) => ({
 49:       x: 0,
 50:       opacity: 1,
 51:       transition: {
 52:         type: "spring",
 53:         stiffness: 120,
 54:         damping: 12,
 55:         delay: i * 0.25,
 56:       },
 57:     }),
 58:   };
 59:   return (
 60:     <div
 61:       className="z-50 md:hidden lg:hidden xl:hidden"
 62:       data-testid="mobilemenu"
 63:     >
 64:       <Hamburger onClick={toggleExpanded} animatetoX={isExpanded} />
 65:       <AnimatePresence>
 66:         {isExpanded && (
 67:           <motion.div
 68:             id="mobile-menu"
 69:             data-testid="mobile-menu"
 70:             data-cy="mobile-menu"
 71:             aria-hidden={!isExpanded}
 72:             className="fixed top-0 right-0 w-[calc(100vw+20px)] h-[calc(100vh+20px)] bg-gray-800 flex items-center justify-center z-40 -mt-4"
 73:             initial="closed"
 74:             animate="open"
 75:             exit="closed"
 76:             variants={menuVariants}
 77:           >
 78:             <nav aria-label="Navigasjon" className="w-full">
 79:               <motion.ul
 80:                 className="w-full"
 81:                 initial="closed"
 82:                 animate="open"
 83:                 exit="closed"
 84:                 variants={{
 85:                   open: {
 86:                     transition: { staggerChildren: 0.07, delayChildren: 0.2 },
 87:                   },
 88:                   closed: {
 89:                     transition: { staggerChildren: 0.05, staggerDirection: -1 },
 90:                   },
 91:                 }}
 92:               >
 93:                 {links?.map(({ title, name, href, externalLink }, index) => (
 94:                   <motion.li
 95:                     key={title}
 96:                     className="block p-4 text-xl text-white mx-auto text-center border-t border-b border-gray-600 border-solid shadow-sm"
 97:                     data-cy="mobile-menu-item"
 98:                     custom={index}
 99:                     variants={itemVariants}
100:                   >
101:                     {externalLink ? (
102:                       <a
103:                         aria-label={name}
104:                         href={href}
105:                         target="_blank"
106:                         rel="noreferrer"
107:                         data-testid={`mobil-${name}`}
108:                         className="flex w-full items-center justify-center px-2 py-2 hover:text-white transition font-semibold text-lg"
109:                       >
110:                         {name}
111:                       </a>
112:                     ) : (
113:                       <Link
114:                         href={href ?? ""}
115:                         data-testid={`mobil-${name}`}
116:                         prefetch={true}
117:                         onClick={closeMenu}
118:                         className={`flex w-full items-center justify-center px-2 py-2 hover:text-white transition font-semibold text-lg ${
119:                           pathname === href ? "text-green-400" : ""
120:                         }`}
121:                       >
122:                         <div className="glitch relative" data-text={name}>
123:                           {name}
124:                           <motion.span
125:                             className={`absolute bottom-0 left-0 h-0.5 bg-current ${
126:                               pathname === href ? "bg-green-400" : "bg-white"
127:                             }`}
128:                             initial={{
129:                               width: pathname === href ? "100%" : "0%",
130:                             }}
131:                             animate={{
132:                               width: pathname === href ? "100%" : "0%",
133:                             }}
134:                             transition={{ duration: 0.3 }}
135:                           />
136:                         </div>
137:                       </Link>
138:                     )}
139:                   </motion.li>
140:                 ))}
141:               </motion.ul>
142:             </nav>
143:           </motion.div>
144:         )}
145:       </AnimatePresence>
146:     </div>
147:   );
148: };
149: export default MobileMenu;
````

## File: src/components/Layout/NavigationLink.component.tsx
````typescript
 1: import React from "react";
 2: import Link from "next/link";
 3: import { motion } from "motion/react";
 4: import { MotionDiv } from "@/lib/framer/client";
 5: export interface NavigationLinkProps {
 6:   name: string;
 7:   href: string;
 8:   isActive: boolean;
 9: }
10: /**
11:  * NavigationLink component that renders a single navigation link with hover and active states
12:  * @param {NavigationLinkProps} props - The props for the NavigationLink component
13:  * @param {string} props.name - The text to display for the link
14:  * @param {string} props.href - The URL the link should navigate to
15:  * @param {boolean} props.isActive - Whether the link is currently active
16:  * @returns {JSX.Element} The rendered NavigationLink component
17:  */
18: const NavigationLink: React.FC<NavigationLinkProps> = ({
19:   name,
20:   href,
21:   isActive,
22: }) => (
23:   <MotionDiv className="relative" whileHover="hover">
24:     <Link
25:       prefetch={true}
26:       className={`flex w-full items-center justify-center px-2 py-2 hover:text-white transition font-semibold text-lg ${
27:         isActive ? "text-green-400" : ""
28:       }`}
29:       href={href}
30:     >
31:       <div className="glitch relative" data-text={name}>
32:         {name}
33:         <motion.span
34:           className={`absolute bottom-0 left-0 h-0.5 bg-current ${
35:             isActive ? "bg-green-400" : "bg-white"
36:           }`}
37:           initial={{
38:             width: isActive ? "100%" : "0%",
39:           }}
40:           variants={{
41:             hover: { width: "100%" },
42:           }}
43:           transition={{ duration: 0.3 }}
44:         />
45:       </div>
46:     </Link>
47:   </MotionDiv>
48: );
49: export default NavigationLink;
````

## File: src/components/Prosjekter/ProsjektCard.component.tsx
````typescript
 1: "use client";
 2: import React from "react";
 3: import Button from "@/components/UI/Button.component";
 4: import BounceInScroll from "@/components/Animations/BounceInScroll.component";
 5: import { urlFor } from "@/lib/sanity/client";
 6: import type { Project } from "@/types/sanity.types";
 7: /**
 8:  * Renders a card displaying information about a single project.
 9:  * Uses the Project type definition from Sanity types.
10:  *
11:  * @param {Project} props - The project data object conforming to the Sanity Project type.
12:  * @param {string} props.name - The name of the project.
13:  * @param {string} [props.description] - A brief description of the project (optional).
14:  * @param {string} [props.subdescription] - Additional description of the project (optional).
15:  * @param {SanityImageObject} [props.projectimage] - The Sanity image object for the project (optional).
16:  * @param {Array<{url: string}>} [props.urlwww] - Array of website URL objects for the project (optional).
17:  * @param {Array<{url: string}>} [props.urlgithub] - Array of GitHub URL objects for the project (optional).
18:  * @param {boolean} [props.featured] - Flag indicating if the project is featured (optional, affects animation).
19:  * @returns {JSX.Element} The rendered ProsjektCard component.
20:  */
21: const ProsjektCard: React.FC<Project> = ({
22:   name,
23:   description,
24:   subdescription,
25:   projectimage,
26:   urlwww,
27:   urlgithub,
28:   featured,
29: }) => {
30:   return (
31:     <div
32:       className="bg-slate-700 shadow-md rounded-sm overflow-hidden mx-4 md:m-0"
33:       data-testid="project-card"
34:     >
35:       <BounceInScroll viewAmount={0.3} instant={featured}>
36:         <div className="relative w-full md:h-60">
37:           <div className="w-full h-full p-5 md:pb-[20px] relative overflow-hidden flex justify-center md:h-[340px]">
38:             {projectimage && (
39:               <img
40:                 className="transition-all duration-300 ease-in-out hover:-translate-y-1 hover:shadow-[0_2px_20px_rgba(60,255,60,0.35)]"
41:                 width={600}
42:                 src={urlFor(projectimage)
43:                   .width(600)
44:                   .fit("max")
45:                   .quality(100)
46:                   .auto("format")
47:                   .url()}
48:                 alt={name}
49:               />
50:             )}
51:           </div>
52:         </div>
53:         <div className="md:mt-[4.5rem] md:p-2 flex flex-col justify-between min-h-[250px] xl:min-h-[275px]">
54:           <h1 className="lg:mt-4 text-xl text-center font-bold py-2 text-slate-100">
55:             {name}
56:           </h1>
57:           <h2 className="text-md px-4 text-gray-300">{description}</h2>
58:           <p className="mt-4 text-sm mt-2 px-4 text-gray-300">
59:             {subdescription}
60:           </p>
61:           <div className="flex justify-center mt-4">
62:             {urlwww && urlwww.length > 0 && (
63:               <Button href={urlwww?.[0]?.url} renderAs="a">
64:                 Besøk
65:               </Button>
66:             )}
67:             {urlgithub && urlgithub.length > 0 && (
68:               <Button href={urlgithub?.[0]?.url} renderAs="a">
69:                 GitHub
70:               </Button>
71:             )}
72:           </div>
73:         </div>
74:       </BounceInScroll>
75:     </div>
76:   );
77: };
78: export default ProsjektCard;
````

## File: src/components/UI/Button.component.tsx
````typescript
 1: import type { ElementType, ReactNode, MouseEventHandler } from "react";
 2: export interface IButtonProps {
 3:   children: ReactNode;
 4:   href?: string;
 5:   renderAs?: ElementType;
 6:   type?: "button" | "submit" | "reset";
 7:   disabled?: boolean;
 8:   download?: boolean | string;
 9:   onClick?: MouseEventHandler<HTMLButtonElement>;
10: }
11: /**
12:  * Button component that can be rendered as various HTML elements
13:  * @param {Object} props
14:  * @param {ReactNode} props.children - The content of the button
15:  * @param {string} [props.href] - The URL to link to if the button is an anchor
16:  * @param {ElementType} [props.renderAs] - The HTML element to render the button as
17:  * @param {"button" | "submit" | "reset"} [props.type="submit"] - The type of the button
18:  * @param {boolean} [props.disabled=false] - Whether the button is disabled
19:  * @param {boolean | string} [props.download] - Specifies that the target will be downloaded when clicked
20:  * @param {MouseEventHandler<HTMLButtonElement>} [props.onClick] - Click event handler
21:  * @returns {JSX.Element} The rendered Button component
22:  */
23: const Button = ({
24:   children,
25:   href,
26:   renderAs,
27:   type = "submit",
28:   disabled = false,
29:   download,
30:   onClick,
31:   ...props
32: }: IButtonProps) => {
33:   const Component = renderAs ?? "button";
34:   const isLink = renderAs === "a";
35:   const targetLink = isLink ? "_blank" : undefined;
36:   return (
37:     <Component
38:       type={isLink ? undefined : type}
39:       data-cy="submit"
40:       className="glitch p-3 m-3 text-white font-medium transition duration-300 ease-in-out bg-emerald-700 rounded-sm hover:bg-emerald-800 disabled:opacity-50 disabled:pointer-events-none"
41:       href={href}
42:       target={targetLink}
43:       disabled={disabled}
44:       data-text={children}
45:       download={download}
46:       onClick={onClick}
47:       {...props}
48:     >
49:       {children}
50:     </Component>
51:   );
52: };
53: export default Button;
````

## File: src/components/UI/ContentLoader.component.tsx
````typescript
 1: import Skeleton from "./Skeleton.component";
 2: interface ContentLoaderProps {
 3:   /** Type of content being loaded */
 4:   type?: "hero" | "section" | "custom";
 5:   /** Number of sections to show (for section type) */
 6:   sections?: number;
 7:   /** Custom content for flexibility */
 8:   children?: React.ReactNode;
 9: }
10: const ContentLoader = ({
11:   type = "section",
12:   sections = 1,
13:   children,
14: }: ContentLoaderProps) => {
15:   if (type === "custom" && children) {
16:     return <>{children}</>;
17:   }
18:   if (type === "hero") {
19:     return (
20:       <article className="relative flex flex-col justify-center text-lg h-[32rem] md:h-[30rem] overflow-hidden w-full">
21:         <div className="absolute inset-0 bg-slate-800 md:bg-slate-900" />
22:         <div className="relative z-10 text-center px-4 md:px-0 space-y-4">
23:           <Skeleton height="h-14" width="w-32 mx-auto" shimmer />
24:           <Skeleton height="h-7" width="w-96 max-w-full mx-auto" shimmer />
25:           <Skeleton height="h-6" width="w-80 max-w-full mx-auto" shimmer />
26:           <div className="flex justify-center space-x-4 mt-4">
27:             {[1, 2, 3].map((i) => (
28:               <Skeleton key={i} height="h-10 w-10" rounded shimmer />
29:             ))}
30:           </div>
31:         </div>
32:       </article>
33:     );
34:   }
35:   // Default to section loader
36:   return (
37:     <div className="w-full overflow-hidden -mb-8">
38:       {Array.from({ length: sections }, (_, index) => (
39:         <section
40:           key={index}
41:           data-testid="content-section"
42:           className={`md:py-6 relative contain-layout ${
43:             index % 2 === 0 ? "bg-slate-900" : "bg-slate-800/30"
44:           }`}
45:         >
46:           <div className="p-6 md:p-2 max-w-7xl mx-auto space-y-4">
47:             <Skeleton height="h-9" width="w-48 mx-auto" shimmer />
48:             <div className="max-w-3xl mx-auto space-y-3 mt-4">
49:               <Skeleton shimmer />
50:               <Skeleton width="w-5/6" shimmer />
51:               <Skeleton width="w-4/6" shimmer />
52:               <Skeleton shimmer />
53:               <Skeleton width="w-3/4" shimmer />
54:             </div>
55:           </div>
56:         </section>
57:       ))}
58:     </div>
59:   );
60: };
61: export default ContentLoader;
````

## File: src/components/UI/InputField.component.tsx
````typescript
 1: import React from "react";
 2: import {
 3:   UseFormRegister,
 4:   FieldValues,
 5:   RegisterOptions,
 6:   Path,
 7: } from "react-hook-form";
 8: export interface InputProps<T extends FieldValues> {
 9:   readonly name: Path<T>;
10:   readonly label: string;
11:   readonly htmlFor: string;
12:   readonly isRequired?: boolean;
13:   readonly inputPattern?: RegExp;
14:   readonly title?: string;
15:   readonly type?: "input" | "textarea";
16:   readonly register: UseFormRegister<T>;
17:   readonly error?: string;
18: }
19: /**
20:  * Creates register options for react-hook-form
21:  * @template T - Type extending FieldValues
22:  * @param {boolean} [isRequired] - Whether the field is required
23:  * @param {RegExp} [inputPattern] - Regular expression pattern for input validation
24:  * @param {string} [title] - Title for the input field
25:  * @returns {RegisterOptions<T, Path<T>>} Register options object
26:  */
27: export function createRegisterOptions<T extends FieldValues>(
28:   isRequired?: boolean,
29:   inputPattern?: RegExp,
30:   title?: string,
31: ): RegisterOptions<T, Path<T>> {
32:   return {
33:     required: isRequired ? "Dette feltet er påkrevd" : false,
34:     ...(inputPattern
35:       ? { pattern: { value: inputPattern, message: title ?? "Ugyldig format" } }
36:       : {}),
37:   };
38: }
39: /**
40:  * InputField component for rendering form inputs
41:  * @template T - Type extending FieldValues
42:  * @param {InputProps<T>} props - The props for the InputField component
43:  * @returns {JSX.Element} The rendered InputField component
44:  */
45: function InputField<T extends FieldValues>({
46:   name,
47:   label,
48:   inputPattern,
49:   isRequired,
50:   htmlFor,
51:   title,
52:   type = "input",
53:   register,
54:   error,
55:   ...props
56: }: InputProps<T>) {
57:   const sharedClasses =
58:     "cursor-pointer peer block text-xl w-64 p-2 bg-gray-800 text-slate-100 border-gray-500/50 border rounded-sm outline-hidden focus:border-slate-200 placeholder-gray-300/0 transition duration-200";
59:   const registerOptions = createRegisterOptions<T>(
60:     isRequired,
61:     inputPattern,
62:     title,
63:   );
64:   return (
65:     <div className="relative my-2 flex flex-col items-center">
66:       <div className="relative">
67:         {type === "input" ? (
68:           <input
69:             id={htmlFor}
70:             type="text"
71:             placeholder={label}
72:             className={`${sharedClasses} ${error ? "border-red-500" : ""}`}
73:             {...register(name, registerOptions)}
74:             {...props}
75:           />
76:         ) : (
77:           <textarea
78:             id={htmlFor}
79:             placeholder={label}
80:             className={`${sharedClasses} ${error ? "border-red-500" : ""}`}
81:             {...register(name, registerOptions)}
82:             {...props}
83:           ></textarea>
84:         )}
85:         <label
86:           htmlFor={htmlFor}
87:           className={`absolute cursor-pointer left-1 top-0 z-10 origin-[0] -translate-y-8 scale-75 transform bg-gray-800 px-2 text-slate-100 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-10 peer-focus:scale-75 peer-focus:px-2 peer-focus:bg-gray-800 ${
88:             // Removed peer-focus:text-primary
89:             type === "textarea" ? "cursor-pointer peer-focus:-top-4" : ""
90:           }`}
91:         >
92:           {label}
93:         </label>
94:       </div>
95:       {error && <span className="text-red-500 text-sm mt-1">{error}</span>}
96:     </div>
97:   );
98: }
99: export default InputField;
````

## File: src/components/UI/PageHeader.component.tsx
````typescript
 1: import type { ReactNode } from "react";
 2: export interface IPageHeaderProps {
 3:   children: ReactNode;
 4: }
 5: /**
 6:  * PageHeader component for rendering the header for each page
 7:  * @function PageHeader
 8:  * @param {children?} children - HTML children to render in the page header component
 9:  * @returns {ReactNode} - Rendered component
10:  */
11: const PageHeader = ({ children }: IPageHeaderProps) => (
12:   <div className="px-4 p lg:px-0 xl:px-0 md:px-0">
13:     <div className="container bg-slate-700 shadow-sm rounded-sm h-16 p-4 m-4 mx-auto">
14:       <h1 className="text-2xl text-center font-bold text-slate-100">
15:         {children}
16:       </h1>
17:     </div>
18:   </div>
19: );
20: export default PageHeader;
````

## File: src/components/UI/Pill.component.tsx
````typescript
 1: import React from "react";
 2: interface PillProps {
 3:   text: string;
 4:   className?: string;
 5:   href?: string;
 6:   onClick?: () => void;
 7: }
 8: /**
 9:  * Renders a Pill component.
10:  *
11:  * @param {PillProps} props - The properties for the Pill component.
12:  * @param {string} props.text - The text to display in the Pill.
13:  * @param {string} [props.className=''] - Additional CSS classes to apply to the Pill.
14:  * @param {string} [props.href] - The URL to navigate to when the Pill is clicked.
15:  * @param {() => void} [props.onClick] - The function to call when the Pill is clicked.
16:  * @return {JSX.Element} The rendered Pill component.
17:  */
18: const Pill: React.FC<PillProps> = ({ text, className = "", href, onClick }) => {
19:   const baseClasses = `glitch text-white m-4 text-xl p-6 mt-4 rounded-full transition duration-300 ease-in-out transform
20:                  bg-blue-600 bg-opacity-20 border-2 border-blue-800 border-opacity-30                     
21:                  hover:bg-blue-400 hover:bg-opacity-30
22:                  hover:shadow-[0_0_15px_rgba(0,255,255,0.1),0_0_20px_rgba(0,255,255,0.1),inset_0_0_20px_rgba(0,255,255,0.1)]
23:                  backdrop-blur-sm ${className}`;
24:   if (href) {
25:     return (
26:       <a href={href} className={baseClasses} data-text={text}>
27:         {text}
28:       </a>
29:     );
30:   }
31:   return (
32:     <button className={baseClasses} onClick={onClick} data-text={text}>
33:       {text}
34:     </button>
35:   );
36: };
37: export default Pill;
````

## File: src/components/UI/Skeleton.component.tsx
````typescript
 1: import { type ReactNode } from "react";
 2: interface SkeletonProps {
 3:   width?: string;
 4:   height?: string;
 5:   className?: string;
 6:   rounded?: boolean;
 7:   children?: ReactNode;
 8:   shimmer?: boolean;
 9:   "data-testid"?: string;
10: }
11: const Skeleton = ({
12:   width = "w-full",
13:   height = "h-4",
14:   className = "",
15:   rounded = false,
16:   children,
17:   shimmer = true,
18:   "data-testid": dataTestId,
19: }: SkeletonProps) => {
20:   if (children) {
21:     return (
22:       <div
23:         className={`animate-pulse ${className}`}
24:         data-testid={dataTestId || "skeleton"}
25:       >
26:         {children}
27:       </div>
28:     );
29:   }
30:   const baseClasses = shimmer
31:     ? "relative overflow-hidden bg-slate-700 skeleton-shimmer"
32:     : "animate-pulse bg-slate-700";
33:   const shapeClasses = rounded ? "rounded-full" : "rounded";
34:   return (
35:     <div
36:       className={`${baseClasses} ${shapeClasses} ${width} ${height} ${className}`}
37:       data-testid={dataTestId || "skeleton"}
38:       style={{
39:         contain: "layout style paint",
40:       }}
41:     />
42:   );
43: };
44: export default Skeleton;
````

## File: src/components/UI/SkipLink.component.tsx
````typescript
 1: import React from "react";
 2: import Button from "./Button.component";
 3: const SkipLink: React.FC = () => {
 4:   return (
 5:     <div className="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-4 focus-within:left-4 focus-within:z-50">
 6:       <Button renderAs="a" href="#main-content">
 7:         Hopp til hovedinnhold
 8:       </Button>
 9:     </div>
10:   );
11: };
12: export default SkipLink;
````

## File: src/components/UI/Tabs.component.tsx
````typescript
  1: "use client";
  2: import React, { useState } from "react";
  3: import { motion, AnimatePresence } from "motion/react";
  4: type TabOrientation = "horizontal" | "vertical";
  5: interface Tab {
  6:   id: string;
  7:   label: string;
  8:   content: React.ReactNode;
  9: }
 10: interface TabsProps {
 11:   tabs: Tab[];
 12:   orientation?: TabOrientation;
 13: }
 14: interface TabButtonProps {
 15:   tab: Tab;
 16:   isActive: boolean;
 17:   isVertical: boolean;
 18:   index: number;
 19:   totalTabs: number;
 20:   onClick: () => void;
 21: }
 22: const getTabButtonClassName = (
 23:   isActive: boolean,
 24:   isVertical: boolean,
 25:   index: number,
 26:   totalTabs: number,
 27: ) => {
 28:   const baseClasses = "px-4 py-3 text-sm font-medium relative";
 29:   const activeClasses = isActive
 30:     ? "text-white"
 31:     : "text-gray-300 hover:text-white";
 32:   const orientationClasses = isVertical
 33:     ? "w-full text-left"
 34:     : "grow text-center";
 35:   const borderClasses = [
 36:     index !== 0 ? "border-t border-gray-600" : "",
 37:     isVertical && index !== totalTabs - 1 ? "border-b border-gray-600" : "",
 38:   ].join(" ");
 39:   return `${baseClasses} ${activeClasses} ${orientationClasses} ${borderClasses}`;
 40: };
 41: const TabButton: React.FC<TabButtonProps> = ({
 42:   tab,
 43:   isActive,
 44:   isVertical,
 45:   index,
 46:   totalTabs,
 47:   onClick,
 48: }) => (
 49:   <motion.button
 50:     key={tab.id}
 51:     onClick={onClick}
 52:     className={getTabButtonClassName(isActive, isVertical, index, totalTabs)}
 53:     role="tab"
 54:     aria-selected={isActive}
 55:     aria-controls={`tabpanel-${tab.id}`}
 56:     id={`tab-${tab.id}`}
 57:   >
 58:     {isActive && (
 59:       <motion.div
 60:         layoutId="active-tab"
 61:         className={`absolute ${
 62:           isVertical ? "inset-y-0 left-0 w-1" : "inset-x-0 bottom-0 h-1"
 63:         } bg-[var(--matrix-dark)]`}
 64:         initial={false}
 65:         transition={{ type: "spring", stiffness: 500, damping: 30 }}
 66:       />
 67:     )}
 68:     <span className="relative z-10">{tab.label}</span>
 69:   </motion.button>
 70: );
 71: const TabPanel: React.FC<{ tab: Tab; isActive: boolean }> = ({
 72:   tab,
 73:   isActive,
 74: }) => {
 75:   if (!isActive) return null;
 76:   return (
 77:     <motion.div
 78:       key={tab.id}
 79:       role="tabpanel"
 80:       id={`tabpanel-${tab.id}`}
 81:       aria-labelledby={`tab-${tab.id}`}
 82:       className="px-8"
 83:       initial={{ opacity: 0, y: 20 }}
 84:       animate={{ opacity: 1, y: 0 }}
 85:       exit={{ opacity: 0, y: -20 }}
 86:       transition={{ duration: 0.3 }}
 87:     >
 88:       {tab.content}
 89:     </motion.div>
 90:   );
 91: };
 92: /**
 93:  * Renders a set of tabs with content.
 94:  *
 95:  * @param {TabsProps} props - The props object containing the tabs and orientation.
 96:  * @param {Tab[]} props.tabs - An array of Tab objects representing the tabs.
 97:  * @param {string} [props.orientation="vertical"] - The orientation of the tabs. Defaults to "vertical".
 98:  * @return {JSX.Element} The rendered Tabs component.
 99:  */
100: const Tabs: React.FC<TabsProps> = ({ tabs, orientation = "vertical" }) => {
101:   const [activeTab, setActiveTab] = useState(() => tabs[0]?.id ?? "");
102:   const isVertical = orientation === "vertical";
103:   return (
104:     <div className="bg-gray-800 p-6 rounded-lg md:min-w-[900px] md:max-w-[1000px] min-h-[20rem]">
105:       <div
106:         className={`flex ${
107:           isVertical ? "flex-col sm:flex-row" : "flex-col"
108:         } bg-gray-800 rounded-lg h-[calc(75vh-2rem)] mt-4`}
109:       >
110:         <div
111:           className={`${isVertical ? "sm:w-1/4 w-full" : "w-full"} bg-gray-700 ${
112:             isVertical ? "max-h-[185px] " : ""
113:           }`}
114:         >
115:           <div
116:             className={`flex ${isVertical ? "flex-row sm:flex-col" : "flex-row"}`}
117:             role="tablist"
118:           >
119:             {tabs.map((tab, index) => (
120:               <TabButton
121:                 key={tab.id}
122:                 tab={tab}
123:                 isActive={activeTab === tab.id}
124:                 isVertical={isVertical}
125:                 index={index}
126:                 totalTabs={tabs.length}
127:                 onClick={() => setActiveTab(tab.id)}
128:               />
129:             ))}
130:           </div>
131:         </div>
132:         <div
133:           className={`${
134:             isVertical ? "sm:w-3/4 w-full" : "w-full"
135:           } bg-gray-800 overflow-y-auto`}
136:         >
137:           <AnimatePresence mode="wait">
138:             {tabs.map((tab) => (
139:               <TabPanel
140:                 key={tab.id}
141:                 tab={tab}
142:                 isActive={activeTab === tab.id}
143:               />
144:             ))}
145:           </AnimatePresence>
146:         </div>
147:       </div>
148:     </div>
149:   );
150: };
151: export default Tabs;
````

## File: src/config/env.ts
````typescript
 1: import { cleanEnv, str } from "envalid";
 2: // Server-side environment variables
 3: export const serverEnv = cleanEnv(process.env, {
 4:   AI_API_KEY: str({
 5:     desc: "AI service API key",
 6:   }),
 7:   AI_BASE_URL: str({
 8:     desc: "AI service base URL",
 9:   }),
10:   MODEL_NAME: str({
11:     desc: "AI model identifier",
12:     default: "claude-4-sonnet@anthropic",
13:   }),
14: });
15: // Client-side environment variables (NEXT_PUBLIC_)
16: export const publicEnv = cleanEnv(process.env, {
17:   NEXT_PUBLIC_EMAIL_API_KEY: str({
18:     desc: 'EmailJS API key starting with "user_"',
19:     example: "user_abc123",
20:   }),
21:   NEXT_PUBLIC_EMAIL_TEMPLATE_KEY: str({
22:     desc: 'EmailJS template key starting with "template_"',
23:     example: "template_xyz789",
24:   }),
25:   NEXT_PUBLIC_EMAIL_SERVICE_KEY: str({
26:     desc: 'EmailJS service key starting with "service_"',
27:     example: "service_def456",
28:   }),
29: });
30: // Type-safe way to access public env vars from the client
31: export const clientEnv = {
32:   EMAIL_API_KEY: publicEnv.NEXT_PUBLIC_EMAIL_API_KEY,
33:   EMAIL_TEMPLATE_KEY: publicEnv.NEXT_PUBLIC_EMAIL_TEMPLATE_KEY,
34:   EMAIL_SERVICE_KEY: publicEnv.NEXT_PUBLIC_EMAIL_SERVICE_KEY,
35: };
````

## File: src/e2e/cypress/component/Button.cy.tsx
````typescript
 1: /// <reference types="cypress" />
 2: import Button from "@/components/UI/Button.component";
 3: // https://larsmagnus.co/blog/component-testing-with-cypress-in-next-js
 4: describe("<Button>", () => {
 5:   it("mounts", () => {
 6:     cy.mount(<Button>Test</Button>);
 7:     cy.get("[data-cy=submit]").should("have.text", "Test");
 8:   });
 9:   // Test href prop
10:   it("navigates when clicked if href provided", () => {
11:     cy.mount(<Button href="https://example.com">Button</Button>);
12:     cy.get("a").click();
13:     cy.url().should("include", "example.com");
14:   });
15:   it("renders as submit button", () => {
16:     cy.mount(<Button type="submit">Button</Button>);
17:     cy.get('button[type="submit"]').should("exist");
18:   });
19:   it("renders as reset button", () => {
20:     cy.mount(<Button type="reset">Button</Button>);
21:     cy.get('button[type="reset"]').should("exist");
22:   });
23: });
````

## File: src/e2e/cypress/component/Hero.cy.tsx
````typescript
 1: /// <reference types="cypress"/>
 2: import Hero from "@/components/Index/Hero.component";
 3: import type { Herocontent } from "@/types/sanity.types";
 4: const content: Herocontent[] = [
 5:   {
 6:     _type: "herocontent",
 7:     text: "Hei!",
 8:   },
 9:   {
10:     _type: "herocontent",
11:     text: "Jeg heter Daniel Fjeldstad og er en webutvikler.",
12:   },
13:   {
14:     _type: "herocontent",
15:     text: "Jeg kan Next.js, Javascript, Typescript, React, Vue, PHP, WordPress og mye mer.",
16:   },
17: ];
18: it("Viser Hero komponent", () => {
19:   cy.mount(<Hero content={content} />);
20:   cy.contains("Hei!").should("be.visible");
21: });
22: it("Viser PHP tekst", () => {
23:   cy.mount(<Hero content={content} />);
24:   cy.contains("PHP").should("be.visible");
25: });
````

## File: src/e2e/cypress/component/Icons.cy.tsx
````typescript
 1: /// <reference types="cypress" />
 2: import Icons from "@/components/Index/Icons.component";
 3: const beVisible = "be.visible";
 4: it("Renders all icons", () => {
 5:   cy.mount(<Icons />);
 6:   cy.get('[data-testid="icons"]').within(() => {
 7:     cy.get('[data-testid="React"]').should(beVisible);
 8:     cy.get('[data-testid="Vue"]').should(beVisible);
 9:     cy.get('[data-testid="Typescript"]').should(beVisible);
10:     cy.get('[data-testid="Wordpress"]').should(beVisible);
11:     cy.get('[data-testid="PHP"]').should(beVisible);
12:   });
13: });
````

## File: src/e2e/cypress/e2e/accessibility.cy.ts
````typescript
 1: /// <reference types="cypress"/>
 2: /// <reference types="cypress-axe"/>
 3: /// <reference types="axe-core"/>
 4: import { checkAccessibility } from "../support/functions";
 5: describe("Accessibility testing av forside", () => {
 6:   beforeEach(() => {
 7:     cy.visit("/");
 8:   });
 9:   it("Forside skal ikke ha noen a11y feilmeldinger", () => {
10:     // Vent på at animasjonene skal bli ferdige før vi tester
11:     checkAccessibility(5000);
12:   });
13: });
````

## File: src/e2e/cypress/e2e/cv.cy.ts
````typescript
 1: /// <reference types="cypress"/>
 2: /// <reference types="cypress-axe"/>
 3: /// <reference types="axe-core"/>
 4: import { checkAccessibility } from "../support/functions";
 5: describe("Test at CV vises og laster", () => {
 6:   beforeEach(() => {
 7:     cy.visit("http://localhost:3000/cv");
 8:   });
 9:   it("Se at CV vises", () => {
10:     cy.get("main#maincontent").should("be.visible");
11:     cy.get("#tab-qualifications").should("have.length", 1).and("be.visible");
12:   });
13:   it("CV skal ikke ha noen a11y feilmeldinger", () => {
14:     // Vent på at animasjonene skal bli ferdige før vi tester
15:     checkAccessibility(5000);
16:   });
17: });
````

## File: src/e2e/cypress/e2e/index.cy.ts
````typescript
 1: /// <reference types="cypress"/>
 2: // https://cheatography.com/aiqbal/cheat-sheets/cypress-io/
 3: describe("Forside", () => {
 4:   beforeEach(() => {
 5:     //cy.visit("/");
 6:     // Local:
 7:     cy.visit("http://localhost:3000");
 8:   });
 9:   it(`Hei vises på forsiden`, () => {
10:     cy.get('[data-cy="hei"]').contains("Hei!");
11:   });
12:   it(`Om meg vises på forsiden`, () => {
13:     cy.get('[data-cy="Om Meg"]').contains("Om Meg");
14:   });
15:   it(`Prosjekter vises på forsiden`, () => {
16:     cy.get('[data-cy="Prosjekter"]').contains("Prosjekter");
17:   });
18: });
````

## File: src/e2e/cypress/e2e/kontakt.cy.ts
````typescript
 1: /// <reference types="cypress"/>
 2: /// <reference types="cypress-axe"/>
 3: /// <reference types="axe-core"/>
 4: import { checkAccessibility } from "../support/functions";
 5: describe("Kontakt", () => {
 6:   const beVisible = "be.visible";
 7:   beforeEach(() => {
 8:     cy.visit("http://localhost:3000/kontakt");
 9:   });
10:   it(`Navn vises`, () => {
11:     cy.get("#navn").should(beVisible);
12:   });
13:   it(`Vi kan skrive navn`, () => {
14:     cy.get("#navn").type("Fullt navn").should("have.value", "Fullt navn");
15:   });
16:   it("Kontakt skal ikke ha noen a11y feilmeldinger", () => {
17:     checkAccessibility(5000);
18:   });
19: });
````

## File: src/e2e/cypress/e2e/layout.cy.ts
````typescript
 1: /// <reference types="cypress"/>
 2: describe("Layout", () => {
 3:   beforeEach(() => {
 4:     cy.viewport("iphone-x");
 5:     cy.visit("http://localhost:3000");
 6:   });
 7:   describe("Mobile Menu", () => {
 8:     it("should close when clicking a link", () => {
 9:       // Open the mobile menu
10:       cy.get('[data-testid="mobilemenu"]').click();
11:       // Verify menu is visible
12:       cy.get('[data-testid="mobile-menu"]').should("be.visible");
13:       // Click a link in the menu
14:       cy.get('[data-testid="mobil-Prosjekter"]').click();
15:       // Menu should not be visible after clicking a link
16:       cy.get('[data-testid="mobile-menu"]').should("not.exist");
17:     });
18:   });
19: });
````

## File: src/e2e/cypress/e2e/prosjekter.cy.ts
````typescript
 1: /// <reference types="cypress"/>
 2: /// <reference types="cypress-axe"/>
 3: /// <reference types="axe-core"/>
 4: import { checkAccessibility } from "../support/functions";
 5: describe("Prosjekter Page", () => {
 6:   beforeEach(() => {
 7:     cy.visit("http://localhost:3000/prosjekter");
 8:   });
 9:   it("should load the prosjekter page", () => {
10:     cy.url().should("include", "/prosjekter");
11:     cy.get("h1").should("contain", "Prosjekter");
12:   });
13:   it("should display project cards", () => {
14:     cy.get('[data-testid="project-card"]').should("have.length.at.least", 1);
15:   });
16:   it("should display project name, description, and subdescription", () => {
17:     cy.get('[data-testid="project-card"]')
18:       .first()
19:       .within(() => {
20:         cy.get("h1").should("have.class", "text-xl").and("not.be.empty");
21:         cy.get("h2").should("have.class", "text-md").and("not.be.empty");
22:         cy.get("p").should("have.class", "text-sm").and("not.be.empty");
23:       });
24:   });
25:   it('should have functioning "Besøk" button if urlwww exists', () => {
26:     cy.get('[data-testid="project-card"]')
27:       .first()
28:       .within(() => {
29:         cy.get("a")
30:           .contains("Besøk")
31:           .should("have.attr", "href")
32:           .and("not.be.empty");
33:       });
34:   });
35:   it('should have functioning "GitHub" button if urlgithub exists', () => {
36:     cy.get('[data-testid="project-card"]')
37:       .first()
38:       .within(() => {
39:         cy.get("a")
40:           .contains("GitHub")
41:           .should("have.attr", "href")
42:           .and("not.be.empty");
43:       });
44:   });
45:   it('should have the correct URL for "GitHub" button', () => {
46:     cy.get('[data-testid="project-card"]')
47:       .first()
48:       .within(() => {
49:         cy.get("a")
50:           .contains("GitHub")
51:           .should("have.attr", "href")
52:           .and("match", /^https:\/\/github\.com\/.+$/);
53:       });
54:   });
55:   it("Prosjekter page should not have any a11y issues", () => {
56:     checkAccessibility(5000);
57:   });
58: });
````

## File: src/e2e/cypress/support/commands.ts
````typescript
 1: /// <reference types="cypress" />
 2: // ***********************************************
 3: // This example commands.ts shows you how to
 4: // create various custom commands and overwrite
 5: // existing commands.
 6: //
 7: // For more comprehensive examples of custom
 8: // commands please read more here:
 9: // https://on.cypress.io/custom-commands
10: // ***********************************************
11: //
12: //
13: // -- This is a parent command --
14: // Cypress.Commands.add('login', (email, password) => { ... })
15: //
16: //
17: // -- This is a child command --
18: // Cypress.Commands.add('drag', { prevSubject: 'element'}, (subject, options) => { ... })
19: //
20: //
21: // -- This is a dual command --
22: // Cypress.Commands.add('dismiss', { prevSubject: 'optional'}, (subject, options) => { ... })
23: //
24: //
25: // -- This will overwrite an existing command --
26: // Cypress.Commands.overwrite('visit', (originalFn, url, options) => { ... })
27: //
28: // declare global {
29: //   namespace Cypress {
30: //     interface Chainable {
31: //       login(email: string, password: string): Chainable<void>
32: //       drag(subject: string, options?: Partial<TypeOptions>): Chainable<Element>
33: //       dismiss(subject: string, options?: Partial<TypeOptions>): Chainable<Element>
34: //       visit(originalFn: CommandOriginalFn, url: string, options: Partial<VisitOptions>): Chainable<Element>
35: //     }
36: //   }
37: // }
38: export {};
````

## File: src/e2e/cypress/support/component-index.html
````html
 1: <!doctype html>
 2: <html lang="nb">
 3:   <head>
 4:     <meta charset="utf-8" />
 5:     <meta http-equiv="X-UA-Compatible" content="IE=edge" />
 6:     <meta name="viewport" content="width=device-width,initial-scale=1.0" />
 7:     <title>Components App</title>
 8:     <!-- Used by Next.js to inject CSS. -->
 9:     <div id="__next_css__DO_NOT_USE__"></div>
10:   </head>
11:   <body>
12:     <div data-cy-root></div>
13:   </body>
14: </html>
````

## File: src/e2e/cypress/support/component.ts
````typescript
 1: // ***********************************************************
 2: // This example support/component.ts is processed and
 3: // loaded automatically before your test files.
 4: //
 5: // This is a great place to put global configuration and
 6: // behavior that modifies Cypress.
 7: //
 8: // You can change the location of this file or turn off
 9: // automatically serving support files with the
10: // 'supportFile' configuration option.
11: //
12: // You can read more here:
13: // https://on.cypress.io/configuration
14: // ***********************************************************
15: // Import commands.js using ES2015 syntax:
16: import "./commands";
17: import "@/styles/globals.css";
18: import { mount } from "cypress/react";
19: // Augment the Cypress namespace to include type definitions for
20: // your custom command.
21: // Alternatively, can be defined in cypress/support/component.d.ts
22: // with a <reference path="./component" /> at the top of your spec.
23: Cypress.Commands.add("mount", mount);
24: // Example use:
25: // cy.mount(<MyComponent />)
````

## File: src/e2e/cypress/support/e2e.ts
````typescript
 1: // ***********************************************************
 2: // This example support/e2e.ts is processed and
 3: // loaded automatically before your test files.
 4: //
 5: // This is a great place to put global configuration and
 6: // behavior that modifies Cypress.
 7: //
 8: // You can change the location of this file or turn off
 9: // automatically serving support files with the
10: // 'supportFile' configuration option.
11: //
12: // You can read more here:
13: // https://on.cypress.io/configuration
14: // ***********************************************************
15: import "cypress-axe";
16: // Import commands.js using ES2015 syntax:
17: import "./commands";
18: // Alternatively you can use CommonJS syntax:
19: // require('./commands')
````

## File: src/e2e/cypress/support/functions.ts
````typescript
 1: import { Result } from "axe-core";
 2: export function terminalLog(violations: Result[]) {
 3:   cy.task(
 4:     "log",
 5:     `${violations.length} accessibility violation${violations.length === 1 ? "" : "s"} ${
 6:       violations.length === 1 ? "was" : "were"
 7:     } detected`,
 8:   );
 9:   const violationData = violations.map(
10:     ({ id, impact, description, nodes }) => ({
11:       id,
12:       impact,
13:       description,
14:       nodes: nodes.length,
15:     }),
16:   );
17:   cy.task("table", violationData);
18:   console.error(violationData);
19: }
20: export function checkAccessibility(delay?: number) {
21:   if (delay) {
22:     cy.wait(delay);
23:   }
24:   cy.injectAxe();
25:   cy.checkA11y(undefined, undefined, terminalLog);
26: }
````

## File: src/e2e/cypress/tsconfig.json
````json
 1: {
 2:   "extends": "../../../tsconfig.json",
 3:   "compilerOptions": {
 4:     "noEmit": true,
 5:     "isolatedModules": false,
 6:     "types": ["cypress", "@testing-library/cypress"]
 7:   },
 8:   "include": [
 9:     "../../../node_modules/cypress",
10:     "../../../node_modules/@testing-library/cypress",
11:     "support/component.ts",
12:     "support/component.d.ts",
13:     "./**/*.ts"
14:   ]
15: }
````

## File: src/e2e/playwright/cv.spec.ts
````typescript
 1: import { test, expect } from "@playwright/test";
 2: test.describe("CV page", () => {
 3:   test("loads and displays main content correctly", async ({ page }) => {
 4:     await page.goto("/cv");
 5:     // Check if 'Nøkkelkvalifikasjoner' tab is visible
 6:     await expect(
 7:       page.getByRole("tab", { name: "Nøkkelkvalifikasjoner" }),
 8:     ).toBeVisible();
 9:   });
10:   test("navigates to and displays Experience section correctly", async ({
11:     page,
12:   }) => {
13:     await page.goto("/cv");
14:     // Click on 'Erfaring' tab
15:     await page.getByRole("tab", { name: "Erfaring" }).click();
16:     // Check if a specific experience entry is visible
17:     await expect(
18:       page.getByRole("heading", { name: "– 2021 - NovaCare" }),
19:     ).toBeVisible();
20:   });
21:   test("displays Education section correctly", async ({ page }) => {
22:     await page.goto("/cv");
23:     // Click on 'Erfaring' tab
24:     await page.getByRole("tab", { name: "Utdanning" }).click();
25:     // Check if education information is present
26:     await expect(page.getByLabel("Utdanning")).toContainText(
27:       "2019 – 2025 - Kompetanseheving / egenlæring frontendutvikling",
28:     );
29:   });
30: });
````

## File: src/e2e/playwright/index.spec.ts
````typescript
 1: import { test, expect } from "@playwright/test";
 2: test.describe("Home page", () => {
 3:   test("loads and displays main content correctly", async ({ page }) => {
 4:     await page.goto("/");
 5:     // Check main heading
 6:     await expect(page.locator("h1")).toContainText("Hei!");
 7:     await expect(page.getByRole("heading", { name: "Hei!" })).toBeVisible({
 8:       timeout: 10000,
 9:     });
10:     // Check subheading
11:     await expect(
12:       page.getByTestId("fade-in").getByRole("heading", { level: 2 }),
13:     ).toContainText("Jeg heter Daniel Fjeldstad og er en webutvikler.");
14:     await expect(
15:       page.getByRole("heading", { name: "Jeg heter Daniel Fjeldstad og" }),
16:     ).toBeVisible();
17:     // Check skills text
18:     await expect(
19:       page.getByText(
20:         "Jeg kan Next.js, Javascript, Typescript, React, Vue, PHP, WordPress og mye mer.",
21:       ),
22:     ).toBeVisible();
23:     // Check if icons are visible
24:     await expect(page.getByTestId("icons")).toBeVisible();
25:   });
26:   test("displays 'Om Meg' section correctly", async ({ page }) => {
27:     await page.goto("/");
28:     const omMegSection = page.getByLabel("Om Meg");
29:     // Check section title
30:     await expect(omMegSection.getByTestId("sanity-title")).toContainText(
31:       "Om Meg",
32:       { timeout: 10000 },
33:     );
34:     // Check section content
35:     await expect(omMegSection.getByTestId("fade-in-scroll")).toContainText(
36:       "I over 10 år har jeg hatt en lidenskap for webutvikling og design, og ser i dag på meg selv som en dedikert senior frontendutvikler.Jeg har jobbet mye med WordPress og WooCommerce, hvor jeg siden 2011 har levert kvalitetsarbeid som frilanser på Fiverr, og har oppnådd 100% positive tilbakemeldinger.Språk som moderne Javascript (ES6+) og Typescript, og populære rammeverk som React, Vue 2/3, Next.js og Sveltekit er noe jeg bruker hver dag. Jeg har også erfaring med PHP, mySQL, GraphQL, Docker, Storybook, Sanity.io, Jest, Cypress, Python og Bootstrap.",
37:     );
38:   });
39:   test("displays 'Prosjekter' section correctly", async ({ page }) => {
40:     await page.goto("/");
41:     const prosjekterSection = page.getByLabel("Prosjekter");
42:     // Check section content
43:     await expect(prosjekterSection.getByTestId("fade-in-scroll")).toContainText(
44:       "Jeg har de siste årene hatt mye fokus på AI i form av bruk av og programmering av ulike AI verktøy, boter og applikasjoner. Jeg er også svært aktiv i flere AI miljøer på Discord hvor jeg er administrator på flere servere med totalt over 500 medlemmer, og opererer også som teknisk ansvarlig og utvikler av AI boter og verktøy som brukes på serverne. Holder også på mye med utvikling på GITHUB på hobbybasis, hvor jeg kan skilte med å være Norges mest aktive utvikler.På PROSJEKTER kan du se eksempler på arbeid jeg har gjort i nyere tid.Har også bidratt med utvikling av flere open-source prosjekter på GITHUB.",
45:       { timeout: 10000 },
46:     );
47:   });
48: });
````

## File: src/e2e/playwright/kontakt.spec.ts
````typescript
 1: import { test, expect } from "@playwright/test";
 2: test.describe("Contact page", () => {
 3:   test("loads and displays form elements correctly", async ({ page }) => {
 4:     await page.goto("/kontakt");
 5:     // Check if form labels are visible
 6:     await expect(page.getByText("Fullt navn")).toBeVisible();
 7:     await expect(page.getByText("Telefonnummer")).toBeVisible();
 8:     await expect(page.getByText("Hva ønsker du å si?")).toBeVisible();
 9:     // Check if submit button is visible using the new data-testid
10:     await expect(page.getByTestId("submit-button")).toBeVisible();
11:   });
12:   test("submit button has correct text", async ({ page }) => {
13:     await page.goto("/kontakt");
14:     // Check if the submit button has the correct text
15:     const submitButton = page.getByTestId("submit-button");
16:     await expect(submitButton).toHaveText("Send skjema");
17:   });
18: });
````

## File: src/e2e/playwright/prosjekter.spec.ts
````typescript
 1: import { test, expect } from "@playwright/test";
 2: test.describe("Prosjekter page", () => {
 3:   test("loads and displays main content correctly", async ({ page }) => {
 4:     await page.goto("/prosjekter");
 5:     // Check main heading
 6:     await expect(
 7:       page.getByRole("heading", { name: "Prosjekter" }),
 8:     ).toBeVisible();
 9:     // Check if 'Dfweb versjon' heading is visible
10:     await expect(
11:       page.getByRole("heading", { name: "Dfweb versjon" }),
12:     ).toBeVisible();
13:   });
14:   test("displays project images correctly", async ({ page }) => {
15:     await page.goto("/prosjekter");
16:     // Check if project images are visible
17:     await expect(page.getByRole("img", { name: "Earth Doom" })).toBeVisible();
18:     await expect(
19:       page.getByRole("img", { name: "NextJS WooCommerce" }),
20:     ).toBeVisible();
21:   });
22:   test("displays project details correctly", async ({ page }) => {
23:     await page.goto("/prosjekter");
24:     const portfolioContent = page.getByLabel("Innhold portefølje");
25:     // Check project title
26:     await expect(portfolioContent).toContainText("Earth Doom");
27:     // Check project technologies
28:     await expect(portfolioContent).toContainText(
29:       "Typescript, Tailwind, Prisma, Clerk, tRPC, PostgreSQL, Chart.js",
30:     );
31:     // Check if 'Besøk' and 'GitHub' links are visible
32:     await expect(page.getByText("BesøkGitHub").first()).toBeVisible();
33:   });
34: });
````

## File: src/hooks/useMobile.tsx
````typescript
 1: import { useState, useEffect } from "react";
 2: /**
 3:  * A React hook that returns a boolean indicating if the user is on a mobile device.
 4:  * The determination uses window.innerWidth < 640 as a threshold.
 5:  *
 6:  * @returns true if the device width is under 640px, else false.
 7:  */
 8: export function useMobile(): boolean {
 9:   const [isMobile, setIsMobile] = useState<boolean>(false);
10:   useEffect(() => {
11:     const checkIfMobile = (): void => {
12:       setIsMobile(window.innerWidth < 640);
13:     };
14:     checkIfMobile();
15:     window.addEventListener("resize", checkIfMobile);
16:     return () => window.removeEventListener("resize", checkIfMobile);
17:   }, []);
18:   return isMobile;
19: }
````

## File: src/hooks/useNavigation.ts
````typescript
 1: import { usePathname } from "next/navigation";
 2: import type { Navigation } from "@/types/sanity.types";
 3: /**
 4:  * Custom hook for managing navigation state and logic
 5:  * @param {NavigationLink[]} navigationLinks - Array of navigation links (using the imported type)
 6:  * @returns {Object} An object containing navigation-related data and functions
 7:  * @property {NavigationLink[]} navigationLinks - The array of navigation links passed to the hook
 8:  * @property {function} isLinkActive - A function that checks if a given link is currently active
 9:  */
10: export function useNavigation(navigationLinks: Navigation[]) {
11:   const pathname = usePathname();
12:   const isLinkActive = (href: string) => pathname === href;
13:   return {
14:     navigationLinks,
15:     isLinkActive,
16:   };
17: }
````

## File: src/lib/framer/client.ts
````typescript
1: "use client";
2: import { motion } from "motion/react";
3: export const MotionDiv = motion.div;
4: export const MotionLi = motion.li;
5: export const MotionUl = motion.ul;
````

## File: src/lib/sanity/client.ts
````typescript
 1: import imageUrlBuilder from "@sanity/image-url";
 2: import { createClient } from "next-sanity";
 3: import type { Project } from "@/types/sanity.types";
 4: const projectId = process.env.NEXT_PUBLIC_SANITY_PROJECT_ID || "41s7iutf";
 5: const dataset = process.env.NEXT_PUBLIC_SANITY_DATASET || "production";
 6: const apiVersion = process.env.NEXT_PUBLIC_SANITY_API_VERSION || "2023-05-03";
 7: export const client = createClient({
 8:   projectId,
 9:   dataset,
10:   apiVersion,
11:   useCdn: true,
12: });
13: const builder = imageUrlBuilder(client);
14: export function urlFor(source: NonNullable<Project["projectimage"]>) {
15:   return builder.image(source);
16: }
````

## File: src/lib/sanity/helpers.ts
````typescript
1: import { client } from "./client";
2: import imageUrlBuilder from "@sanity/image-url";
3: const builder = imageUrlBuilder(client);
4: export const urlFor = (source: string) => {
5:   return builder.image(source);
6: };
````

## File: src/lib/sanity/queries.ts
````typescript
 1: import { defineQuery } from "next-sanity";
 2: export const projectsQuery = defineQuery(`
 3:   *[_type == "project"] | order(featureOrder asc) {
 4:     id,
 5:     name,
 6:     description,
 7:     subdescription,
 8:     projectcategory->{
 9:       _id,
10:       title
11:     },
12:     urlwww[]{
13:       ...,
14:       _key,
15:     },
16:     urlgithub[]{
17:       ...,
18:       _key,
19:     },
20:     projectimage,
21:     featured,
22:     featureOrder
23:   }
24: `);
25: export const cvQuery = defineQuery(`
26:   *[_type == "cv"][0] {
27:     keyQualifications,
28:     experience[] {
29:       period,
30:       company,
31:       role,
32:       description
33:     },
34:     education[] {
35:       period,
36:       institution,
37:       degree,
38:       description
39:     },
40:     volunteerWork[] {
41:       period,
42:       organization,
43:       role,
44:       description
45:     }
46:   }
47: `);
48: export const pageContentQuery = defineQuery(`
49:   *[_type == 'page' && title match 'Hjem'][0]{
50:     "id": _id,
51:     title,
52:     hero,
53:     content
54:   }
55: `);
56: export const navigationQuery = defineQuery(`
57:   *[_type == "navigation"][0] {
58:     title,
59:     links[] {
60:       title,
61:       name,
62:       hash,
63:       href,
64:       externalLink
65:     }
66:   }
67: `);
68: export const settingsQuery = defineQuery(`
69:   *[_type == "settings"][0] {
70:     footerCopyrightText
71:   }
72: `);
````

## File: src/lib/csrf.ts
````typescript
 1: import { randomBytes, createHmac, timingSafeEqual } from "crypto";
 2: const CSRF_SECRET =
 3:   process.env.CSRF_SECRET ?? "default-csrf-secret-change-in-production";
 4: const TOKEN_EXPIRY = 60 * 60 * 1000; // 1 hour in milliseconds
 5: /**
 6:  * Generates a CSRF token with timestamp
 7:  * @returns {string} Base64 encoded CSRF token
 8:  */
 9: export function generateCSRFToken(): string {
10:   const timestamp = Date.now().toString();
11:   const randomValue = randomBytes(32).toString("hex");
12:   const payload = `${timestamp}:${randomValue}`;
13:   const signature = createHmac("sha256", CSRF_SECRET)
14:     .update(payload)
15:     .digest("hex");
16:   const token = `${payload}:${signature}`;
17:   return Buffer.from(token).toString("base64");
18: }
19: /**
20:  * Validates a CSRF token
21:  * @param {string} token - Base64 encoded CSRF token
22:  * @returns {boolean} True if token is valid and not expired
23:  */
24: export function validateCSRFToken(token: string): boolean {
25:   try {
26:     const decoded = Buffer.from(token, "base64").toString("utf-8");
27:     const parts = decoded.split(":");
28:     if (parts.length !== 3) {
29:       return false;
30:     }
31:     const [timestamp, randomValue, signature] = parts;
32:     const payload = `${timestamp}:${randomValue}`;
33:     // Verify signature
34:     const expectedSignature = createHmac("sha256", CSRF_SECRET)
35:       .update(payload)
36:       .digest("hex");
37:     const signatureBuffer = Buffer.from(signature, "hex");
38:     const expectedBuffer = Buffer.from(expectedSignature, "hex");
39:     if (signatureBuffer.length !== expectedBuffer.length) {
40:       return false;
41:     }
42:     if (!timingSafeEqual(signatureBuffer, expectedBuffer)) {
43:       return false;
44:     }
45:     // Check if token is expired
46:     const tokenTime = parseInt(timestamp, 10);
47:     const currentTime = Date.now();
48:     if (currentTime - tokenTime > TOKEN_EXPIRY) {
49:       return false;
50:     }
51:     return true;
52:   } catch {
53:     return false;
54:   }
55: }
````

## File: src/stories/components/Animations/BounceInScroll.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta, Story } from "@ladle/react";
 3: import BounceInScroll from "@/components/Animations/BounceInScroll.component";
 4: import { IAnimateBounceProps } from "@/components/Animations/types/Animations.types";
 5: export default {
 6:   title: "Animations/BounceInScroll",
 7:   component: BounceInScroll,
 8: } as Meta;
 9: const Card = () => (
10:   <div className="bg-gray-700 p-6 rounded-lg shadow-lg">
11:     <h2 className="text-2xl text-white mb-4">Animated Card</h2>
12:     <p className="text-gray-300">
13:       This card demonstrates the BounceInScroll animation component.
14:     </p>
15:   </div>
16: );
17: const storyWrapper = (storyArgs: IAnimateBounceProps) => (
18:   <div className="min-h-[150vh] bg-gray-800 p-8">
19:     <div className="text-white mb-[100vh]">
20:       ⬇️ Scroll down to see the animation
21:     </div>
22:     <BounceInScroll {...storyArgs} />
23:   </div>
24: );
25: export const Default: Story<IAnimateBounceProps> = () =>
26:   storyWrapper({
27:     children: <Card />,
28:     viewAmount: 0.2,
29:   });
30: export const InstantAnimation: Story<IAnimateBounceProps> = () =>
31:   storyWrapper({
32:     children: <Card />,
33:     instant: true,
34:   });
35: export const FullViewTrigger: Story<IAnimateBounceProps> = () =>
36:   storyWrapper({
37:     children: <Card />,
38:     viewAmount: "all",
39:   });
40: export const PartialViewTrigger: Story<IAnimateBounceProps> = () =>
41:   storyWrapper({
42:     children: <Card />,
43:     viewAmount: "some",
44:   });
45: export const CustomViewAmount: Story<IAnimateBounceProps> = () =>
46:   storyWrapper({
47:     children: <Card />,
48:     viewAmount: 0.5,
49:   });
50: export const WithCustomClass: Story<IAnimateBounceProps> = () =>
51:   storyWrapper({
52:     children: <Card />,
53:     cssClass: "max-w-md mx-auto",
54:   });
55: export const LargeContent: Story<IAnimateBounceProps> = () =>
56:   storyWrapper({
57:     children: (
58:       <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
59:         <Card />
60:         <Card />
61:         <Card />
62:       </div>
63:     ),
64:     viewAmount: 0.2,
65:   });
66: export const TextContent: Story<IAnimateBounceProps> = () =>
67:   storyWrapper({
68:     children: (
69:       <div className="text-white text-center">
70:         <h1 className="text-4xl font-bold mb-4">Welcome</h1>
71:         <p className="text-xl">This is a simple text animation example.</p>
72:       </div>
73:     ),
74:     viewAmount: 0.2,
75:   });
````

## File: src/stories/components/Animations/FadeDown.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta, Story } from "@ladle/react";
 3: import FadeDown from "@/components/Animations/FadeDown.component";
 4: import { IAnimateWithDelayProps } from "@/components/Animations/types/Animations.types";
 5: export default {
 6:   title: "Animations/FadeDown",
 7:   component: FadeDown,
 8: } as Meta;
 9: export const Default: Story<IAnimateWithDelayProps> = () => (
10:   <FadeDown
11:     delay={0}
12:     cssClass="p-4 bg-gray-100 border border-gray-300 rounded-sm text-neutral-800"
13:   >
14:     Fade Down Animation
15:   </FadeDown>
16: );
17: export const WithDelay: Story<IAnimateWithDelayProps> = () => (
18:   <FadeDown
19:     delay={1}
20:     cssClass="p-4 bg-blue-100 border border-blue-300 rounded-sm text-neutral-800"
21:   >
22:     Fade Down with Delay
23:   </FadeDown>
24: );
25: export const CustomStyles: Story<IAnimateWithDelayProps> = () => (
26:   <FadeDown
27:     delay={0.5}
28:     cssClass="p-4 bg-green-100 border border-green-300 rounded-sm shadow-lg text-neutral-800"
29:   >
30:     Fade Down with Custom Styles
31:   </FadeDown>
32: );
````

## File: src/stories/components/Animations/FadeIn.stories.tsx
````typescript
 1: import type { Story } from "@ladle/react";
 2: import FadeIn, { FadeInProps } from "@/components/Animations/FadeIn.component";
 3: const FadeInStories = {
 4:   title: "Animations/FadeIn",
 5: };
 6: export default FadeInStories;
 7: export const Default: Story<FadeInProps> = () => (
 8:   <FadeIn>
 9:     <div className="p-4 bg-blue-500 rounded">Fade In</div>
10:   </FadeIn>
11: );
12: export const WithDelay: Story<FadeInProps> = () => (
13:   <FadeIn delay={1}>
14:     <div className="p-4 bg-blue-500 rounded">Fade In with Delay</div>
15:   </FadeIn>
16: );
17: export const LongDuration: Story<FadeInProps> = () => (
18:   <FadeIn duration={1.5}>
19:     <div className="p-4 bg-blue-500 rounded">Long Duration Fade In</div>
20:   </FadeIn>
21: );
````

## File: src/stories/components/Animations/FadeInScroll.stories.tsx
````typescript
 1: import type { Story } from "@ladle/react";
 2: import FadeInScroll, {
 3:   FadeInScrollProps,
 4: } from "@/components/Animations/FadeInScroll.component";
 5: const FadeInScrollStories = {
 6:   title: "Animations/FadeInScroll",
 7: };
 8: export default FadeInScrollStories;
 9: export const Default: Story<FadeInScrollProps> = () => (
10:   <div className="h-[200vh] pt-[100vh]">
11:     <FadeInScroll>
12:       <div className="p-4 bg-green-500 rounded">Fade In on Scroll</div>
13:     </FadeInScroll>
14:   </div>
15: );
16: export const CustomViewAmount: Story<FadeInScrollProps> = () => (
17:   <div className="h-[200vh] pt-[100vh]">
18:     <FadeInScroll viewAmount={0.8}>
19:       <div className="p-4 bg-green-500 rounded">Fade In with 80% visible</div>
20:     </FadeInScroll>
21:   </div>
22: );
````

## File: src/stories/components/Animations/FadeUp.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta, Story } from "@ladle/react";
 3: import FadeUp from "@/components/Animations/FadeUp.component";
 4: import { IAnimateWithDelayProps } from "@/components/Animations/types/Animations.types";
 5: export default {
 6:   title: "Animations/FadeUp",
 7:   component: FadeUp,
 8: } as Meta;
 9: export const Default: Story<IAnimateWithDelayProps> = () => (
10:   <FadeUp
11:     delay={0}
12:     cssClass="p-4 bg-gray-100 border border-gray-300 rounded-sm text-neutral-800"
13:   >
14:     Fade Up Animation
15:   </FadeUp>
16: );
17: export const WithDelay: Story<IAnimateWithDelayProps> = () => (
18:   <FadeUp
19:     delay={1}
20:     cssClass="p-4 bg-blue-100 border border-blue-300 rounded-sm text-neutral-800"
21:   >
22:     Fade Up with Delay
23:   </FadeUp>
24: );
25: export const CustomStyles: Story<IAnimateWithDelayProps> = () => (
26:   <FadeUp
27:     delay={0.5}
28:     cssClass="p-4 bg-green-100 border border-green-300 rounded-sm shadow-lg text-neutral-800"
29:   >
30:     Fade Up with Custom Styles
31:   </FadeUp>
32: );
````

## File: src/stories/components/Animations/Grow.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta, Story } from "@ladle/react";
 3: import Grow from "@/components/Animations/Grow.component";
 4: import { IGrowProps } from "@/components/Animations/types/Animations.types";
 5: export default {
 6:   title: "Animations/Grow",
 7:   component: Grow,
 8: } as Meta;
 9: export const Default: Story<IGrowProps> = () => (
10:   <div className="p-4 bg-gray-100 text-neutral-800 rounded-sm border border-gray-300">
11:     <Grow duration={0.5} delay={0} easing={[0.42, 0, 0.58, 1]}>
12:       Grow Animation
13:     </Grow>
14:   </div>
15: );
16: export const WithDelay: Story<IGrowProps> = () => (
17:   <div className="p-4 bg-gray-100 text-neutral-800 rounded-sm border border-gray-300">
18:     <Grow duration={0.5} delay={1} easing={[0.42, 0, 0.58, 1]}>
19:       Grow with Delay
20:     </Grow>
21:   </div>
22: );
23: export const CustomDuration: Story<IGrowProps> = () => (
24:   <div className="p-4 bg-gray-100 text-neutral-800 rounded-sm border border-gray-300">
25:     <Grow duration={1} delay={0} easing={[0.42, 0, 0.58, 1]}>
26:       Grow with Custom Duration
27:     </Grow>
28:   </div>
29: );
30: export const CustomEasing: Story<IGrowProps> = () => (
31:   <div className="p-4 bg-gray-100 text-neutral-800 rounded-sm border border-gray-300">
32:     <Grow duration={0.5} delay={0} easing={[0.25, 0.8, 0.25, 1]}>
33:       Grow with Custom Easing
34:     </Grow>
35:   </div>
36: );
````

## File: src/stories/components/Animations/Matrix.stories.tsx
````typescript
  1: import React, { useEffect, useState } from "react";
  2: import { Meta } from "@ladle/react";
  3: interface ReactMatrixAnimationProps {
  4:   tileSize?: number;
  5:   fadeFactor?: number;
  6:   backgroundColor?: string;
  7:   fontColor?: string;
  8:   glowColor?: string;
  9:   tileSet?: string[] | null;
 10: }
 11: export default {
 12:   title: "Animations/Matrix",
 13: } as Meta;
 14: // Client-side only wrapper component
 15: const ClientOnlyMatrix = (props: ReactMatrixAnimationProps) => {
 16:   const [Matrix, setMatrix] =
 17:     useState<React.ComponentType<ReactMatrixAnimationProps> | null>(null);
 18:   useEffect(() => {
 19:     import("@/components/Animations/Matrix.component").then((mod) => {
 20:       setMatrix(() => mod.default);
 21:     });
 22:   }, []);
 23:   if (!Matrix) {
 24:     return <div>Loading Matrix...</div>;
 25:   }
 26:   return <Matrix {...props} />;
 27: };
 28: const Container = ({ children }: { children: React.ReactNode }) => (
 29:   <div className="relative w-full h-[400px] bg-gray-900">{children}</div>
 30: );
 31: // Basic story with default props
 32: export const Default = () => (
 33:   <Container>
 34:     <ClientOnlyMatrix />
 35:   </Container>
 36: );
 37: // Story with custom colors
 38: export const CustomColors = () => (
 39:   <Container>
 40:     <ClientOnlyMatrix
 41:       backgroundColor="#000000"
 42:       fontColor="#FF0000"
 43:       glowColor="#FF4444"
 44:     />
 45:   </Container>
 46: );
 47: // Story with larger tiles
 48: export const LargeTiles = () => (
 49:   <Container>
 50:     <ClientOnlyMatrix
 51:       tileSize={30}
 52:       backgroundColor="#000000"
 53:       fontColor="#00FF00"
 54:       glowColor="#00FF00"
 55:     />
 56:   </Container>
 57: );
 58: // Story with smaller tiles
 59: export const SmallTiles = () => (
 60:   <Container>
 61:     <ClientOnlyMatrix
 62:       tileSize={12}
 63:       backgroundColor="#000000"
 64:       fontColor="#00FF00"
 65:       glowColor="#00FF00"
 66:     />
 67:   </Container>
 68: );
 69: // Story with binary characters
 70: export const BinaryMatrix = () => (
 71:   <Container>
 72:     <ClientOnlyMatrix
 73:       tileSet={["0", "1"]}
 74:       backgroundColor="#000000"
 75:       fontColor="#00FF00"
 76:       glowColor="#00FF00"
 77:     />
 78:   </Container>
 79: );
 80: // Story with slow fade effect
 81: export const SlowFade = () => (
 82:   <Container>
 83:     <ClientOnlyMatrix
 84:       fadeFactor={0.1}
 85:       backgroundColor="#000000"
 86:       fontColor="#00FF00"
 87:       glowColor="#00FF00"
 88:     />
 89:   </Container>
 90: );
 91: // Story with blue theme
 92: export const BlueTheme = () => (
 93:   <Container>
 94:     <ClientOnlyMatrix
 95:       backgroundColor="#000033"
 96:       fontColor="#0088FF"
 97:       glowColor="#00AAFF"
 98:       tileSet={["@", "#", "$", "%", "&", "*"]}
 99:     />
100:   </Container>
101: );
102: // Story with purple theme
103: export const PurpleTheme = () => (
104:   <Container>
105:     <ClientOnlyMatrix
106:       backgroundColor="#1a0033"
107:       fontColor="#9933ff"
108:       glowColor="#bf80ff"
109:       tileSize={25}
110:       fadeFactor={0.3}
111:     />
112:   </Container>
113: );
````

## File: src/stories/components/Animations/MatrixCursor.stories.tsx
````typescript
  1: import React, { useRef } from "react";
  2: import { Meta } from "@ladle/react";
  3: import MatrixCursor from "@/components/Animations/MatrixCursor.component";
  4: import "@/app/cursor.css";
  5: export default {
  6:   title: "Animations/MatrixCursor",
  7:   component: MatrixCursor,
  8: } as Meta;
  9: const DemoContainer = ({ children }: { children: React.ReactNode }) => {
 10:   const heroRef = useRef<HTMLDivElement>(null);
 11:   return (
 12:     <div
 13:       ref={heroRef}
 14:       className="min-h-[400px] bg-gray-900 p-8 rounded-lg relative overflow-hidden"
 15:     >
 16:       {children}
 17:       <MatrixCursor heroRef={heroRef} />
 18:     </div>
 19:   );
 20: };
 21: export const Default = () => (
 22:   <DemoContainer>
 23:     <div className="text-gray-300 space-y-4">
 24:       <h2 className="text-2xl font-bold text-white mb-4">Matrix Cursor Demo</h2>
 25:       <p>
 26:         Move your mouse around this container to see the matrix cursor effect.
 27:       </p>
 28:       <p>The cursor will change and leave a trail of matrix characters.</p>
 29:       <div className="grid grid-cols-2 gap-4 mt-8">
 30:         <div className="bg-gray-800 p-4 rounded-sm">
 31:           <h3 className="text-lg font-semibold mb-2">Hover Area 1</h3>
 32:           <p className="text-sm">
 33:             Move your cursor here to see the effect in action
 34:           </p>
 35:         </div>
 36:         <div className="bg-gray-800 p-4 rounded-sm">
 37:           <h3 className="text-lg font-semibold mb-2">Hover Area 2</h3>
 38:           <p className="text-sm">
 39:             Try moving between different areas to see the trail
 40:           </p>
 41:         </div>
 42:       </div>
 43:     </div>
 44:   </DemoContainer>
 45: );
 46: export const WithInteractiveElements = () => (
 47:   <DemoContainer>
 48:     <div className="text-gray-300 space-y-6">
 49:       <h2 className="text-2xl font-bold text-white mb-4">
 50:         Interactive Elements Demo
 51:       </h2>
 52:       <div className="grid grid-cols-2 gap-4">
 53:         <button className="bg-blue-600 text-white px-6 py-3 rounded-sm hover:bg-blue-700 transition-colors">
 54:           Hover Me
 55:         </button>
 56:         <button className="bg-green-600 text-white px-6 py-3 rounded-sm hover:bg-green-700 transition-colors text-center">
 57:           Button Example
 58:         </button>
 59:       </div>
 60:       <div className="bg-gray-800 p-6 rounded-sm">
 61:         <p>
 62:           The matrix cursor effect works seamlessly with interactive elements.
 63:           Try hovering over the buttons above.
 64:         </p>
 65:       </div>
 66:     </div>
 67:   </DemoContainer>
 68: );
 69: export const LargeArea = () => (
 70:   <DemoContainer>
 71:     <div className="text-gray-300 min-h-[600px] flex items-center justify-center">
 72:       <div className="text-center space-y-4">
 73:         <h2 className="text-3xl font-bold text-white">Large Area Demo</h2>
 74:         <p>
 75:           This demo shows how the matrix cursor effect works in a larger area.
 76:           <br />
 77:           Move your cursor around to create longer trails.
 78:         </p>
 79:       </div>
 80:     </div>
 81:   </DemoContainer>
 82: );
 83: export const WithContent = () => (
 84:   <DemoContainer>
 85:     <div className="text-gray-300 space-y-6">
 86:       <h2 className="text-2xl font-bold text-white mb-4">
 87:         Content Interaction
 88:       </h2>
 89:       <div className="grid grid-cols-3 gap-4">
 90:         {[1, 2, 3].map((i) => (
 91:           <div
 92:             key={i}
 93:             className="bg-gray-800 p-4 rounded-sm hover:bg-gray-700 transition-colors"
 94:           >
 95:             <h3 className="text-lg font-semibold mb-2">Card {i}</h3>
 96:             <p className="text-sm">
 97:               Hover over this card to see how the matrix cursor interacts with
 98:               content.
 99:             </p>
100:           </div>
101:         ))}
102:       </div>
103:       <div className="bg-gray-800 p-6 rounded-sm mt-8">
104:         <p className="text-lg">
105:           The matrix cursor effect adds a unique interactive element to your
106:           content. Try moving between different cards to see how the trail
107:           follows your movement.
108:         </p>
109:       </div>
110:     </div>
111:   </DemoContainer>
112: );
````

## File: src/stories/components/Animations/PageTransition.stories.tsx
````typescript
  1: import React from "react";
  2: import { Meta } from "@ladle/react";
  3: import PageTransition from "@/components/Animations/PageTransition.component";
  4: import "@/app/globals.css";
  5: export default {
  6:   title: "Animations/PageTransition",
  7:   component: PageTransition,
  8: } as Meta;
  9: // Default page transition with simple content
 10: export const Default = () => (
 11:   <PageTransition>
 12:     <div className="p-6 bg-slate-800 rounded-lg">
 13:       <h2 className="text-white text-xl mb-4">Page Content</h2>
 14:       <p className="text-gray-300">
 15:         This content will have a fade in/out transition when the component
 16:         mounts or unmounts.
 17:       </p>
 18:     </div>
 19:   </PageTransition>
 20: );
 21: // Page transition with custom CSS class
 22: export const WithCustomClass = () => (
 23:   <PageTransition cssClass="max-w-2xl mx-auto border-2 border-green-500 rounded-xl overflow-hidden">
 24:     <div className="p-6 bg-slate-800">
 25:       <h2 className="text-white text-xl mb-4">Styled Container</h2>
 26:       <p className="text-gray-300">
 27:         This content has a custom CSS class applied to the transition wrapper.
 28:       </p>
 29:     </div>
 30:   </PageTransition>
 31: );
 32: // Multiple transitions side by side
 33: export const MultipleTransitions = () => (
 34:   <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
 35:     <PageTransition>
 36:       <div className="p-6 bg-blue-900 rounded-lg h-full">
 37:         <h2 className="text-white text-xl mb-4">First Panel</h2>
 38:         <p className="text-gray-300">This is the first transition panel.</p>
 39:       </div>
 40:     </PageTransition>
 41:     <PageTransition>
 42:       <div className="p-6 bg-purple-900 rounded-lg h-full">
 43:         <h2 className="text-white text-xl mb-4">Second Panel</h2>
 44:         <p className="text-gray-300">This is the second transition panel.</p>
 45:       </div>
 46:     </PageTransition>
 47:   </div>
 48: );
 49: // Page transition with a form
 50: export const WithForm = () => (
 51:   <PageTransition>
 52:     <div className="p-6 bg-slate-800 rounded-lg">
 53:       <h2 className="text-white text-xl mb-4">Contact Form</h2>
 54:       <form className="space-y-4">
 55:         <div>
 56:           <label htmlFor="storyFormName" className="block text-gray-300 mb-1">
 57:             Name
 58:           </label>
 59:           <input
 60:             id="storyFormName"
 61:             type="text"
 62:             className="w-full p-2 rounded bg-slate-700 text-white border border-slate-600"
 63:             placeholder="Your name"
 64:           />
 65:         </div>
 66:         <div>
 67:           <label htmlFor="storyFormEmail" className="block text-gray-300 mb-1">
 68:             Email
 69:           </label>
 70:           <input
 71:             id="storyFormEmail"
 72:             type="email"
 73:             className="w-full p-2 rounded bg-slate-700 text-white border border-slate-600"
 74:             placeholder="your.email@example.com"
 75:           />
 76:         </div>
 77:         <div>
 78:           <label
 79:             htmlFor="storyFormMessage"
 80:             className="block text-gray-300 mb-1"
 81:           >
 82:             Message
 83:           </label>
 84:           <textarea
 85:             id="storyFormMessage"
 86:             className="w-full p-2 rounded bg-slate-700 text-white border border-slate-600"
 87:             rows={4}
 88:             placeholder="Your message here..."
 89:           ></textarea>
 90:         </div>
 91:         <button
 92:           type="button"
 93:           className="px-4 py-2 bg-blue-600 text-white rounded"
 94:         >
 95:           Submit
 96:         </button>
 97:       </form>
 98:     </div>
 99:   </PageTransition>
100: );
````

## File: src/stories/components/Animations/RotatingLoader.stories.tsx
````typescript
1: import React from "react";
2: import { Meta, Story } from "@ladle/react";
3: import RotatingLoader from "@/components/Animations/RotatingLoader.component";
4: export default {
5:   title: "Animations/RotatingLoader",
6:   component: RotatingLoader,
7: } as Meta;
8: export const Default: Story = () => <RotatingLoader />;
````

## File: src/stories/components/CV/CVContent.stories.tsx
````typescript
  1: import React from "react";
  2: import { Meta } from "@ladle/react";
  3: import CVContent from "@/components/CV/CVContent.component";
  4: import { Cv } from "@/types/sanity.types";
  5: import "@/app/globals.css";
  6: export default {
  7:   title: "CV/CVContent",
  8:   component: CVContent,
  9: } as Meta;
 10: // Mock CV data that matches the Sanity Cv type
 11: const mockCvData: Cv = {
 12:   _id: "mock-cv-1",
 13:   _type: "cv" as const,
 14:   _createdAt: "2023-01-01T00:00:00Z",
 15:   _updatedAt: "2023-01-01T00:00:00Z",
 16:   _rev: "revision-1",
 17:   keyQualifications: [
 18:     "Frontend development with React/Next.js",
 19:     "TypeScript and JavaScript expertise",
 20:     "UI/UX design principles",
 21:     "Performance optimization",
 22:     "Accessibility implementation",
 23:   ],
 24:   experience: [
 25:     {
 26:       _key: "exp-1",
 27:       period: "2020 - Present",
 28:       company: "Tech Solutions Inc.",
 29:       role: "Senior Frontend Developer",
 30:       description:
 31:         "Leading development of modern web applications using React and Next.js.",
 32:     },
 33:     {
 34:       _key: "exp-2",
 35:       period: "2017 - 2020",
 36:       company: "Digital Innovations",
 37:       role: "Frontend Developer",
 38:       description:
 39:         "Developed responsive websites and web applications for various clients.",
 40:     },
 41:     {
 42:       _key: "exp-3",
 43:       period: "2015 - 2017",
 44:       company: "WebCraft",
 45:       role: "Junior Developer",
 46:       description:
 47:         "Assisted in the development and maintenance of company websites.",
 48:     },
 49:   ],
 50:   education: [
 51:     {
 52:       _key: "edu-1",
 53:       period: "2011 - 2015",
 54:       institution: "University of Technology",
 55:       degree: "Bachelor of Computer Science",
 56:       description: "Focused on web development and user interface design.",
 57:     },
 58:     {
 59:       _key: "edu-2",
 60:       period: "2009 - 2011",
 61:       institution: "Technical College",
 62:       degree: "Associate's Degree in Web Development",
 63:       description: "Core curriculum in HTML, CSS, and JavaScript.",
 64:     },
 65:   ],
 66:   volunteerWork: [
 67:     {
 68:       _key: "vol-1",
 69:       period: "2019 - Present",
 70:       organization: "Code for Community",
 71:       role: "Mentor",
 72:       description: "Teaching coding skills to underrepresented groups in tech.",
 73:     },
 74:     {
 75:       _key: "vol-2",
 76:       period: "2016 - 2018",
 77:       organization: "Tech Education Foundation",
 78:       role: "Workshop Facilitator",
 79:       description:
 80:         "Conducted workshops on web development basics for high school students.",
 81:     },
 82:   ],
 83: };
 84: // Basic CV content story
 85: export const Default = () => <CVContent cvData={mockCvData} />;
 86: // CV with long content
 87: const extensiveCvData: Cv = {
 88:   ...mockCvData,
 89:   _id: "mock-cv-extensive",
 90:   keyQualifications: [
 91:     ...(mockCvData.keyQualifications || []),
 92:     "Backend integration with Node.js",
 93:     "Database design and management",
 94:     "GraphQL API development",
 95:     "Docker containerization",
 96:     "CI/CD pipeline implementation",
 97:     "AWS cloud services",
 98:     "Agile methodology",
 99:     "Team leadership",
100:   ],
101:   experience: [
102:     ...(mockCvData.experience || []),
103:     {
104:       _key: "exp-4",
105:       period: "2013 - 2015",
106:       company: "StartupHub",
107:       role: "Intern",
108:       description:
109:         "Learned fundamentals of web development in a startup environment.",
110:     },
111:     {
112:       _key: "exp-5",
113:       period: "2011 - 2013",
114:       company: "Freelance",
115:       role: "Web Developer",
116:       description: "Created websites for small businesses and individuals.",
117:     },
118:   ],
119: };
120: export const ExtensiveCV = () => {
121:   return <CVContent cvData={extensiveCvData} />;
122: };
````

## File: src/stories/components/ErrorHandling/ErrorFallback.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import ErrorFallback from "@/components/ErrorBoundary/ErrorFallback.component";
 4: import "@/app/globals.css";
 5: export default {
 6:   title: "ErrorHandling/ErrorFallback",
 7:   component: ErrorFallback,
 8: } as Meta;
 9: // Create a mock error to pass to the component
10: const mockError = new Error("This is a test error message");
11: // Default full-screen error fallback
12: export const Default = () => (
13:   <div
14:     className="relative mx-auto my-8 p-4 bg-gray-800 rounded-lg shadow-xl"
15:     style={{ maxWidth: "800px", height: "600px", overflow: "hidden" }}
16:   >
17:     <ErrorFallback error={mockError} />
18:   </div>
19: );
20: // Compact error fallback for inline use
21: export const Compact = () => <ErrorFallback error={mockError} compact={true} />;
22: // Error with a long message
23: export const LongErrorMessage = () => (
24:   <div
25:     className="relative mx-auto my-8 p-4 bg-gray-800 rounded-lg shadow-xl"
26:     style={{ maxWidth: "800px", height: "600px", overflow: "hidden" }}
27:   >
28:     <ErrorFallback
29:       error={
30:         new Error(
31:           "This is a much longer error message that demonstrates how the component handles extensive text content. It might wrap to multiple lines and test the layout capabilities of the error display.",
32:         )
33:       }
34:     />
35:   </div>
36: );
37: // Compact error with a long message
38: export const CompactLongErrorMessage = () => (
39:   <ErrorFallback
40:     error={
41:       new Error(
42:         "This is a much longer error message that demonstrates how the component handles extensive text content. It might wrap to multiple lines and test the layout capabilities of the error display.",
43:       )
44:     }
45:     compact={true}
46:   />
47: );
48: // Error without a specific message
49: export const NoMessageError = () => (
50:   <div
51:     className="relative mx-auto my-8 p-4 bg-gray-800 rounded-lg shadow-xl"
52:     style={{ maxWidth: "800px", height: "600px", overflow: "hidden" }}
53:   >
54:     <ErrorFallback error={new Error()} />
55:   </div>
56: );
57: // Multiple compact errors side by side
58: export const MultipleCompactErrors = () => (
59:   <div className="grid grid-cols-2 gap-4">
60:     <ErrorFallback
61:       error={new Error("Database connection failed")}
62:       compact={true}
63:     />
64:     <ErrorFallback error={new Error("API request timeout")} compact={true} />
65:     <ErrorFallback error={new Error("Authentication error")} compact={true} />
66:     <ErrorFallback error={new Error("Permission denied")} compact={true} />
67:   </div>
68: );
````

## File: src/stories/components/Index/Hero.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import Hero from "@/components/Index/Hero.component";
 4: import type { Herocontent } from "@/types/sanity.types";
 5: import "@/app/globals.css";
 6: export default {
 7:   title: "Index/Hero",
 8:   component: Hero,
 9: } as Meta;
10: // Mock hero content data
11: const mockHeroContent: Herocontent[] = [
12:   {
13:     _type: "herocontent",
14:     text: "Hei!",
15:   },
16:   {
17:     _type: "herocontent",
18:     text: "Jeg er en frontend-utvikler med fokus på React og TypeScript",
19:   },
20:   {
21:     _type: "herocontent",
22:     text: "Velkommen til min portfolio-side der du kan se mine prosjekter og lære mer om min erfaring",
23:   },
24: ];
25: // Default hero component with mock content
26: export const Default = () => <Hero content={mockHeroContent} />;
27: // Hero with minimal content
28: export const MinimalContent = () => (
29:   <Hero
30:     content={[
31:       {
32:         _type: "herocontent",
33:         text: "Hello World",
34:       },
35:     ]}
36:   />
37: );
38: // Hero with longer content
39: export const LongContent = () => (
40:   <Hero
41:     content={[
42:       {
43:         _type: "herocontent",
44:         text: "Frontend Developer",
45:       },
46:       {
47:         _type: "herocontent",
48:         text: "Specialized in creating modern, responsive web applications with React, Next.js, and TypeScript",
49:       },
50:       {
51:         _type: "herocontent",
52:         text: "With over 5 years of experience in web development, I focus on building accessible, performant, and visually appealing user interfaces that provide excellent user experiences across all devices and platforms.",
53:       },
54:     ]}
55:   />
56: );
57: // Hero with no content (fallbacks should kick in)
58: export const NoContent = () => <Hero content={[]} />;
59: // Add a wrapper div to constrain the hero size for the story
60: const StoryContainer = ({ children }: { children: React.ReactNode }) => (
61:   <div className="max-w-screen-xl mx-auto">{children}</div>
62: );
63: // Hero in a container to demonstrate responsiveness
64: export const InContainer = () => (
65:   <StoryContainer>
66:     <Hero content={mockHeroContent} />
67:   </StoryContainer>
68: );
````

## File: src/stories/components/Index/Icons.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import Icons from "@/components/Index/Icons.component";
 4: import "@/app/globals.css";
 5: export default {
 6:   title: "Index/Icons",
 7:   component: Icons,
 8: } as Meta;
 9: // Default icons component
10: export const Default = () => <Icons />;
11: // Icons on a dark background
12: export const OnDarkBackground = () => (
13:   <div className="bg-gray-900 p-8 rounded-lg">
14:     <Icons />
15:   </div>
16: );
17: // Icons on a light background
18: export const OnLightBackground = () => (
19:   <div className="bg-gray-100 p-8 rounded-lg">
20:     <Icons />
21:   </div>
22: );
23: // Icons in a narrow container to test responsiveness
24: export const NarrowContainer = () => (
25:   <div className="max-w-xs mx-auto bg-gray-800 p-4 rounded-lg">
26:     <Icons />
27:   </div>
28: );
29: // Icons with matrix-like background
30: export const WithMatrixBackground = () => (
31:   <div
32:     className="p-8 rounded-lg relative overflow-hidden"
33:     style={{
34:       background:
35:         "linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://raw.githubusercontent.com/kbrsh/moon/gh-pages/img/bg-1.png')",
36:     }}
37:   >
38:     <Icons />
39:   </div>
40: );
41: // Icons in grid layout
42: export const InGridLayout = () => (
43:   <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
44:     <div className="bg-gray-900 p-4 rounded-lg">
45:       <h3 className="text-white text-center mb-4">React & TypeScript</h3>
46:       <Icons />
47:     </div>
48:     <div className="bg-gray-800 p-4 rounded-lg">
49:       <h3 className="text-white text-center mb-4">Skills & Tools</h3>
50:       <Icons />
51:     </div>
52:   </div>
53: );
````

## File: src/stories/components/Index/IndexContent.stories.tsx
````typescript
  1: import React from "react";
  2: import { Meta } from "@ladle/react";
  3: import IndexContent from "@/components/Index/IndexContent.component";
  4: import type { Pagecontent } from "@/types/sanity.types";
  5: import "@/app/globals.css";
  6: interface PageContentWithKey extends Pagecontent {
  7:   _key: string;
  8: }
  9: export default {
 10:   title: "Index/IndexContent",
 11:   component: IndexContent,
 12: } as Meta;
 13: const mockPageContentSingle: PageContentWithKey[] = [
 14:   {
 15:     _key: "1",
 16:     _type: "pagecontent",
 17:     id: 1,
 18:     title: "Velkommen til min portefølje",
 19:     text: [
 20:       {
 21:         _key: "block1",
 22:         _type: "block",
 23:         style: "normal",
 24:         children: [
 25:           {
 26:             _key: "span1",
 27:             _type: "span",
 28:             text: "Dette er en introduksjon til porteføljen. Her finner du informasjon om mine prosjekter, ferdigheter og erfaringer. ",
 29:           },
 30:           {
 31:             _key: "span2",
 32:             _type: "span",
 33:             text: "Utforsk gjerne sidene for å lære mer om meg.",
 34:             marks: ["strong"],
 35:           },
 36:         ],
 37:       },
 38:       {
 39:         _key: "block2",
 40:         _type: "block",
 41:         style: "normal",
 42:         children: [
 43:           {
 44:             _key: "span1",
 45:             _type: "span",
 46:             text: "Jeg har jobbet med en rekke teknologier, inkludert React, Next.js, TypeScript, og Sanity.",
 47:           },
 48:         ],
 49:       },
 50:     ],
 51:   },
 52: ];
 53: const mockPageContentMultiple: PageContentWithKey[] = [
 54:   {
 55:     _key: "1",
 56:     _type: "pagecontent",
 57:     id: 1,
 58:     title: "Om Meg",
 59:     text: [
 60:       {
 61:         _key: "block1",
 62:         _type: "block",
 63:         style: "normal",
 64:         children: [
 65:           {
 66:             _key: "span1",
 67:             _type: "span",
 68:             text: "Jeg er en engasjert frontend-utvikler med lidenskap for å skape intuitive og brukervennlige nettopplevelser. Med solid erfaring innen moderne webteknologier, trives jeg med å løse komplekse problemer og levere kode av høy kvalitet.",
 69:           },
 70:         ],
 71:       },
 72:     ],
 73:   },
 74:   {
 75:     _key: "2",
 76:     _type: "pagecontent",
 77:     id: 2,
 78:     title: "Mine Ferdigheter",
 79:     text: [
 80:       {
 81:         _key: "block1",
 82:         _type: "block",
 83:         style: "h3",
 84:         children: [{ _key: "span1", _type: "span", text: "Frontend" }],
 85:       },
 86:       {
 87:         _key: "block2",
 88:         _type: "block",
 89:         listItem: "bullet",
 90:         level: 1,
 91:         children: [
 92:           {
 93:             _key: "span1",
 94:             _type: "span",
 95:             text: "React, Next.js, TypeScript, JavaScript (ES6+)",
 96:           },
 97:         ],
 98:       },
 99:       {
100:         _key: "block3",
101:         _type: "block",
102:         listItem: "bullet",
103:         level: 1,
104:         children: [
105:           {
106:             _key: "span1",
107:             _type: "span",
108:             text: "HTML5, CSS3, Tailwind CSS, Styled Components",
109:           },
110:         ],
111:       },
112:       {
113:         _key: "block4",
114:         _type: "block",
115:         style: "h3",
116:         children: [{ _key: "span1", _type: "span", text: "Backend & CMS" }],
117:       },
118:       {
119:         _key: "block5",
120:         _type: "block",
121:         listItem: "bullet",
122:         level: 1,
123:         children: [
124:           {
125:             _key: "span1",
126:             _type: "span",
127:             text: "Sanity.io, Node.js (grunnleggende)",
128:           },
129:         ],
130:       },
131:     ],
132:   },
133:   {
134:     _key: "3",
135:     _type: "pagecontent",
136:     id: 3,
137:     title: "Prosjekterfaring",
138:     text: [
139:       {
140:         _key: "block1",
141:         _type: "block",
142:         style: "normal",
143:         children: [
144:           {
145:             _key: "span1",
146:             _type: "span",
147:             text: "Jeg har jobbet på diverse prosjekter, fra små nettsider til større applikasjoner. Se 'Prosjekter'-siden for detaljer.",
148:           },
149:         ],
150:       },
151:     ],
152:   },
153: ];
154: const mockPageContentMany: PageContentWithKey[] = [
155:   ...mockPageContentMultiple,
156:   {
157:     _key: "4",
158:     _type: "pagecontent",
159:     id: 4,
160:     title: "Interesser",
161:     text: [
162:       {
163:         _key: "block1",
164:         _type: "block",
165:         style: "normal",
166:         children: [
167:           {
168:             _key: "span1",
169:             _type: "span",
170:             text: "Utenom koding liker jeg å holde meg oppdatert på nye teknologier, bidra til open source-prosjekter, og gå turer i naturen.",
171:           },
172:         ],
173:       },
174:     ],
175:   },
176:   {
177:     _key: "5",
178:     _type: "pagecontent",
179:     id: 5,
180:     title: "Kontaktinformasjon",
181:     text: [
182:       {
183:         _key: "block1",
184:         _type: "block",
185:         style: "normal",
186:         children: [
187:           {
188:             _key: "span1",
189:             _type: "span",
190:             text: "Ta gjerne kontakt via kontaktskjemaet eller finn meg på LinkedIn.",
191:           },
192:         ],
193:       },
194:     ],
195:   },
196: ];
197: export const Default = () => (
198:   <div className="bg-gray-900">
199:     <IndexContent pageContent={mockPageContentMultiple} />
200:   </div>
201: );
202: export const SingleSection = () => (
203:   <div className="bg-gray-900">
204:     <IndexContent pageContent={mockPageContentSingle} />
205:   </div>
206: );
207: export const ManySections = () => (
208:   <div className="bg-gray-900">
209:     <IndexContent pageContent={mockPageContentMany} />
210:   </div>
211: );
212: export const AlternatingVariants = () => (
213:   <div className="bg-gray-900">
214:     <IndexContent pageContent={mockPageContentMany} />
215:     <div className="p-4 mt-8 bg-slate-700 text-white text-center">
216:       <p>Observer hvordan bakgrunnsfargen på seksjonene alternerer.</p>
217:     </div>
218:   </div>
219: );
````

## File: src/stories/components/Index/MobileBackground.stories.tsx
````typescript
  1: import React from "react";
  2: import { Meta } from "@ladle/react";
  3: import MobileBackground from "@/components/Index/MobileBackground.component";
  4: import "@/app/globals.css";
  5: export default {
  6:   title: "Index/MobileBackground",
  7:   component: MobileBackground,
  8:   parameters: {
  9:     docs: {
 10:       description: {
 11:         component:
 12:           "Mobile background component that is only visible on mobile screens (md:hidden). In desktop view, this component will not be displayed.",
 13:       },
 14:     },
 15:   },
 16: } as Meta;
 17: // Default mobile background (note: only visible on mobile screens)
 18: export const Default = () => (
 19:   <div className="relative h-[32rem] overflow-hidden w-full bg-gray-800 p-4">
 20:     <p className="text-white text-center mb-4">
 21:       Note: This component has md:hidden class so it&apos;s not visible on
 22:       desktop/Ladle. Use the &quot;Visible&quot; story below to see how it
 23:       looks.
 24:     </p>
 25:     <MobileBackground />
 26:     <div className="relative z-10 flex items-center justify-center h-full">
 27:       <p className="text-white p-2 border border-white">Component location</p>
 28:     </div>
 29:   </div>
 30: );
 31: // Modified version with the md:hidden class removed to make it visible in Ladle
 32: export const Visible = () => (
 33:   <div className="relative h-[32rem] overflow-hidden w-full">
 34:     <div
 35:       className="absolute inset-0 bg-cover bg-center bg-no-repeat pb-4"
 36:       style={{
 37:         backgroundImage: "url('/images/mobilbg.webp')",
 38:         top: "-0.5rem",
 39:         marginBottom: "0.5rem",
 40:       }}
 41:     />
 42:     <div className="relative z-10 flex flex-col items-center justify-center h-full p-4">
 43:       <div className="bg-black/50 p-4 rounded-lg max-w-md">
 44:         <h1 className="text-white text-2xl font-bold text-center mb-2">
 45:           Mobile Background
 46:         </h1>
 47:         <p className="text-white text-md text-center">
 48:           This is how the component looks on mobile screens, with the md:hidden
 49:           class removed so it&apos;s visible in Ladle.
 50:         </p>
 51:       </div>
 52:     </div>
 53:   </div>
 54: );
 55: // With content overlay
 56: export const WithContent = () => (
 57:   <div className="relative h-[32rem] overflow-hidden w-full">
 58:     <div
 59:       className="absolute inset-0 bg-cover bg-center bg-no-repeat pb-4"
 60:       style={{
 61:         backgroundImage: "url('/images/mobilbg.webp')",
 62:         top: "-0.5rem",
 63:         marginBottom: "0.5rem",
 64:       }}
 65:     />
 66:     <div className="relative z-10 flex flex-col items-center justify-center h-full p-4">
 67:       <div className="bg-black/50 p-6 rounded-lg max-w-md text-center">
 68:         <h1 className="text-white text-4xl font-bold mb-4">Welcome</h1>
 69:         <p className="text-white text-xl">
 70:           This content is displayed over the mobile background. The background
 71:           is only visible on mobile devices.
 72:         </p>
 73:         <button className="mt-6 bg-white text-black px-4 py-2 rounded">
 74:           Get Started
 75:         </button>
 76:       </div>
 77:     </div>
 78:   </div>
 79: );
 80: // Dark vs light content comparison
 81: export const ContentComparison = () => (
 82:   <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
 83:     <div className="p-2 border border-gray-500 rounded">
 84:       <h2 className="text-center mb-2">Dark Overlay</h2>
 85:       <div className="relative h-[16rem] overflow-hidden w-full">
 86:         <div
 87:           className="absolute inset-0 bg-cover bg-center bg-no-repeat"
 88:           style={{
 89:             backgroundImage: "url('/images/mobilbg.webp')",
 90:             top: "-0.5rem",
 91:             marginBottom: "0.5rem",
 92:           }}
 93:         />
 94:         <div className="relative z-10 flex flex-col items-center justify-center h-full">
 95:           <div className="bg-black/70 p-4 rounded-lg">
 96:             <p className="text-white text-center">
 97:               Dark overlay for better contrast
 98:             </p>
 99:           </div>
100:         </div>
101:       </div>
102:     </div>
103:     <div className="p-2 border border-gray-500 rounded">
104:       <h2 className="text-center mb-2">Light Text</h2>
105:       <div className="relative h-[16rem] overflow-hidden w-full">
106:         <div
107:           className="absolute inset-0 bg-cover bg-center bg-no-repeat"
108:           style={{
109:             backgroundImage: "url('/images/mobilbg.webp')",
110:             top: "-0.5rem",
111:             marginBottom: "0.5rem",
112:           }}
113:         />
114:         <div className="relative z-10 flex flex-col items-center justify-center h-full">
115:           <p className="text-white text-center font-bold text-xl drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)]">
116:             Text with drop shadow
117:           </p>
118:         </div>
119:       </div>
120:     </div>
121:   </div>
122: );
````

## File: src/stories/components/Index/Section.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import Section from "@/components/Index/Section.component";
 4: // This is Ladle, not Jest, so mocking with __mocks__ is OK
 5: // eslint-disable-next-line jest/no-mocks-import
 6: import pagecontent from "@/__mocks__/pagecontent.json";
 7: import type { Pagecontent } from "@/types/sanity.types";
 8: import "@/app/globals.css";
 9: export default {
10:   title: "Index/Section",
11:   component: Section,
12: } as Meta;
13: const mockPortableText = pagecontent[0].content[0].text as Pagecontent["text"];
14: const longContent = pagecontent[0].content[1].text as Pagecontent["text"];
15: // Default section
16: export const Default = () => (
17:   <Section _type="pagecontent" title="About Me" text={mockPortableText} />
18: );
19: // Section with alternate styling
20: export const Alternate = () => (
21:   <div className="bg-[#121c30] p-4">
22:     <Section
23:       _type="pagecontent"
24:       title="My Projects"
25:       text={mockPortableText}
26:       variant="alternate"
27:     />
28:   </div>
29: );
30: // Section with longer content
31: export const LongContent = () => (
32:   <Section _type="pagecontent" title="Skills & Experience" text={longContent} />
33: );
34: // Multiple sections together
35: export const MultipleSections = () => (
36:   <div>
37:     <Section _type="pagecontent" title="About Me" text={mockPortableText} />
38:     <div className="bg-[#121c30]">
39:       <Section
40:         _type="pagecontent"
41:         title="My Skills"
42:         text={longContent}
43:         variant="alternate"
44:       />
45:     </div>
46:     <Section _type="pagecontent" title="Contact" text={mockPortableText} />
47:   </div>
48: );
49: // Section in a narrower container
50: export const NarrowContainer = () => (
51:   <div className="max-w-xl mx-auto border border-gray-700">
52:     <Section
53:       _type="pagecontent"
54:       title="Narrow Section"
55:       text={mockPortableText}
56:     />
57:   </div>
58: );
59: // Section with debug button hidden
60: export const DebugButtonHidden = () => (
61:   <Section
62:     _type="pagecontent"
63:     title="No Debug Button"
64:     text={mockPortableText}
65:     showDebugButton={false}
66:   />
67: );
68: // Section with debug button explicitly shown (default behavior)
69: export const DebugButtonVisible = () => (
70:   <Section
71:     _type="pagecontent"
72:     title="Debug Button Visible"
73:     text={mockPortableText}
74:     showDebugButton={true}
75:   />
76: );
````

## File: src/stories/components/Kontakt/ContactForm.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import ContactFormWithMocks from "./ContactFormWithMocks";
 4: import "@/app/globals.css";
 5: export default {
 6:   title: "Kontakt/ContactForm",
 7:   component: ContactFormWithMocks,
 8: } as Meta;
 9: // Default form view
10: export const Default = () => <ContactFormWithMocks />;
11: // Success response view
12: export const SuccessResponse = () => (
13:   <div className="bg-slate-800 min-h-screen py-16">
14:     <ContactFormWithMocks initialResponse="Takk for din beskjed" />
15:   </div>
16: );
17: // Error response view
18: export const ErrorResponse = () => (
19:   <div className="bg-slate-800 min-h-screen py-16">
20:     <ContactFormWithMocks initialResponse="Feil under sending av skjema" />
21:   </div>
22: );
23: // Simulated success on form submission
24: export const SubmissionSuccess = () => (
25:   <div className="bg-slate-800 min-h-screen py-16">
26:     <ContactFormWithMocks simulateError={false} />
27:     <div className="mt-8 text-center text-gray-400">
28:       <p>(Note: Fill in the form and submit to see a success message)</p>
29:     </div>
30:   </div>
31: );
32: // Simulated error on form submission
33: export const SubmissionError = () => (
34:   <div className="bg-slate-800 min-h-screen py-16">
35:     <ContactFormWithMocks simulateError={true} />
36:     <div className="mt-8 text-center text-gray-400">
37:       <p>(Note: Fill in the form and submit to see an error message)</p>
38:     </div>
39:   </div>
40: );
41: // Form in narrow container
42: export const NarrowContainer = () => (
43:   <div className="bg-slate-800 min-h-screen py-16">
44:     <div className="max-w-md mx-auto">
45:       <ContactFormWithMocks />
46:     </div>
47:   </div>
48: );
````

## File: src/stories/components/Kontakt/ContactFormWithMocks.tsx
````typescript
 1: import React from "react";
 2: import ContactForm from "@/components/Kontakt/ContactForm.component";
 3: import { FormData } from "@/components/Kontakt/config/formConfig";
 4: /**
 5:  * Props for the ContactFormWithMocks story.
 6:  */
 7: type StoryProps = {
 8:   simulateError?: boolean;
 9:   initialResponse?: string;
10: };
11: /**
12:  * A special version of ContactForm for stories.
13:  * This renders the actual ContactForm component but provides a mock
14:  * onSubmit handler to prevent real email submissions and simulate responses.
15:  */
16: const ContactFormWithMocks: React.FC<StoryProps> = ({
17:   simulateError = false,
18:   initialResponse = "",
19: }) => {
20:   /**
21:    * Simulated form submission that doesn't make any actual API calls.
22:    * It returns a promise that resolves to a message string, which ContactForm will use.
23:    */
24:   const mockOnSubmit = async (data: FormData): Promise<string> => {
25:     console.warn("Story mock: Form submitted with data:", data);
26:     // Simulate API call delay
27:     await new Promise((resolve) => setTimeout(resolve, 500));
28:     if (simulateError) {
29:       return "Feil under sending av skjema"; // Story mock: Simulate error
30:     } else {
31:       return "Takk for din beskjed"; // Story mock: Simulate success
32:     }
33:   };
34:   return (
35:     <ContactForm onSubmit={mockOnSubmit} initialResponse={initialResponse} />
36:   );
37: };
38: export default ContactFormWithMocks;
````

## File: src/stories/components/Layout/Footer.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import Footer from "@/components/Layout/Footer.component";
 4: import "@/app/globals.css";
 5: export default {
 6:   title: "Layout/Footer",
 7:   component: Footer,
 8: } as Meta;
 9: // Default footer
10: export const Default = () => <Footer />;
11: // With content above
12: export const WithContent = () => (
13:   <>
14:     <div className="min-h-[200px] flex items-center justify-center bg-slate-700">
15:       <p>Page content</p>
16:     </div>
17:     <Footer />
18:   </>
19: );
20: // Narrow viewport
21: export const NarrowViewport = () => (
22:   <div style={{ width: "320px" }}>
23:     <Footer />
24:   </div>
25: );
26: // Wide viewport
27: export const WideViewport = () => <Footer />;
28: // With margin top showcase
29: export const WithMarginTop = () => (
30:   <>
31:     <div className="min-h-[100px] flex items-center justify-center bg-slate-700">
32:       <p>Content area</p>
33:     </div>
34:     <Footer />
35:   </>
36: );
````

## File: src/stories/components/Layout/Hamburger.stories.tsx
````typescript
 1: import React, { useState } from "react";
 2: import { Meta } from "@ladle/react";
 3: import Hamburger from "@/components/Layout/Hamburger.component";
 4: export default {
 5:   title: "Layout/Hamburger",
 6:   component: Hamburger,
 7: } as Meta;
 8: // Default hamburger state
 9: export const Default = () => (
10:   <div className="bg-gray-800 p-4">
11:     <Hamburger onClick={() => {}} animatetoX={false} />
12:   </div>
13: );
14: // X state
15: export const XState = () => (
16:   <div className="bg-gray-800 p-4">
17:     <Hamburger onClick={() => {}} animatetoX={true} />
18:   </div>
19: );
20: // Interactive state
21: export const Interactive = () => {
22:   const [isOpen, setIsOpen] = useState(false);
23:   return (
24:     <div className="bg-gray-800 p-4">
25:       <Hamburger onClick={() => setIsOpen(!isOpen)} animatetoX={isOpen} />
26:       <p className="text-white text-sm mt-4">
27:         Click the hamburger to toggle state
28:       </p>
29:     </div>
30:   );
31: };
32: // On dark background
33: export const OnDarkBackground = () => {
34:   const [isOpen, setIsOpen] = useState(false);
35:   return (
36:     <div className="bg-gray-900 p-4">
37:       <Hamburger onClick={() => setIsOpen(!isOpen)} animatetoX={isOpen} />
38:     </div>
39:   );
40: };
41: // On light background
42: export const OnLightBackground = () => {
43:   const [isOpen, setIsOpen] = useState(false);
44:   return (
45:     <div className="bg-gray-100 p-4">
46:       <div className="bg-gray-800 inline-block rounded-sm">
47:         <Hamburger onClick={() => setIsOpen(!isOpen)} animatetoX={isOpen} />
48:       </div>
49:     </div>
50:   );
51: };
````

## File: src/stories/components/Layout/MobileMenu.stories.tsx
````typescript
  1: import React from "react";
  2: import { Meta } from "@ladle/react";
  3: import MobileMenu from "@/components/Layout/MobileMenu.component";
  4: import "@/app/globals.css";
  5: export default {
  6:   title: "Layout/MobileMenu",
  7:   component: MobileMenu,
  8:   meta: {
  9:     width: "xsmall",
 10:   },
 11: } as Meta;
 12: // Sample navigation links
 13: const mockLinks = [
 14:   {
 15:     _key: "link1",
 16:     title: "Home",
 17:     name: "Home",
 18:     href: "/",
 19:   },
 20:   {
 21:     _key: "link2",
 22:     title: "Projects",
 23:     name: "Projects",
 24:     href: "/prosjekter",
 25:   },
 26:   {
 27:     _key: "link3",
 28:     title: "CV",
 29:     name: "CV",
 30:     href: "/cv",
 31:   },
 32:   {
 33:     _key: "link4",
 34:     title: "Contact",
 35:     name: "Contact",
 36:     href: "/kontakt",
 37:   },
 38: ];
 39: // Default mobile menu
 40: export const Default = () => (
 41:   <div className="bg-slate-800 min-h-screen p-4">
 42:     <div className="relative flex justify-end">
 43:       <MobileMenu links={mockLinks} />
 44:     </div>
 45:     <div className="mt-32 text-gray-400 text-center">
 46:       <p>
 47:         Click on the hamburger menu icon in the top-right corner to open the
 48:         mobile menu
 49:       </p>
 50:     </div>
 51:   </div>
 52: );
 53: // Mobile menu with external link
 54: export const WithExternalLink = () => {
 55:   const linksWithExternal = [
 56:     ...mockLinks,
 57:     {
 58:       _key: "link5",
 59:       title: "GitHub",
 60:       name: "GitHub",
 61:       href: "https://github.com",
 62:       externalLink: true,
 63:     },
 64:   ];
 65:   return (
 66:     <div className="bg-slate-800 min-h-screen p-4">
 67:       <div className="relative flex justify-end">
 68:         <MobileMenu links={linksWithExternal} />
 69:       </div>
 70:       <div className="mt-32 text-gray-400 text-center">
 71:         <p>
 72:           Click on the hamburger menu icon to see a menu with an external link
 73:           to GitHub
 74:         </p>
 75:       </div>
 76:     </div>
 77:   );
 78: };
 79: const manyLinksData = [
 80:   ...mockLinks,
 81:   {
 82:     _key: "link5",
 83:     title: "About",
 84:     name: "About",
 85:     href: "/about",
 86:   },
 87:   {
 88:     _key: "link6",
 89:     title: "Blog",
 90:     name: "Blog",
 91:     href: "/blog",
 92:   },
 93:   {
 94:     _key: "link7",
 95:     title: "Resources",
 96:     name: "Resources",
 97:     href: "/resources",
 98:   },
 99:   {
100:     _key: "link8",
101:     title: "Gallery",
102:     name: "Gallery",
103:     href: "/gallery",
104:   },
105: ];
106: // Mobile menu with many links
107: export const ManyLinks = () => {
108:   return (
109:     <div className="bg-slate-800 min-h-screen p-4">
110:       <div className="relative flex justify-end">
111:         <MobileMenu links={manyLinksData} />
112:       </div>
113:       <div className="mt-32 text-gray-400 text-center">
114:         <p>Click on the hamburger menu icon to see a menu with many links</p>
115:       </div>
116:     </div>
117:   );
118: };
119: // Mobile menu with single link
120: export const SingleLink = () => (
121:   <div className="bg-slate-800 min-h-screen p-4">
122:     <div className="relative flex justify-end">
123:       <MobileMenu links={mockLinks.slice(0, 1)} />
124:     </div>
125:     <div className="mt-32 text-gray-400 text-center">
126:       <p>Click on the hamburger menu icon to see a menu with a single link</p>
127:     </div>
128:   </div>
129: );
````

## File: src/stories/components/Layout/NavigationLink.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import "@/app/glitch.css";
 4: // Mock NavigationLink component for stories
 5: const NavigationLink = ({
 6:   name,
 7:   href,
 8:   isActive,
 9: }: {
10:   name: string;
11:   href: string;
12:   isActive: boolean;
13: }) => (
14:   <div className="relative">
15:     <a
16:       href={href}
17:       onClick={(e) => e.preventDefault()}
18:       className={`flex w-full items-center justify-center px-2 py-2 hover:text-white transition font-semibold text-lg ${
19:         isActive ? "text-green-400" : ""
20:       }`}
21:     >
22:       <div className="glitch relative" data-text={name}>
23:         {name}
24:         <span
25:           className={`absolute bottom-0 left-0 h-0.5 bg-current ${
26:             isActive ? "bg-green-400" : "bg-white"
27:           }`}
28:           style={{
29:             width: isActive ? "100%" : "0%",
30:             transition: "width 0.3s",
31:           }}
32:         />
33:       </div>
34:     </a>
35:   </div>
36: );
37: export default {
38:   title: "Layout/NavigationLink",
39:   component: NavigationLink,
40: } as Meta;
41: // Default state
42: export const Default = () => (
43:   <div className="bg-gray-800 p-4 w-48">
44:     <NavigationLink name="Home" href="/" isActive={false} />
45:   </div>
46: );
47: // Active state
48: export const Active = () => (
49:   <div className="bg-gray-800 p-4 w-48">
50:     <NavigationLink name="Home" href="/" isActive={true} />
51:   </div>
52: );
53: // Multiple links
54: export const MultipleLinks = () => (
55:   <div className="bg-gray-800 p-4 w-48 flex flex-col gap-2">
56:     <NavigationLink name="Home" href="/" isActive={true} />
57:     <NavigationLink name="Projects" href="/projects" isActive={false} />
58:     <NavigationLink name="Contact" href="/contact" isActive={false} />
59:   </div>
60: );
61: // Long text
62: export const LongText = () => (
63:   <div className="bg-gray-800 p-4 w-64">
64:     <NavigationLink
65:       name="Very Long Navigation Link Text"
66:       href="/long"
67:       isActive={false}
68:     />
69:   </div>
70: );
71: // Different backgrounds
72: export const OnDifferentBackgrounds = () => (
73:   <div className="space-y-4">
74:     <div className="bg-gray-900 p-4 w-48">
75:       <NavigationLink name="Dark Background" href="/" isActive={false} />
76:     </div>
77:     <div className="bg-gray-800 p-4 w-48">
78:       <NavigationLink name="Medium Background" href="/" isActive={true} />
79:     </div>
80:     <div className="bg-gray-700 p-4 w-48">
81:       <NavigationLink name="Light Background" href="/" isActive={false} />
82:     </div>
83:   </div>
84: );
85: // Horizontal layout
86: export const HorizontalLayout = () => (
87:   <div className="bg-gray-800 p-4">
88:     <nav className="flex gap-4">
89:       <NavigationLink name="Home" href="/" isActive={true} />
90:       <NavigationLink name="Projects" href="/projects" isActive={false} />
91:       <NavigationLink name="Contact" href="/contact" isActive={false} />
92:     </nav>
93:   </div>
94: );
````

## File: src/stories/components/Prosjekter/ProsjektCard.stories.tsx
````typescript
  1: import React from "react";
  2: import { Meta } from "@ladle/react";
  3: import ProsjektCard from "@/components/Prosjekter/ProsjektCard.component";
  4: import type { Project } from "@/types/sanity.types";
  5: import "@/app/globals.css";
  6: export default {
  7:   title: "Prosjekter/ProsjektCard",
  8:   component: ProsjektCard,
  9: } as Meta;
 10: // Mock project factory with sensible defaults
 11: const project = (props = {}): Project => ({
 12:   _id: "mock-project",
 13:   _type: "project",
 14:   _createdAt: "2023-01-01T00:00:00Z",
 15:   _updatedAt: "2023-01-01T00:00:00Z",
 16:   _rev: "rev1",
 17:   name: "Sample Project",
 18:   description: "This is a sample project description",
 19:   subdescription: "Built with React, TypeScript, and Next.js",
 20:   projectimage: {
 21:     _type: "image",
 22:     asset: {
 23:       _ref: "image-1fbc6a91ed51fa9870504faf332f16823953d716-1207x614-png",
 24:       _type: "reference",
 25:     },
 26:   },
 27:   urlwww: [
 28:     {
 29:       _key: "link1",
 30:       _type: "link",
 31:       url: "https://example.com",
 32:     },
 33:   ],
 34:   urlgithub: [
 35:     {
 36:       _key: "github1",
 37:       _type: "link",
 38:       url: "https://github.com/example/repo",
 39:     },
 40:   ],
 41:   ...props,
 42: });
 43: // Story variants
 44: export const Default = () => (
 45:   <div className="max-w-lg mx-auto p-4">
 46:     <ProsjektCard {...project()} />
 47:   </div>
 48: );
 49: export const Featured = () => (
 50:   <div className="max-w-lg mx-auto p-4">
 51:     <ProsjektCard
 52:       {...project({
 53:         featured: true,
 54:         name: "Featured Project",
 55:         description: "Project with instant animation",
 56:       })}
 57:     />
 58:   </div>
 59: );
 60: export const WebsiteOnly = () => (
 61:   <div className="max-w-lg mx-auto p-4">
 62:     <ProsjektCard
 63:       {...project({
 64:         urlgithub: undefined,
 65:         name: "Website Only",
 66:       })}
 67:     />
 68:   </div>
 69: );
 70: export const GitHubOnly = () => (
 71:   <div className="max-w-lg mx-auto p-4">
 72:     <ProsjektCard
 73:       {...project({
 74:         urlwww: undefined,
 75:         name: "GitHub Only",
 76:       })}
 77:     />
 78:   </div>
 79: );
 80: export const NoLinks = () => (
 81:   <div className="max-w-lg mx-auto p-4">
 82:     <ProsjektCard
 83:       {...project({
 84:         urlwww: undefined,
 85:         urlgithub: undefined,
 86:         name: "No Links Project",
 87:       })}
 88:     />
 89:   </div>
 90: );
 91: export const Grid = () => (
 92:   <div className="grid grid-cols-1 md:grid-cols-3 gap-6 p-4">
 93:     <div className="max-w-lg mx-auto">
 94:       <ProsjektCard {...project()} />
 95:     </div>
 96:     <div className="max-w-lg mx-auto">
 97:       <ProsjektCard
 98:         {...project({
 99:           featured: true,
100:           name: "Featured Project",
101:           description: "Mobile app for iOS and Android",
102:         })}
103:       />
104:     </div>
105:     <div className="max-w-lg mx-auto">
106:       <ProsjektCard
107:         {...project({
108:           name: "Backend API",
109:           description: "Node.js & MongoDB service",
110:           urlwww: undefined,
111:         })}
112:       />
113:     </div>
114:   </div>
115: );
````

## File: src/stories/components/UI/Button.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import Button from "@/components/UI/Button.component";
 4: import "@/app/globals.css";
 5: export default {
 6:   title: "UI/Button",
 7:   component: Button,
 8: } as Meta;
 9: // Default button
10: export const Default = () => <Button>Default Button</Button>;
11: // Link button
12: export const LinkButton = () => (
13:   <Button href="https://example.com" renderAs="a">
14:     Link Button
15:   </Button>
16: );
17: // Submit button
18: export const SubmitButton = () => <Button type="submit">Submit Button</Button>;
19: // Reset button
20: export const ResetButton = () => <Button type="reset">Reset Button</Button>;
21: // Disabled button
22: export const DisabledButton = () => <Button disabled>Disabled Button</Button>;
23: // Custom element button
24: export const CustomElementButton = () => (
25:   <Button renderAs="div">Custom Element Button</Button>
26: );
27: // Button group
28: export const ButtonGroup = () => (
29:   <div className="flex flex-col items-start gap-4">
30:     <Button>Small Button</Button>
31:     <Button>Regular Button</Button>
32:     <Button>Large Button</Button>
33:   </div>
34: );
35: // Button with icon
36: export const ButtonWithIcon = () => (
37:   <Button>
38:     <span className="flex items-center gap-2">
39:       <svg
40:         xmlns="http://www.w3.org/2000/svg"
41:         width="16"
42:         height="16"
43:         fill="currentColor"
44:         viewBox="0 0 16 16"
45:       >
46:         <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z" />
47:       </svg>
48:       Button with Icon
49:     </span>
50:   </Button>
51: );
````

## File: src/stories/components/UI/InputField.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import InputField from "@/components/UI/InputField.component";
 4: import { useForm } from "react-hook-form";
 5: import "@/app/globals.css";
 6: export default {
 7:   title: "UI/InputField",
 8:   component: InputField,
 9:   parameters: {
10:     layout: "centered",
11:   },
12: } as Meta;
13: // Create a story wrapper to provide the react-hook-form context
14: const InputFieldStory = ({
15:   name = "exampleField",
16:   label = "Label",
17:   type = "input" as "input" | "textarea",
18:   isRequired = false,
19:   error = undefined as string | undefined,
20:   inputPattern = undefined as RegExp | undefined,
21: }) => {
22:   const { register } = useForm();
23:   return (
24:     <div className="p-6 bg-gray-900 min-w-[350px]">
25:       <InputField
26:         name={name}
27:         label={label}
28:         htmlFor={`field-${name}`}
29:         type={type}
30:         isRequired={isRequired}
31:         register={register}
32:         error={error}
33:         inputPattern={inputPattern}
34:       />
35:     </div>
36:   );
37: };
38: // Default text input
39: export const DefaultInput = () => (
40:   <InputFieldStory label="Your Name" name="name" />
41: );
42: // With error message
43: export const WithError = () => (
44:   <InputFieldStory
45:     label="Username"
46:     name="username"
47:     error="Username is already taken"
48:   />
49: );
50: // Textarea input
51: export const TextareaInput = () => (
52:   <InputFieldStory label="Your Message" name="message" type="textarea" />
53: );
````

## File: src/stories/components/UI/PageHeader.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import PageHeader from "@/components/UI/PageHeader.component";
 4: import "@/app/globals.css";
 5: export default {
 6:   title: "UI/PageHeader",
 7:   component: PageHeader,
 8: } as Meta;
 9: // Default page header with text
10: export const Default = () => <PageHeader>Page Title</PageHeader>;
11: // With longer text
12: export const LongTitle = () => (
13:   <PageHeader>A Much Longer Page Title That Might Wrap on Mobile</PageHeader>
14: );
15: // With emoji
16: export const WithEmoji = () => <PageHeader>📝 Contact Page</PageHeader>;
17: // With HTML content
18: export const WithHTMLContent = () => (
19:   <PageHeader>
20:     <span className="flex items-center justify-center gap-2">
21:       <span aria-label="projects icon">🚀</span>
22:       <span>My Projects</span>
23:       <span className="text-sm bg-green-600 px-2 py-1 rounded-full ml-2">
24:         New
25:       </span>
26:     </span>
27:   </PageHeader>
28: );
29: // Showing different container widths
30: export const ContainerSizes = () => (
31:   <div className="space-y-8">
32:     <div className="w-full max-w-7xl mx-auto border border-dashed border-gray-500 p-2">
33:       <p className="text-white text-center mb-2">Full width container</p>
34:       <PageHeader>Full Width</PageHeader>
35:     </div>
36:     <div className="w-full max-w-3xl mx-auto border border-dashed border-gray-500 p-2">
37:       <p className="text-white text-center mb-2">Medium width container</p>
38:       <PageHeader>Medium Width</PageHeader>
39:     </div>
40:     <div className="w-full max-w-sm mx-auto border border-dashed border-gray-500 p-2">
41:       <p className="text-white text-center mb-2">Small width container</p>
42:       <PageHeader>Small Width</PageHeader>
43:     </div>
44:   </div>
45: );
````

## File: src/stories/components/UI/Pill.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta } from "@ladle/react";
 3: import Pill from "@/components/UI/Pill.component";
 4: import "@/app/globals.css";
 5: export default {
 6:   title: "UI/Pill",
 7:   component: Pill,
 8: } as Meta;
 9: // Default pill as button
10: export const DefaultButton = () => <Pill text="Click Me" />;
11: // Pill with custom class
12: export const CustomClass = () => (
13:   <Pill
14:     text="Custom Styling"
15:     className="bg-purple-600 bg-opacity-20 border-purple-800"
16:   />
17: );
18: // Pill as link
19: export const AsLink = () => (
20:   <Pill text="Go to Example" href="https://example.com" />
21: );
22: // Multiple pills
23: export const MultiplePills = () => (
24:   <div className="flex flex-wrap justify-center">
25:     <Pill text="React" />
26:     <Pill text="TypeScript" />
27:     <Pill text="Next.js" />
28:     <Pill text="Tailwind CSS" />
29:   </div>
30: );
31: // With click handler
32: export const WithClickHandler = () => {
33:   const [clickCount, setClickCount] = React.useState(0);
34:   return (
35:     <div className="flex flex-col items-center">
36:       <Pill
37:         text={`Clicked ${clickCount} times`}
38:         onClick={() => setClickCount(clickCount + 1)}
39:       />
40:       {clickCount > 0 && (
41:         <div className="mt-4 text-white">
42:           You clicked me {clickCount} time{clickCount !== 1 && "s"}!
43:         </div>
44:       )}
45:     </div>
46:   );
47: };
48: // Different sizes using className
49: export const Sizes = () => (
50:   <div className="space-y-4 flex flex-col items-center">
51:     <Pill text="Small Pill" className="text-sm p-4" />
52:     <Pill text="Default Size" />
53:     <Pill text="Large Pill" className="text-2xl p-8" />
54:   </div>
55: );
56: // Different colors
57: export const Colors = () => (
58:   <div className="space-y-4 flex flex-col items-center">
59:     <Pill text="Blue (Default)" />
60:     <Pill
61:       text="Green"
62:       className="bg-green-600 bg-opacity-20 border-green-800 border-opacity-30
63:                 hover:bg-green-400 hover:bg-opacity-30
64:                 hover:shadow-[0_0_15px_rgba(0,255,0,0.1),0_0_20px_rgba(0,255,0,0.1),inset_0_0_20px_rgba(0,255,0,0.1)]"
65:     />
66:     <Pill
67:       text="Red"
68:       className="bg-red-600 bg-opacity-20 border-red-800 border-opacity-30
69:                 hover:bg-red-400 hover:bg-opacity-30
70:                 hover:shadow-[0_0_15px_rgba(255,0,0,0.1),0_0_20px_rgba(255,0,0,0.1),inset_0_0_20px_rgba(255,0,0,0.1)]"
71:     />
72:     <Pill
73:       text="Purple"
74:       className="bg-purple-600 bg-opacity-20 border-purple-800 border-opacity-30
75:                 hover:bg-purple-400 hover:bg-opacity-30
76:                 hover:shadow-[0_0_15px_rgba(128,0,128,0.1),0_0_20px_rgba(128,0,128,0.1),inset_0_0_20px_rgba(128,0,128,0.1)]"
77:     />
78:   </div>
79: );
````

## File: src/stories/components/UI/SkipLink.stories.tsx
````typescript
 1: import React from "react";
 2: import { Meta, Story } from "@ladle/react";
 3: import SkipLink from "@/components/UI/SkipLink.component";
 4: export default {
 5:   title: "UI/SkipLink",
 6:   component: SkipLink,
 7: } as Meta;
 8: export const Default: Story = () => <SkipLink />;
 9: // Story showing the skip link in context
10: export const WithContext = () => (
11:   <div>
12:     <SkipLink />
13:     <header className="bg-gray-800 p-4 text-white">
14:       <nav>Navigation Content</nav>
15:     </header>
16:     <main id="main-content" className="p-4">
17:       <h1>Main Content</h1>
18:       <p>This story demonstrates the SkipLink in context with a page layout.</p>
19:       <p>
20:         Tab to focus on the SkipLink - it will appear at the top of the page.
21:       </p>
22:     </main>
23:   </div>
24: );
25: // Story with focus styles visible
26: export const Focused = () => (
27:   <div className="p-4">
28:     <div className="not-sr-only absolute top-4 left-4 z-50">
29:       <SkipLink />
30:     </div>
31:     <p className="mt-20">
32:       This story shows how the SkipLink appears when focused. The skip link is
33:       permanently visible here for demonstration purposes.
34:     </p>
35:   </div>
36: );
````

## File: src/stories/components/UI/Tabs.stories.tsx
````typescript
  1: import React from "react";
  2: import { Meta } from "@ladle/react";
  3: import Tabs from "@/components/UI/Tabs.component";
  4: import "@/app/globals.css";
  5: export default {
  6:   title: "UI/Tabs",
  7:   component: Tabs,
  8: } as Meta;
  9: // Sample content components
 10: const TextContent = () => (
 11:   <div className="py-4">
 12:     <h2 className="text-xl text-white mb-4">Text Content</h2>
 13:     <p className="text-gray-300">
 14:       This is a sample text content for the tab panel. It demonstrates how text
 15:       content is displayed within the tabs component.
 16:     </p>
 17:   </div>
 18: );
 19: const ListContent = () => (
 20:   <div className="py-4">
 21:     <h2 className="text-xl text-white mb-4">List Content</h2>
 22:     <ul className="list-disc list-inside text-gray-300">
 23:       <li>First item in the list</li>
 24:       <li>Second item in the list</li>
 25:       <li>Third item in the list</li>
 26:     </ul>
 27:   </div>
 28: );
 29: const FormField = ({
 30:   id,
 31:   label,
 32:   type,
 33:   placeholder,
 34: }: {
 35:   id: string;
 36:   label: string;
 37:   type: string;
 38:   placeholder: string;
 39: }) => (
 40:   <div>
 41:     <label htmlFor={id} className="block text-gray-300 mb-2">
 42:       {label}
 43:     </label>
 44:     <input
 45:       id={id}
 46:       type={type}
 47:       className="w-full p-2 rounded-sm bg-gray-700 text-white"
 48:       placeholder={placeholder}
 49:     />
 50:   </div>
 51: );
 52: const FormContent = () => {
 53:   const formId = React.useId();
 54:   const fields = [
 55:     { label: "Name", type: "text", placeholder: "Enter your name" },
 56:     { label: "Email", type: "email", placeholder: "Enter your email" },
 57:   ];
 58:   return (
 59:     <div className="py-4">
 60:       <h2 className="text-xl text-white mb-4">Form Content</h2>
 61:       <form className="space-y-4">
 62:         {fields.map((field) => (
 63:           <FormField
 64:             key={field.label}
 65:             id={`${formId}-${field.label.toLowerCase()}`}
 66:             {...field}
 67:           />
 68:         ))}
 69:       </form>
 70:     </div>
 71:   );
 72: };
 73: // Vertical tabs
 74: export const VerticalTabs = () => (
 75:   <Tabs
 76:     orientation="vertical"
 77:     tabs={[
 78:       { id: "tab1", label: "Text", content: <TextContent /> },
 79:       { id: "tab2", label: "List", content: <ListContent /> },
 80:       { id: "tab3", label: "Form", content: <FormContent /> },
 81:     ]}
 82:   />
 83: );
 84: // Horizontal tabs
 85: export const HorizontalTabs = () => (
 86:   <Tabs
 87:     orientation="horizontal"
 88:     tabs={[
 89:       { id: "tab1", label: "Text", content: <TextContent /> },
 90:       { id: "tab2", label: "List", content: <ListContent /> },
 91:       { id: "tab3", label: "Form", content: <FormContent /> },
 92:     ]}
 93:   />
 94: );
 95: // Many tabs
 96: export const ManyTabs = () => (
 97:   <Tabs
 98:     tabs={[
 99:       { id: "tab1", label: "Tab 1", content: <TextContent /> },
100:       { id: "tab2", label: "Tab 2", content: <ListContent /> },
101:       { id: "tab3", label: "Tab 3", content: <FormContent /> },
102:       { id: "tab4", label: "Tab 4", content: <TextContent /> },
103:     ]}
104:   />
105: );
106: // Two tabs
107: export const TwoTabs = () => (
108:   <Tabs
109:     tabs={[
110:       { id: "tab1", label: "First Tab", content: <TextContent /> },
111:       { id: "tab2", label: "Second Tab", content: <ListContent /> },
112:     ]}
113:   />
114: );
115: // Tabs in a container
116: export const TabsInContainer = () => (
117:   <div className="p-4 border border-gray-700 rounded-md">
118:     <h3 className="text-white mb-4">Contained Tabs</h3>
119:     <Tabs
120:       tabs={[
121:         { id: "tab1", label: "Info", content: <TextContent /> },
122:         { id: "tab2", label: "Settings", content: <ListContent /> },
123:       ]}
124:     />
125:   </div>
126: );
````

## File: src/stories/README.md
````markdown
 1: # Storybook Standards Guide
 2: 
 3: This guide provides standards for creating and maintaining stories in our project.
 4: 
 5: ## Structure and Organization
 6: 
 7: Stories are organized in folders that mirror the component structure:
 8: 
 9: - `src/stories/components/UI/` - For UI components
10: - `src/stories/components/Layout/` - For layout components
11: - `src/stories/components/Animations/` - For animation components
12: - etc.
13: 
14: ## Story File Format
15: 
16: ```tsx
17: import React from "react";
18: import { Meta } from "@ladle/react";
19: import ComponentName from "@/components/Path/Component";
20: import "@/app/globals.css"; // Always include this
21: 
22: export default {
23:   title: "Category/ComponentName",
24:   component: ComponentName,
25: } as Meta;
26: 
27: // Default variant
28: export const Default = () => <ComponentName />;
29: 
30: // Additional variants
31: export const WithProps = () => <ComponentName prop="value" />;
32: 
33: // Complex examples with multiple components
34: export const ComplexExample = () => (
35:   <div className="container">
36:     <ComponentName prop="value" />
37:     <ComponentName prop="other value" />
38:   </div>
39: );
40: ```
41: 
42: ## Best Practices
43: 
44: 1. **Direct Component Approach**: All stories should use the direct component
45:    approach rather than the Template.bind({}) pattern.
46: 
47: 2. **CSS Import**: Always include `import "@/app/globals.css";` to ensure
48:    consistent styling.
49: 
50: 3. **Comments**: Add a brief comment above each story variant to explain what
51:    it's demonstrating.
52: 
53: 4. **Naming Conventions**:
54: 
55:    - Use PascalCase for story export names (e.g.,
56:      `export const WithCustomClass = () => ...`)
57:    - Use descriptive names that indicate what's special about the variant
58: 
59: 5. **Mock Data**: When components require data from APIs or other external
60:    sources, create mock data within the story file or in a separate mock file.
61: 
62: 6. **TypeScript**: Ensure all stories are properly typed.
63: 
64: 7. **Story Variants**: Include multiple variants to showcase different states,
65:    props, and use cases for each component.
66: 
67: 8. **Layout and Context**: If a component needs specific context or layout to be
68:    properly demonstrated, provide it within the story.
69: 
70: 9. **Interactive Examples**: Where appropriate, include interactive examples
71:    with state.
72: 
73: 10. **Accessibility**: Test and ensure components are accessible in their story
74:     representations.
75: 
76: ## Mocking Dependencies
77: 
78: For stories that use components with external dependencies:
79: 
80: 1. Create mock files in `src/__mocks__/` directory
81: 2. Use proper TypeScript typing in your mocks
82: 3. Prefer using existing types from the project where possible
````

## File: src/types/sanity-errors.ts
````typescript
 1: export interface SanityApiError {
 2:   statusCode: number;
 3:   message: string;
 4:   details?: {
 5:     type: string;
 6:     description: string;
 7:   };
 8: }
 9: export function isSanityApiError(error: unknown): error is SanityApiError {
10:   return (
11:     typeof error === "object" &&
12:     error !== null &&
13:     "statusCode" in error &&
14:     "message" in error &&
15:     typeof (error as SanityApiError).statusCode === "number" &&
16:     typeof (error as SanityApiError).message === "string"
17:   );
18: }
````

## File: src/types/sanity.types.ts
````typescript
  1: /**
  2:  * ---------------------------------------------------------------------------------
  3:  * This file has been generated by Sanity TypeGen.
  4:  * Command: `sanity typegen generate`
  5:  *
  6:  * Any modifications made directly to this file will be overwritten the next time
  7:  * the TypeScript definitions are generated. Please make changes to the Sanity
  8:  * schema definitions and/or GROQ queries if you need to update these types.
  9:  *
 10:  * For more information on how to use Sanity TypeGen, visit the official documentation:
 11:  * https://www.sanity.io/docs/sanity-typegen
 12:  * ---------------------------------------------------------------------------------
 13:  */
 14: // Source: schema.json
 15: export type SanityImagePaletteSwatch = {
 16:   _type: "sanity.imagePaletteSwatch";
 17:   background?: string;
 18:   foreground?: string;
 19:   population?: number;
 20:   title?: string;
 21: };
 22: export type SanityImagePalette = {
 23:   _type: "sanity.imagePalette";
 24:   darkMuted?: SanityImagePaletteSwatch;
 25:   lightVibrant?: SanityImagePaletteSwatch;
 26:   darkVibrant?: SanityImagePaletteSwatch;
 27:   vibrant?: SanityImagePaletteSwatch;
 28:   dominant?: SanityImagePaletteSwatch;
 29:   lightMuted?: SanityImagePaletteSwatch;
 30:   muted?: SanityImagePaletteSwatch;
 31: };
 32: export type SanityImageDimensions = {
 33:   _type: "sanity.imageDimensions";
 34:   height?: number;
 35:   width?: number;
 36:   aspectRatio?: number;
 37: };
 38: export type SanityFileAsset = {
 39:   _id: string;
 40:   _type: "sanity.fileAsset";
 41:   _createdAt: string;
 42:   _updatedAt: string;
 43:   _rev: string;
 44:   originalFilename?: string;
 45:   label?: string;
 46:   title?: string;
 47:   description?: string;
 48:   altText?: string;
 49:   sha1hash?: string;
 50:   extension?: string;
 51:   mimeType?: string;
 52:   size?: number;
 53:   assetId?: string;
 54:   uploadId?: string;
 55:   path?: string;
 56:   url?: string;
 57:   source?: SanityAssetSourceData;
 58: };
 59: export type Geopoint = {
 60:   _type: "geopoint";
 61:   lat?: number;
 62:   lng?: number;
 63:   alt?: number;
 64: };
 65: export type Slug = {
 66:   _type: "slug";
 67:   current?: string;
 68:   source?: string;
 69: };
 70: export type Herocontent = {
 71:   _type: "herocontent";
 72:   text?: string;
 73: };
 74: export type Pagecontent = {
 75:   _type: "pagecontent";
 76:   id?: number;
 77:   title?: string;
 78:   text?: Array<{
 79:     children?: Array<{
 80:       marks?: Array<string>;
 81:       text?: string;
 82:       _type: "span";
 83:       _key: string;
 84:     }>;
 85:     style?: "normal" | "h1" | "h2" | "h3" | "h4" | "h5" | "h6" | "blockquote";
 86:     listItem?: "bullet" | "number";
 87:     markDefs?: Array<{
 88:       href?: string;
 89:       _type: "link";
 90:       _key: string;
 91:     }>;
 92:     level?: number;
 93:     _type: "block";
 94:     _key: string;
 95:   }>;
 96: };
 97: export type Link = {
 98:   _type: "link";
 99:   title?: string;
100:   url?: string;
101:   external?: boolean;
102: };
103: export type Settings = {
104:   _id: string;
105:   _type: "settings";
106:   _createdAt: string;
107:   _updatedAt: string;
108:   _rev: string;
109:   footerCopyrightText?: string;
110: };
111: export type Navigation = {
112:   _id: string;
113:   _type: "navigation";
114:   _createdAt: string;
115:   _updatedAt: string;
116:   _rev: string;
117:   title?: string;
118:   links?: Array<{
119:     title?: string;
120:     name?: string;
121:     hash?: string;
122:     href?: string;
123:     externalLink?: boolean;
124:     icon?:
125:       | "RiHome4Line"
126:       | "RiProjectorLine"
127:       | "RiFileList3Line"
128:       | "RiGithubLine"
129:       | "RiMailLine";
130:     _key: string;
131:   }>;
132: };
133: export type Cv = {
134:   _id: string;
135:   _type: "cv";
136:   _createdAt: string;
137:   _updatedAt: string;
138:   _rev: string;
139:   keyQualifications?: Array<string>;
140:   experience?: Array<{
141:     period?: string;
142:     company?: string;
143:     role?: string;
144:     description?: string;
145:     _key: string;
146:   }>;
147:   education?: Array<{
148:     period?: string;
149:     institution?: string;
150:     degree?: string;
151:     description?: string;
152:     _key: string;
153:   }>;
154:   volunteerWork?: Array<{
155:     period?: string;
156:     organization?: string;
157:     role?: string;
158:     description?: string;
159:     _key: string;
160:   }>;
161: };
162: export type Page = {
163:   _id: string;
164:   _type: "page";
165:   _createdAt: string;
166:   _updatedAt: string;
167:   _rev: string;
168:   title?: string;
169:   header?: string;
170:   hero?: Array<
171:     {
172:       _key: string;
173:     } & Herocontent
174:   >;
175:   content?: Array<
176:     {
177:       _key: string;
178:     } & Pagecontent
179:   >;
180: };
181: export type Project = {
182:   _id: string;
183:   _type: "project";
184:   _createdAt: string;
185:   _updatedAt: string;
186:   _rev: string;
187:   id?: number;
188:   name?: string;
189:   description?: string;
190:   subdescription?: string;
191:   projectcategory?: {
192:     _ref: string;
193:     _type: "reference";
194:     _weak?: boolean;
195:     [internalGroqTypeReferenceTo]?: "category";
196:   };
197:   urlwww?: Array<
198:     {
199:       _key: string;
200:     } & Link
201:   >;
202:   urlgithub?: Array<
203:     {
204:       _key: string;
205:     } & Link
206:   >;
207:   projectimage?: {
208:     asset?: {
209:       _ref: string;
210:       _type: "reference";
211:       _weak?: boolean;
212:       [internalGroqTypeReferenceTo]?: "sanity.imageAsset";
213:     };
214:     hotspot?: SanityImageHotspot;
215:     crop?: SanityImageCrop;
216:     _type: "image";
217:   };
218:   featured?: boolean;
219:   featureOrder?: number;
220: };
221: export type SanityImageCrop = {
222:   _type: "sanity.imageCrop";
223:   top?: number;
224:   bottom?: number;
225:   left?: number;
226:   right?: number;
227: };
228: export type SanityImageHotspot = {
229:   _type: "sanity.imageHotspot";
230:   x?: number;
231:   y?: number;
232:   height?: number;
233:   width?: number;
234: };
235: export type SanityImageAsset = {
236:   _id: string;
237:   _type: "sanity.imageAsset";
238:   _createdAt: string;
239:   _updatedAt: string;
240:   _rev: string;
241:   originalFilename?: string;
242:   label?: string;
243:   title?: string;
244:   description?: string;
245:   altText?: string;
246:   sha1hash?: string;
247:   extension?: string;
248:   mimeType?: string;
249:   size?: number;
250:   assetId?: string;
251:   uploadId?: string;
252:   path?: string;
253:   url?: string;
254:   metadata?: SanityImageMetadata;
255:   source?: SanityAssetSourceData;
256: };
257: export type SanityAssetSourceData = {
258:   _type: "sanity.assetSourceData";
259:   name?: string;
260:   id?: string;
261:   url?: string;
262: };
263: export type SanityImageMetadata = {
264:   _type: "sanity.imageMetadata";
265:   location?: Geopoint;
266:   dimensions?: SanityImageDimensions;
267:   palette?: SanityImagePalette;
268:   lqip?: string;
269:   blurHash?: string;
270:   hasAlpha?: boolean;
271:   isOpaque?: boolean;
272: };
273: export type Category = {
274:   _id: string;
275:   _type: "category";
276:   _createdAt: string;
277:   _updatedAt: string;
278:   _rev: string;
279:   id?: number;
280:   name?: string;
281: };
282: export type AllSanitySchemaTypes =
283:   | SanityImagePaletteSwatch
284:   | SanityImagePalette
285:   | SanityImageDimensions
286:   | SanityFileAsset
287:   | Geopoint
288:   | Slug
289:   | Herocontent
290:   | Pagecontent
291:   | Link
292:   | Settings
293:   | Navigation
294:   | Cv
295:   | Page
296:   | Project
297:   | SanityImageCrop
298:   | SanityImageHotspot
299:   | SanityImageAsset
300:   | SanityAssetSourceData
301:   | SanityImageMetadata
302:   | Category;
303: export declare const internalGroqTypeReferenceTo: unique symbol;
````

## File: src/types/testing-library.d.ts
````typescript
 1: /// <reference types="jest" />
 2: /// <reference types="@testing-library/jest-dom" />
 3: // Extend Jest matchers - using module augmentation instead of namespace declaration
 4: declare global {
 5:   namespace jest {
 6:     interface Matchers<R> {
 7:       toBeInTheDocument(): R;
 8:       toHaveTextContent(text: string): R;
 9:       toBeVisible(): R;
10:       toBeDisabled(): R;
11:       toBeEnabled(): R;
12:       toHaveAttribute(attr: string, value?: string): R;
13:       toHaveClass(className: string): R;
14:       toHaveStyle(css: React.CSSProperties): R;
15:     }
16:   }
17: }
18: // Augment Chai assertions for Cypress
19: declare global {
20:   namespace Chai {
21:     interface Assertion {
22:       toBeInTheDocument(): Assertion;
23:       toHaveTextContent(text: string): Assertion;
24:       toBeVisible(): Assertion;
25:       toBeDisabled(): Assertion;
26:       toBeEnabled(): Assertion;
27:       toHaveAttribute(attr: string, value?: string): Assertion;
28:       toHaveClass(...classNames: string[]): Assertion;
29:       toHaveStyle(css: React.CSSProperties): Assertion;
30:       toHaveBeenCalled(): Assertion;
31:       toHaveBeenCalledWith(...args: unknown[]): Assertion;
32:       toHaveBeenCalledTimes(n: number): Assertion;
33:       toBe(expected: unknown): Assertion;
34:       toEqual(expected: unknown): Assertion;
35:       toStrictEqual(expected: unknown): Assertion;
36:       toBeNull(): Assertion;
37:       toBeDefined(): Assertion;
38:       toBeGreaterThan(n: number): Assertion;
39:       toBeLessThanOrEqual(n: number): Assertion;
40:       toMatch(pattern: RegExp | string): Assertion;
41:       toThrow(error?: string | Error | RegExp): Assertion;
42:       toContain(item: unknown): Assertion;
43:       toContainElement(element: HTMLElement): Assertion;
44:       toContainHTML(html: string): Assertion;
45:       toHaveLength(length: number): Assertion;
46:       rejects: {
47:         toThrow(error?: string | Error | RegExp): Promise<void>;
48:       };
49:     }
50:     interface ExpectStatic {
51:       any<T>(classType: new (...args: unknown[]) => T): unknown;
52:     }
53:   }
54:   // Add canvas mocking support
55:   interface HTMLCanvasElement {
56:     getContext(contextId: "2d"): CanvasRenderingContext2D | null;
57:   }
58: }
59: export {};
````

## File: src/utils/eslint/dist/index.js
````javascript
 1: /* eslint-disable @typescript-eslint/no-require-imports */
 2: "use strict";
 3: Object.defineProperty(exports, "__esModule", { value: true });
 4: const utils_1 = require("@typescript-eslint/utils");
 5: const isTestFunction = (node) => {
 6:   const testNames = ["it", "test"];
 7:   return (
 8:     node.callee.type === utils_1.TSESTree.AST_NODE_TYPES.Identifier &&
 9:     testNames.includes(node.callee.name)
10:   );
11: };
12: const isArrowFunction = (node) => {
13:   return (
14:     (node === null || node === void 0 ? void 0 : node.type) ===
15:     utils_1.TSESTree.AST_NODE_TYPES.ArrowFunctionExpression
16:   );
17: };
18: const validateAAAPattern = (context, node) => {
19:   const testFn = node.arguments[1];
20:   if (!isArrowFunction(testFn)) return;
21:   if (!hasAAAComments(context, testFn)) {
22:     context.report({
23:       node,
24:       messageId: "missingAAAPattern",
25:     });
26:   }
27: };
28: const validateTestCase = (context, node) => {
29:   if (!isTestFunction(node)) return;
30:   validateAAAPattern(context, node);
31: };
32: const hasAAAComments = (context, testFn) => {
33:   const comments = context.getSourceCode().getCommentsInside(testFn.body);
34:   const patterns = ["Arrange", "Act", "Assert"];
35:   return comments.some((comment) =>
36:     patterns.some((pattern) => comment.value.includes(pattern)),
37:   );
38: };
39: const createRule = utils_1.ESLintUtils.RuleCreator(
40:   (name) =>
41:     `https://github.com/your-repo/eslint-plugin/blob/main/docs/rules/${name}.md`,
42: );
43: const rule = createRule({
44:   name: "arrange-act-assert",
45:   meta: {
46:     type: "suggestion",
47:     docs: {
48:       description: "enforce AAA pattern in tests",
49:     },
50:     messages: {
51:       missingAAAPattern: "Test should follow AAA pattern with comments",
52:     },
53:     schema: [],
54:   },
55:   defaultOptions: [],
56:   create(context) {
57:     return {
58:       CallExpression: (node) => validateTestCase(context, node),
59:     };
60:   },
61: });
62: module.exports = {
63:   configs: {
64:     recommended: {
65:       plugins: ["test-rules"],
66:       rules: {
67:         "test-rules/arrange-act-assert": "error",
68:       },
69:     },
70:   },
71:   rules: {
72:     "arrange-act-assert": rule,
73:   },
74: };
````

## File: src/utils/eslint/index.ts
````typescript
 1: import { ESLintUtils, TSESTree, TSESLint } from "@typescript-eslint/utils";
 2: type MessageIds = "missingAAAPattern";
 3: type Options = [];
 4: const isTestFunction = (node: TSESTree.CallExpression): boolean => {
 5:   const testNames = ["it", "test"];
 6:   return (
 7:     node.callee.type === TSESTree.AST_NODE_TYPES.Identifier &&
 8:     testNames.includes(node.callee.name)
 9:   );
10: };
11: const isArrowFunction = (
12:   node: TSESTree.Node,
13: ): node is TSESTree.ArrowFunctionExpression => {
14:   return node?.type === TSESTree.AST_NODE_TYPES.ArrowFunctionExpression;
15: };
16: const validateAAAPattern = (
17:   context: Readonly<TSESLint.RuleContext<MessageIds, Options>>,
18:   node: TSESTree.CallExpression,
19: ) => {
20:   const testFn = node.arguments[1];
21:   if (!isArrowFunction(testFn)) return;
22:   if (!hasAAAComments(context, testFn)) {
23:     context.report({
24:       node,
25:       messageId: "missingAAAPattern",
26:     });
27:   }
28: };
29: const validateTestCase = (
30:   context: Readonly<TSESLint.RuleContext<MessageIds, Options>>,
31:   node: TSESTree.CallExpression,
32: ) => {
33:   if (!isTestFunction(node)) return;
34:   validateAAAPattern(context, node);
35: };
36: const hasAAAComments = (
37:   context: Readonly<TSESLint.RuleContext<MessageIds, Options>>,
38:   testFn: TSESTree.ArrowFunctionExpression,
39: ): boolean => {
40:   const comments = context.getSourceCode().getCommentsInside(testFn.body);
41:   const patterns = ["Arrange", "Act", "Assert"];
42:   return comments.some((comment: TSESTree.Comment) =>
43:     patterns.some((pattern) => comment.value.includes(pattern)),
44:   );
45: };
46: const createRule = ESLintUtils.RuleCreator(
47:   (name) =>
48:     `https://github.com/your-repo/eslint-plugin/blob/main/docs/rules/${name}.md`,
49: );
50: const rule = createRule<Options, MessageIds>({
51:   name: "arrange-act-assert",
52:   meta: {
53:     type: "suggestion",
54:     docs: {
55:       description: "enforce AAA pattern in tests",
56:     },
57:     messages: {
58:       missingAAAPattern: "Test should follow AAA pattern with comments",
59:     },
60:     schema: [],
61:   },
62:   defaultOptions: [],
63:   create(context) {
64:     return {
65:       CallExpression: (node: TSESTree.CallExpression) =>
66:         validateTestCase(context, node),
67:     };
68:   },
69: });
70: module.exports = {
71:   configs: {
72:     recommended: {
73:       plugins: ["test-rules"],
74:       rules: {
75:         "test-rules/arrange-act-assert": "error",
76:       },
77:     },
78:   },
79:   rules: {
80:     "arrange-act-assert": rule,
81:   },
82: };
````

## File: src/utils/eslint/tsconfig.json
````json
 1: {
 2:   "compilerOptions": {
 3:     "target": "es2016",
 4:     "module": "commonjs",
 5:     "outDir": "./dist",
 6:     "strict": true,
 7:     "esModuleInterop": true,
 8:     "skipLibCheck": true,
 9:     "forceConsistentCasingInFileNames": true
10:   },
11:   "include": ["./**/*.ts"],
12:   "exclude": ["node_modules"]
13: }
````

## File: src/utils/portableTextComponents.tsx
````typescript
 1: import Link from "next/link";
 2: import type { PortableTextMarkComponentProps } from "@portabletext/react";
 3: export const myPortableTextComponents = {
 4:   marks: {
 5:     bold: ({ children }: PortableTextMarkComponentProps) => <b>{children}</b>,
 6:     italic: ({ children }: PortableTextMarkComponentProps) => <i>{children}</i>,
 7:     code: ({ children }: PortableTextMarkComponentProps) => (
 8:       <span className="mt-4 text-lg block">{children}</span>
 9:     ),
10:     link: ({ text, value }: PortableTextMarkComponentProps) => (
11:       <Link
12:         className="glitch underline text-lg font-bold text-green-400"
13:         href={value?.href || "#"}
14:         data-text={text}
15:       >
16:         {text}
17:       </Link>
18:     ),
19:   },
20: };
````

## File: src/utils/test-utils.ts
````typescript
 1: /**
 2:  * Helper function to check if a test follows the AAA pattern
 3:  * @param testContent The content of the test to check
 4:  * @returns Object containing check results
 5:  */
 6: export const checkAAAPattern = (testContent: string) => {
 7:   const hasArrange = testContent.includes("// Arrange");
 8:   const hasAct = testContent.includes("// Act");
 9:   const hasAssert = testContent.includes("// Assert");
10:   return {
11:     hasArrange,
12:     hasAct,
13:     hasAssert,
14:     isValid: hasArrange && hasAct && hasAssert,
15:     missingComments: [
16:       !hasArrange && "Arrange",
17:       !hasAct && "Act",
18:       !hasAssert && "Assert",
19:     ].filter(Boolean),
20:   };
21: };
22: /**
23:  * Example usage in tests:
24:  *
25:  * describe('Component Test', () => {
26:  *   it('should do something', () => {
27:  *     // Arrange
28:  *     const props = {...};
29:  *
30:  *     // Act
31:  *     render(<Component {...props} />);
32:  *
33:  *     // Assert
34:  *     expect(...).toBe(...);
35:  *   });
36:  * });
37:  */
````

## File: studio/schemaTypes/documents/category.ts
````typescript
 1: import {defineField, defineType, StringRule, NumberRule} from 'sanity'
 2: const category = defineType({
 3:   // This is the display name for the type
 4:   title: 'Category',
 5:   // The identifier for this document type used in the api's
 6:   name: 'category',
 7:   // Documents have the type 'document'. Your schema may describe types beyond documents
 8:   // but let's get back to that later.
 9:   type: 'document',
10:   // Now we proceed to list the fields of our document
11:   fields: [
12:     defineField({
13:       title: 'Id',
14:       name: 'id',
15:       type: 'number',
16:       validation: (Rule: NumberRule) => Rule.required(),
17:     }),
18:     defineField({
19:       title: 'Name',
20:       name: 'name',
21:       type: 'string',
22:       validation: (Rule: StringRule) => Rule.required(),
23:     }),
24:   ],
25: })
26: export default category
````

## File: studio/schemaTypes/documents/cv.ts
````typescript
  1: interface PreviewSelection {
  2:   keyQualifications?: string[]
  3: }
  4: export default {
  5:   name: 'cv',
  6:   title: 'CV',
  7:   type: 'document',
  8:   preview: {
  9:     select: {
 10:       keyQualifications: 'keyQualifications',
 11:     },
 12:     prepare(selection: PreviewSelection) {
 13:       const {keyQualifications} = selection
 14:       const mainQualification = keyQualifications?.[0] || 'No qualifications added'
 15:       return {
 16:         title: 'CV',
 17:         subtitle: mainQualification,
 18:       }
 19:     },
 20:   },
 21:   fields: [
 22:     {
 23:       name: 'keyQualifications',
 24:       title: 'Key Qualifications',
 25:       type: 'array',
 26:       of: [{type: 'text'}],
 27:     },
 28:     {
 29:       name: 'experience',
 30:       title: 'Experience',
 31:       type: 'array',
 32:       of: [
 33:         {
 34:           type: 'object',
 35:           fields: [
 36:             {name: 'period', title: 'Period', type: 'string'},
 37:             {
 38:               name: 'company',
 39:               title: 'Company/Project',
 40:               type: 'string',
 41:               description: 'Company name or personal project/community name',
 42:             },
 43:             {
 44:               name: 'role',
 45:               title: 'Role',
 46:               type: 'string',
 47:               description: 'Job title or role in the project/community',
 48:             },
 49:             {name: 'description', title: 'Description', type: 'text'},
 50:           ],
 51:         },
 52:       ],
 53:     },
 54:     {
 55:       name: 'education',
 56:       title: 'Education',
 57:       type: 'array',
 58:       of: [
 59:         {
 60:           type: 'object',
 61:           fields: [
 62:             {name: 'period', title: 'Period', type: 'string'},
 63:             {name: 'institution', title: 'Institution', type: 'string'},
 64:             {name: 'degree', title: 'Degree', type: 'string'},
 65:             {name: 'description', title: 'Description', type: 'text'},
 66:           ],
 67:         },
 68:       ],
 69:     },
 70:     {
 71:       name: 'volunteerWork',
 72:       title: 'Volunteer work',
 73:       type: 'array',
 74:       of: [
 75:         {
 76:           type: 'object',
 77:           fields: [
 78:             {name: 'period', title: 'Period', type: 'string'},
 79:             {
 80:               name: 'organization',
 81:               title: 'Organization',
 82:               type: 'string',
 83:               description: 'Name of the community or organization',
 84:             },
 85:             {
 86:               name: 'role',
 87:               title: 'Role',
 88:               type: 'string',
 89:               description: 'Your role in the community',
 90:             },
 91:             {
 92:               name: 'description',
 93:               title: 'Description',
 94:               type: 'text',
 95:               description: 'Describe your contributions and impact',
 96:             },
 97:           ],
 98:         },
 99:       ],
100:     },
101:   ],
102: }
````

## File: studio/schemaTypes/documents/navigation.ts
````typescript
  1: import {
  2:   RiNavigationLine,
  3:   RiHome4Line,
  4:   RiProjectorLine,
  5:   RiFileList3Line,
  6:   RiGithubLine,
  7:   RiMailLine,
  8: } from 'react-icons/ri'
  9: import {defineField, defineType, StringRule, BooleanRule} from 'sanity'
 10: const iconMap = {
 11:   RiHome4Line,
 12:   RiProjectorLine,
 13:   RiFileList3Line,
 14:   RiGithubLine,
 15:   RiMailLine,
 16: }
 17: const requiredString = (rule: StringRule) => rule.required()
 18: const requiredBoolean = (rule: BooleanRule) => rule.required()
 19: export default defineType({
 20:   name: 'navigation',
 21:   title: 'Navigation',
 22:   type: 'document',
 23:   icon: RiNavigationLine,
 24:   fields: [
 25:     defineField({
 26:       title: 'Title',
 27:       name: 'title',
 28:       type: 'string',
 29:       validation: requiredString,
 30:     }),
 31:     defineField({
 32:       name: 'links',
 33:       title: 'Navigation Links',
 34:       type: 'array',
 35:       of: [
 36:         {
 37:           type: 'object',
 38:           fields: [
 39:             defineField({
 40:               name: 'title',
 41:               type: 'string',
 42:               title: 'Title',
 43:               validation: requiredString,
 44:             }),
 45:             defineField({
 46:               name: 'name',
 47:               type: 'string',
 48:               title: 'Name',
 49:               validation: requiredString,
 50:             }),
 51:             defineField({
 52:               name: 'hash',
 53:               type: 'string',
 54:               title: 'Hash',
 55:               validation: requiredString,
 56:             }),
 57:             defineField({
 58:               name: 'href',
 59:               type: 'string',
 60:               title: 'Href',
 61:               validation: requiredString,
 62:             }),
 63:             defineField({
 64:               name: 'externalLink',
 65:               type: 'boolean',
 66:               title: 'External Link',
 67:               validation: requiredBoolean,
 68:             }),
 69:             defineField({
 70:               name: 'icon',
 71:               title: 'Icon',
 72:               type: 'string',
 73:               options: {
 74:                 list: [
 75:                   {title: 'Home', value: 'RiHome4Line'},
 76:                   {title: 'Projects', value: 'RiProjectorLine'},
 77:                   {title: 'CV', value: 'RiFileList3Line'},
 78:                   {title: 'GitHub', value: 'RiGithubLine'},
 79:                   {title: 'Contact', value: 'RiMailLine'},
 80:                 ],
 81:               },
 82:             }),
 83:           ],
 84:           preview: {
 85:             select: {
 86:               title: 'title',
 87:               icon: 'icon',
 88:             },
 89:             prepare(selection) {
 90:               const {title, icon} = selection
 91:               return {
 92:                 title,
 93:                 media:
 94:                   icon && icon in iconMap
 95:                     ? iconMap[icon as keyof typeof iconMap]
 96:                     : RiNavigationLine,
 97:               }
 98:             },
 99:           },
100:         },
101:       ],
102:     }),
103:   ],
104:   preview: {
105:     select: {
106:       title: 'title',
107:     },
108:     prepare(selection) {
109:       const {title} = selection
110:       return {
111:         title,
112:         media: RiNavigationLine,
113:       }
114:     },
115:   },
116: })
````

## File: studio/schemaTypes/documents/page.ts
````typescript
 1: import {RiPagesLine} from 'react-icons/ri'
 2: import {defineField, defineType, SchemaTypeDefinition} from 'sanity'
 3: const page: SchemaTypeDefinition = defineType({
 4:   title: 'Page',
 5:   name: 'page',
 6:   icon: RiPagesLine,
 7:   type: 'document',
 8:   fields: [
 9:     defineField({
10:       title: 'Name',
11:       name: 'title',
12:       type: 'string',
13:     }),
14:     defineField({
15:       title: 'Header',
16:       name: 'header',
17:       type: 'string',
18:     }),
19:     defineField({
20:       title: 'Hero content',
21:       description: 'Only supported in Hjem/Index page',
22:       name: 'hero',
23:       type: 'array',
24:       of: [{type: 'herocontent'}],
25:       hidden: ({document}) => document?.title !== 'Hjem',
26:       validation: (Rule) => Rule.max(3),
27:     }),
28:     defineField({
29:       title: 'Main content',
30:       description: 'Only supported in Hjem/Index page',
31:       name: 'content',
32:       type: 'array',
33:       of: [{type: 'pagecontent'}],
34:       hidden: ({document}) => document?.title !== 'Hjem',
35:     }),
36:   ],
37: })
38: export default page
````

## File: studio/schemaTypes/documents/project.ts
````typescript
 1: import {RiEraserLine} from 'react-icons/ri'
 2: import {defineField, defineType} from 'sanity'
 3: const project = defineType({
 4:   title: 'Project',
 5:   name: 'project',
 6:   icon: RiEraserLine,
 7:   type: 'document',
 8:   fields: [
 9:     defineField({
10:       title: 'Id',
11:       name: 'id',
12:       type: 'number',
13:     }),
14:     defineField({
15:       title: 'Name',
16:       name: 'name',
17:       type: 'string',
18:     }),
19:     defineField({
20:       title: 'Description',
21:       name: 'description',
22:       type: 'string',
23:     }),
24:     defineField({
25:       title: 'Technologies',
26:       name: 'subdescription',
27:       type: 'string',
28:     }),
29:     defineField({
30:       title: 'Project category',
31:       name: 'projectcategory',
32:       type: 'reference',
33:       to: [{type: 'category'}],
34:     }),
35:     defineField({
36:       title: 'Project URL',
37:       name: 'urlwww',
38:       type: 'array',
39:       of: [{type: 'link'}],
40:     }),
41:     defineField({
42:       title: 'Github URL',
43:       name: 'urlgithub',
44:       type: 'array',
45:       of: [{type: 'link'}],
46:     }),
47:     defineField({
48:       title: 'Project image',
49:       name: 'projectimage',
50:       type: 'image',
51:     }),
52:     defineField({
53:       title: 'Featured',
54:       name: 'featured',
55:       type: 'boolean',
56:       description: 'Set to true to feature this project at the top of the page',
57:     }),
58:     defineField({
59:       title: 'Feature Order',
60:       name: 'featureOrder',
61:       type: 'number',
62:       description: 'Order of the featured project (lower numbers appear first)',
63:       hidden: ({document}) => !document?.featured,
64:     }),
65:   ],
66: })
67: export default project
````

## File: studio/schemaTypes/documents/settings.ts
````typescript
 1: import {defineField, defineType} from 'sanity'
 2: import {FiSettings} from 'react-icons/fi'
 3: export default defineType({
 4:   name: 'settings',
 5:   title: 'Site Settings',
 6:   type: 'document',
 7:   icon: FiSettings,
 8:   liveEdit: true,
 9:   fields: [
10:     defineField({
11:       name: 'footerCopyrightText',
12:       title: 'Footer Copyright Text',
13:       type: 'string',
14:       description:
15:         'The copyright text displayed in the site footer (e.g., "Copyright Daniel Fjeldstad"). The year is added automatically.',
16:       validation: (Rule) => Rule.required(),
17:     }),
18:   ],
19:   preview: {
20:     prepare() {
21:       return {
22:         title: 'Site Settings',
23:       }
24:     },
25:   },
26: })
````

## File: studio/schemaTypes/objects/herocontent.ts
````typescript
 1: import {RiArticleLine} from 'react-icons/ri'
 2: import {defineField, defineType} from 'sanity'
 3: const herocontent = defineType({
 4:   // This is the display name for the type
 5:   title: 'Hero content',
 6:   // The identifier for this document type used in the api's
 7:   name: 'herocontent',
 8:   icon: RiArticleLine,
 9:   // Documents have the type 'document'. Your schema may describe types beyond documents
10:   // but let's get back to that later.
11:   type: 'object',
12:   // Now we proceed to list the fields of our document
13:   fields: [
14:     defineField({
15:       title: 'Text',
16:       name: 'text',
17:       type: 'string',
18:     }),
19:   ],
20: })
21: export default herocontent
````

## File: studio/schemaTypes/objects/link.ts
````typescript
 1: import {RiExternalLinkLine} from 'react-icons/ri'
 2: import {defineField, defineType, StringRule, BooleanRule} from 'sanity'
 3: const link = defineType({
 4:   name: 'link',
 5:   title: 'Link',
 6:   type: 'object',
 7:   icon: RiExternalLinkLine,
 8:   fields: [
 9:     defineField({
10:       name: 'title',
11:       title: 'Title',
12:       description: 'Title',
13:       type: 'string',
14:     }),
15:     defineField({
16:       name: 'url',
17:       title: 'Url',
18:       description: 'URL',
19:       type: 'string',
20:       validation: (Rule: StringRule) => Rule.required(),
21:     }),
22:     defineField({
23:       name: 'external',
24:       title: 'External',
25:       description: 'Is link external?',
26:       type: 'boolean',
27:       validation: (Rule: BooleanRule) => Rule.required(),
28:     }),
29:   ],
30:   initialValue: {
31:     external: false,
32:   },
33:   preview: {
34:     select: {
35:       title: 'title',
36:       url: 'url',
37:     },
38:     prepare({title, url}: {title?: string; url?: string}) {
39:       return {
40:         title: title ?? url,
41:       }
42:     },
43:   },
44: })
45: export default link
````

## File: studio/schemaTypes/objects/pagecontent.ts
````typescript
 1: import {RiArticleLine} from 'react-icons/ri'
 2: const pagecontent = {
 3:   // This is the display name for the type
 4:   title: 'Page content',
 5:   // The identifier for this document type used in the api's
 6:   name: 'pagecontent',
 7:   icon: RiArticleLine,
 8:   // Documents have the type 'document'. Your schema may describe types beyond documents
 9:   // but let's get back to that later.
10:   type: 'object',
11:   // Now we proceed to list the fields of our document
12:   fields: [
13:     {
14:       title: 'Id',
15:       name: 'id',
16:       type: 'number',
17:     },
18:     {
19:       title: 'Title',
20:       name: 'title',
21:       type: 'string',
22:     },
23:     {
24:       title: 'Text',
25:       name: 'text',
26:       type: 'array',
27:       of: [{type: 'block'}],
28:     },
29:   ],
30: }
31: export default pagecontent
````

## File: studio/schemaTypes/index.ts
````typescript
 1: //export const schemaTypes = []
 2: // Documents
 3: import project from './documents/project'
 4: import category from './documents/category'
 5: import page from './documents/page'
 6: import navigation from './documents/navigation'
 7: import cv from './documents/cv'
 8: import settings from './documents/settings'
 9: // Objects
10: import link from './objects/link'
11: import pagecontent from './objects/pagecontent'
12: import herocontent from './objects/herocontent'
13: export const schemaTypes = [
14:   project,
15:   category,
16:   page,
17:   cv,
18:   navigation,
19:   settings,
20:   link,
21:   pagecontent,
22:   herocontent,
23: ]
````

## File: studio/schemaTypes/schema.ts
````typescript
 1: // Documents
 2: import project from './documents/project'
 3: import category from './documents/category'
 4: import page from './documents/page'
 5: import navigation from './documents/navigation'
 6: import cv from './documents/cv'
 7: // Objects
 8: import link from './objects/link'
 9: import pagecontent from './objects/pagecontent'
10: import herocontent from './objects/herocontent'
11: export const types = [project, category, page, navigation, cv, link, pagecontent, herocontent]
````

## File: studio/static/.gitkeep
````
1: Files placed here will be served by the Sanity server under the `/static`-prefix
````

## File: studio/.eslintrc
````
1: {
2:   "extends": "@sanity/eslint-config-studio"
3: }
````

## File: studio/.gitignore
````
 1: # See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
 2: 
 3: # Dependencies
 4: /node_modules
 5: /.pnp
 6: .pnp.js
 7: 
 8: # Compiled Sanity Studio
 9: /dist
10: 
11: # Temporary Sanity runtime, generated by the CLI on every dev server start
12: /.sanity
13: 
14: # Logs
15: /logs
16: *.log
17: 
18: # Coverage directory used by testing tools
19: /coverage
20: 
21: # Misc
22: .DS_Store
23: *.pem
24: 
25: # Typescript
26: *.tsbuildinfo
27: 
28: # Dotenv and similar local-only files
29: *.local
````

## File: studio/README.md
````markdown
 1: # Sanity Clean Content Studio
 2: 
 3: Congratulations, you have now installed the Sanity Content Studio, an open
 4: source real-time content editing environment connected to the Sanity backend.
 5: 
 6: Now you can do the following things:
 7: 
 8: - [Read “getting started” in the docs](https://www.sanity.io/docs/introduction/getting-started?utm_source=readme)
 9: - [Join the community Slack](https://slack.sanity.io/?utm_source=readme)
10: - [Extend and build plugins](https://www.sanity.io/docs/content-studio/extending?utm_source=readme)
````

## File: studio/sanity.cli.ts
````typescript
1: import {defineCliConfig} from 'sanity/cli'
2: export default defineCliConfig({
3:   api: {
4:     projectId: '41s7iutf',
5:     dataset: 'production',
6:   },
7: })
````

## File: studio/sanity.config.ts
````typescript
 1: import {defineConfig} from 'sanity'
 2: import {structureTool} from 'sanity/structure'
 3: import {schemaTypes} from './schemaTypes'
 4: export default defineConfig({
 5:   name: 'default',
 6:   title: 'dfweb-v4',
 7:   projectId: '41s7iutf',
 8:   dataset: 'production',
 9:   plugins: [structureTool()],
10:   schema: {
11:     types: schemaTypes,
12:   },
13: })
````

## File: studio/schema.json
````json
   1: [
   2:   {
   3:     "name": "sanity.imagePaletteSwatch",
   4:     "type": "type",
   5:     "value": {
   6:       "type": "object",
   7:       "attributes": {
   8:         "_type": {
   9:           "type": "objectAttribute",
  10:           "value": {
  11:             "type": "string",
  12:             "value": "sanity.imagePaletteSwatch"
  13:           }
  14:         },
  15:         "background": {
  16:           "type": "objectAttribute",
  17:           "value": {
  18:             "type": "string"
  19:           },
  20:           "optional": true
  21:         },
  22:         "foreground": {
  23:           "type": "objectAttribute",
  24:           "value": {
  25:             "type": "string"
  26:           },
  27:           "optional": true
  28:         },
  29:         "population": {
  30:           "type": "objectAttribute",
  31:           "value": {
  32:             "type": "number"
  33:           },
  34:           "optional": true
  35:         },
  36:         "title": {
  37:           "type": "objectAttribute",
  38:           "value": {
  39:             "type": "string"
  40:           },
  41:           "optional": true
  42:         }
  43:       }
  44:     }
  45:   },
  46:   {
  47:     "name": "sanity.imagePalette",
  48:     "type": "type",
  49:     "value": {
  50:       "type": "object",
  51:       "attributes": {
  52:         "_type": {
  53:           "type": "objectAttribute",
  54:           "value": {
  55:             "type": "string",
  56:             "value": "sanity.imagePalette"
  57:           }
  58:         },
  59:         "darkMuted": {
  60:           "type": "objectAttribute",
  61:           "value": {
  62:             "type": "inline",
  63:             "name": "sanity.imagePaletteSwatch"
  64:           },
  65:           "optional": true
  66:         },
  67:         "lightVibrant": {
  68:           "type": "objectAttribute",
  69:           "value": {
  70:             "type": "inline",
  71:             "name": "sanity.imagePaletteSwatch"
  72:           },
  73:           "optional": true
  74:         },
  75:         "darkVibrant": {
  76:           "type": "objectAttribute",
  77:           "value": {
  78:             "type": "inline",
  79:             "name": "sanity.imagePaletteSwatch"
  80:           },
  81:           "optional": true
  82:         },
  83:         "vibrant": {
  84:           "type": "objectAttribute",
  85:           "value": {
  86:             "type": "inline",
  87:             "name": "sanity.imagePaletteSwatch"
  88:           },
  89:           "optional": true
  90:         },
  91:         "dominant": {
  92:           "type": "objectAttribute",
  93:           "value": {
  94:             "type": "inline",
  95:             "name": "sanity.imagePaletteSwatch"
  96:           },
  97:           "optional": true
  98:         },
  99:         "lightMuted": {
 100:           "type": "objectAttribute",
 101:           "value": {
 102:             "type": "inline",
 103:             "name": "sanity.imagePaletteSwatch"
 104:           },
 105:           "optional": true
 106:         },
 107:         "muted": {
 108:           "type": "objectAttribute",
 109:           "value": {
 110:             "type": "inline",
 111:             "name": "sanity.imagePaletteSwatch"
 112:           },
 113:           "optional": true
 114:         }
 115:       }
 116:     }
 117:   },
 118:   {
 119:     "name": "sanity.imageDimensions",
 120:     "type": "type",
 121:     "value": {
 122:       "type": "object",
 123:       "attributes": {
 124:         "_type": {
 125:           "type": "objectAttribute",
 126:           "value": {
 127:             "type": "string",
 128:             "value": "sanity.imageDimensions"
 129:           }
 130:         },
 131:         "height": {
 132:           "type": "objectAttribute",
 133:           "value": {
 134:             "type": "number"
 135:           },
 136:           "optional": true
 137:         },
 138:         "width": {
 139:           "type": "objectAttribute",
 140:           "value": {
 141:             "type": "number"
 142:           },
 143:           "optional": true
 144:         },
 145:         "aspectRatio": {
 146:           "type": "objectAttribute",
 147:           "value": {
 148:             "type": "number"
 149:           },
 150:           "optional": true
 151:         }
 152:       }
 153:     }
 154:   },
 155:   {
 156:     "name": "sanity.fileAsset",
 157:     "type": "document",
 158:     "attributes": {
 159:       "_id": {
 160:         "type": "objectAttribute",
 161:         "value": {
 162:           "type": "string"
 163:         }
 164:       },
 165:       "_type": {
 166:         "type": "objectAttribute",
 167:         "value": {
 168:           "type": "string",
 169:           "value": "sanity.fileAsset"
 170:         }
 171:       },
 172:       "_createdAt": {
 173:         "type": "objectAttribute",
 174:         "value": {
 175:           "type": "string"
 176:         }
 177:       },
 178:       "_updatedAt": {
 179:         "type": "objectAttribute",
 180:         "value": {
 181:           "type": "string"
 182:         }
 183:       },
 184:       "_rev": {
 185:         "type": "objectAttribute",
 186:         "value": {
 187:           "type": "string"
 188:         }
 189:       },
 190:       "originalFilename": {
 191:         "type": "objectAttribute",
 192:         "value": {
 193:           "type": "string"
 194:         },
 195:         "optional": true
 196:       },
 197:       "label": {
 198:         "type": "objectAttribute",
 199:         "value": {
 200:           "type": "string"
 201:         },
 202:         "optional": true
 203:       },
 204:       "title": {
 205:         "type": "objectAttribute",
 206:         "value": {
 207:           "type": "string"
 208:         },
 209:         "optional": true
 210:       },
 211:       "description": {
 212:         "type": "objectAttribute",
 213:         "value": {
 214:           "type": "string"
 215:         },
 216:         "optional": true
 217:       },
 218:       "altText": {
 219:         "type": "objectAttribute",
 220:         "value": {
 221:           "type": "string"
 222:         },
 223:         "optional": true
 224:       },
 225:       "sha1hash": {
 226:         "type": "objectAttribute",
 227:         "value": {
 228:           "type": "string"
 229:         },
 230:         "optional": true
 231:       },
 232:       "extension": {
 233:         "type": "objectAttribute",
 234:         "value": {
 235:           "type": "string"
 236:         },
 237:         "optional": true
 238:       },
 239:       "mimeType": {
 240:         "type": "objectAttribute",
 241:         "value": {
 242:           "type": "string"
 243:         },
 244:         "optional": true
 245:       },
 246:       "size": {
 247:         "type": "objectAttribute",
 248:         "value": {
 249:           "type": "number"
 250:         },
 251:         "optional": true
 252:       },
 253:       "assetId": {
 254:         "type": "objectAttribute",
 255:         "value": {
 256:           "type": "string"
 257:         },
 258:         "optional": true
 259:       },
 260:       "uploadId": {
 261:         "type": "objectAttribute",
 262:         "value": {
 263:           "type": "string"
 264:         },
 265:         "optional": true
 266:       },
 267:       "path": {
 268:         "type": "objectAttribute",
 269:         "value": {
 270:           "type": "string"
 271:         },
 272:         "optional": true
 273:       },
 274:       "url": {
 275:         "type": "objectAttribute",
 276:         "value": {
 277:           "type": "string"
 278:         },
 279:         "optional": true
 280:       },
 281:       "source": {
 282:         "type": "objectAttribute",
 283:         "value": {
 284:           "type": "inline",
 285:           "name": "sanity.assetSourceData"
 286:         },
 287:         "optional": true
 288:       }
 289:     }
 290:   },
 291:   {
 292:     "name": "geopoint",
 293:     "type": "type",
 294:     "value": {
 295:       "type": "object",
 296:       "attributes": {
 297:         "_type": {
 298:           "type": "objectAttribute",
 299:           "value": {
 300:             "type": "string",
 301:             "value": "geopoint"
 302:           }
 303:         },
 304:         "lat": {
 305:           "type": "objectAttribute",
 306:           "value": {
 307:             "type": "number"
 308:           },
 309:           "optional": true
 310:         },
 311:         "lng": {
 312:           "type": "objectAttribute",
 313:           "value": {
 314:             "type": "number"
 315:           },
 316:           "optional": true
 317:         },
 318:         "alt": {
 319:           "type": "objectAttribute",
 320:           "value": {
 321:             "type": "number"
 322:           },
 323:           "optional": true
 324:         }
 325:       }
 326:     }
 327:   },
 328:   {
 329:     "name": "slug",
 330:     "type": "type",
 331:     "value": {
 332:       "type": "object",
 333:       "attributes": {
 334:         "_type": {
 335:           "type": "objectAttribute",
 336:           "value": {
 337:             "type": "string",
 338:             "value": "slug"
 339:           }
 340:         },
 341:         "current": {
 342:           "type": "objectAttribute",
 343:           "value": {
 344:             "type": "string"
 345:           },
 346:           "optional": true
 347:         },
 348:         "source": {
 349:           "type": "objectAttribute",
 350:           "value": {
 351:             "type": "string"
 352:           },
 353:           "optional": true
 354:         }
 355:       }
 356:     }
 357:   },
 358:   {
 359:     "name": "herocontent",
 360:     "type": "type",
 361:     "value": {
 362:       "type": "object",
 363:       "attributes": {
 364:         "_type": {
 365:           "type": "objectAttribute",
 366:           "value": {
 367:             "type": "string",
 368:             "value": "herocontent"
 369:           }
 370:         },
 371:         "text": {
 372:           "type": "objectAttribute",
 373:           "value": {
 374:             "type": "string"
 375:           },
 376:           "optional": true
 377:         }
 378:       }
 379:     }
 380:   },
 381:   {
 382:     "name": "pagecontent",
 383:     "type": "type",
 384:     "value": {
 385:       "type": "object",
 386:       "attributes": {
 387:         "_type": {
 388:           "type": "objectAttribute",
 389:           "value": {
 390:             "type": "string",
 391:             "value": "pagecontent"
 392:           }
 393:         },
 394:         "id": {
 395:           "type": "objectAttribute",
 396:           "value": {
 397:             "type": "number"
 398:           },
 399:           "optional": true
 400:         },
 401:         "title": {
 402:           "type": "objectAttribute",
 403:           "value": {
 404:             "type": "string"
 405:           },
 406:           "optional": true
 407:         },
 408:         "text": {
 409:           "type": "objectAttribute",
 410:           "value": {
 411:             "type": "array",
 412:             "of": {
 413:               "type": "object",
 414:               "attributes": {
 415:                 "children": {
 416:                   "type": "objectAttribute",
 417:                   "value": {
 418:                     "type": "array",
 419:                     "of": {
 420:                       "type": "object",
 421:                       "attributes": {
 422:                         "marks": {
 423:                           "type": "objectAttribute",
 424:                           "value": {
 425:                             "type": "array",
 426:                             "of": {
 427:                               "type": "string"
 428:                             }
 429:                           },
 430:                           "optional": true
 431:                         },
 432:                         "text": {
 433:                           "type": "objectAttribute",
 434:                           "value": {
 435:                             "type": "string"
 436:                           },
 437:                           "optional": true
 438:                         },
 439:                         "_type": {
 440:                           "type": "objectAttribute",
 441:                           "value": {
 442:                             "type": "string",
 443:                             "value": "span"
 444:                           }
 445:                         }
 446:                       },
 447:                       "rest": {
 448:                         "type": "object",
 449:                         "attributes": {
 450:                           "_key": {
 451:                             "type": "objectAttribute",
 452:                             "value": {
 453:                               "type": "string"
 454:                             }
 455:                           }
 456:                         }
 457:                       }
 458:                     }
 459:                   },
 460:                   "optional": true
 461:                 },
 462:                 "style": {
 463:                   "type": "objectAttribute",
 464:                   "value": {
 465:                     "type": "union",
 466:                     "of": [
 467:                       {
 468:                         "type": "string",
 469:                         "value": "normal"
 470:                       },
 471:                       {
 472:                         "type": "string",
 473:                         "value": "h1"
 474:                       },
 475:                       {
 476:                         "type": "string",
 477:                         "value": "h2"
 478:                       },
 479:                       {
 480:                         "type": "string",
 481:                         "value": "h3"
 482:                       },
 483:                       {
 484:                         "type": "string",
 485:                         "value": "h4"
 486:                       },
 487:                       {
 488:                         "type": "string",
 489:                         "value": "h5"
 490:                       },
 491:                       {
 492:                         "type": "string",
 493:                         "value": "h6"
 494:                       },
 495:                       {
 496:                         "type": "string",
 497:                         "value": "blockquote"
 498:                       }
 499:                     ]
 500:                   },
 501:                   "optional": true
 502:                 },
 503:                 "listItem": {
 504:                   "type": "objectAttribute",
 505:                   "value": {
 506:                     "type": "union",
 507:                     "of": [
 508:                       {
 509:                         "type": "string",
 510:                         "value": "bullet"
 511:                       },
 512:                       {
 513:                         "type": "string",
 514:                         "value": "number"
 515:                       }
 516:                     ]
 517:                   },
 518:                   "optional": true
 519:                 },
 520:                 "markDefs": {
 521:                   "type": "objectAttribute",
 522:                   "value": {
 523:                     "type": "array",
 524:                     "of": {
 525:                       "type": "object",
 526:                       "attributes": {
 527:                         "href": {
 528:                           "type": "objectAttribute",
 529:                           "value": {
 530:                             "type": "string"
 531:                           },
 532:                           "optional": true
 533:                         },
 534:                         "_type": {
 535:                           "type": "objectAttribute",
 536:                           "value": {
 537:                             "type": "string",
 538:                             "value": "link"
 539:                           }
 540:                         }
 541:                       },
 542:                       "rest": {
 543:                         "type": "object",
 544:                         "attributes": {
 545:                           "_key": {
 546:                             "type": "objectAttribute",
 547:                             "value": {
 548:                               "type": "string"
 549:                             }
 550:                           }
 551:                         }
 552:                       }
 553:                     }
 554:                   },
 555:                   "optional": true
 556:                 },
 557:                 "level": {
 558:                   "type": "objectAttribute",
 559:                   "value": {
 560:                     "type": "number"
 561:                   },
 562:                   "optional": true
 563:                 },
 564:                 "_type": {
 565:                   "type": "objectAttribute",
 566:                   "value": {
 567:                     "type": "string",
 568:                     "value": "block"
 569:                   }
 570:                 }
 571:               },
 572:               "rest": {
 573:                 "type": "object",
 574:                 "attributes": {
 575:                   "_key": {
 576:                     "type": "objectAttribute",
 577:                     "value": {
 578:                       "type": "string"
 579:                     }
 580:                   }
 581:                 }
 582:               }
 583:             }
 584:           },
 585:           "optional": true
 586:         }
 587:       }
 588:     }
 589:   },
 590:   {
 591:     "name": "link",
 592:     "type": "type",
 593:     "value": {
 594:       "type": "object",
 595:       "attributes": {
 596:         "_type": {
 597:           "type": "objectAttribute",
 598:           "value": {
 599:             "type": "string",
 600:             "value": "link"
 601:           }
 602:         },
 603:         "title": {
 604:           "type": "objectAttribute",
 605:           "value": {
 606:             "type": "string"
 607:           },
 608:           "optional": true
 609:         },
 610:         "url": {
 611:           "type": "objectAttribute",
 612:           "value": {
 613:             "type": "string"
 614:           },
 615:           "optional": true
 616:         },
 617:         "external": {
 618:           "type": "objectAttribute",
 619:           "value": {
 620:             "type": "boolean"
 621:           },
 622:           "optional": true
 623:         }
 624:       }
 625:     }
 626:   },
 627:   {
 628:     "name": "settings",
 629:     "type": "document",
 630:     "attributes": {
 631:       "_id": {
 632:         "type": "objectAttribute",
 633:         "value": {
 634:           "type": "string"
 635:         }
 636:       },
 637:       "_type": {
 638:         "type": "objectAttribute",
 639:         "value": {
 640:           "type": "string",
 641:           "value": "settings"
 642:         }
 643:       },
 644:       "_createdAt": {
 645:         "type": "objectAttribute",
 646:         "value": {
 647:           "type": "string"
 648:         }
 649:       },
 650:       "_updatedAt": {
 651:         "type": "objectAttribute",
 652:         "value": {
 653:           "type": "string"
 654:         }
 655:       },
 656:       "_rev": {
 657:         "type": "objectAttribute",
 658:         "value": {
 659:           "type": "string"
 660:         }
 661:       },
 662:       "footerCopyrightText": {
 663:         "type": "objectAttribute",
 664:         "value": {
 665:           "type": "string"
 666:         },
 667:         "optional": true
 668:       }
 669:     }
 670:   },
 671:   {
 672:     "name": "navigation",
 673:     "type": "document",
 674:     "attributes": {
 675:       "_id": {
 676:         "type": "objectAttribute",
 677:         "value": {
 678:           "type": "string"
 679:         }
 680:       },
 681:       "_type": {
 682:         "type": "objectAttribute",
 683:         "value": {
 684:           "type": "string",
 685:           "value": "navigation"
 686:         }
 687:       },
 688:       "_createdAt": {
 689:         "type": "objectAttribute",
 690:         "value": {
 691:           "type": "string"
 692:         }
 693:       },
 694:       "_updatedAt": {
 695:         "type": "objectAttribute",
 696:         "value": {
 697:           "type": "string"
 698:         }
 699:       },
 700:       "_rev": {
 701:         "type": "objectAttribute",
 702:         "value": {
 703:           "type": "string"
 704:         }
 705:       },
 706:       "title": {
 707:         "type": "objectAttribute",
 708:         "value": {
 709:           "type": "string"
 710:         },
 711:         "optional": true
 712:       },
 713:       "links": {
 714:         "type": "objectAttribute",
 715:         "value": {
 716:           "type": "array",
 717:           "of": {
 718:             "type": "object",
 719:             "attributes": {
 720:               "title": {
 721:                 "type": "objectAttribute",
 722:                 "value": {
 723:                   "type": "string"
 724:                 },
 725:                 "optional": true
 726:               },
 727:               "name": {
 728:                 "type": "objectAttribute",
 729:                 "value": {
 730:                   "type": "string"
 731:                 },
 732:                 "optional": true
 733:               },
 734:               "hash": {
 735:                 "type": "objectAttribute",
 736:                 "value": {
 737:                   "type": "string"
 738:                 },
 739:                 "optional": true
 740:               },
 741:               "href": {
 742:                 "type": "objectAttribute",
 743:                 "value": {
 744:                   "type": "string"
 745:                 },
 746:                 "optional": true
 747:               },
 748:               "externalLink": {
 749:                 "type": "objectAttribute",
 750:                 "value": {
 751:                   "type": "boolean"
 752:                 },
 753:                 "optional": true
 754:               },
 755:               "icon": {
 756:                 "type": "objectAttribute",
 757:                 "value": {
 758:                   "type": "union",
 759:                   "of": [
 760:                     {
 761:                       "type": "string",
 762:                       "value": "RiHome4Line"
 763:                     },
 764:                     {
 765:                       "type": "string",
 766:                       "value": "RiProjectorLine"
 767:                     },
 768:                     {
 769:                       "type": "string",
 770:                       "value": "RiFileList3Line"
 771:                     },
 772:                     {
 773:                       "type": "string",
 774:                       "value": "RiGithubLine"
 775:                     },
 776:                     {
 777:                       "type": "string",
 778:                       "value": "RiMailLine"
 779:                     }
 780:                   ]
 781:                 },
 782:                 "optional": true
 783:               }
 784:             },
 785:             "rest": {
 786:               "type": "object",
 787:               "attributes": {
 788:                 "_key": {
 789:                   "type": "objectAttribute",
 790:                   "value": {
 791:                     "type": "string"
 792:                   }
 793:                 }
 794:               }
 795:             }
 796:           }
 797:         },
 798:         "optional": true
 799:       }
 800:     }
 801:   },
 802:   {
 803:     "name": "cv",
 804:     "type": "document",
 805:     "attributes": {
 806:       "_id": {
 807:         "type": "objectAttribute",
 808:         "value": {
 809:           "type": "string"
 810:         }
 811:       },
 812:       "_type": {
 813:         "type": "objectAttribute",
 814:         "value": {
 815:           "type": "string",
 816:           "value": "cv"
 817:         }
 818:       },
 819:       "_createdAt": {
 820:         "type": "objectAttribute",
 821:         "value": {
 822:           "type": "string"
 823:         }
 824:       },
 825:       "_updatedAt": {
 826:         "type": "objectAttribute",
 827:         "value": {
 828:           "type": "string"
 829:         }
 830:       },
 831:       "_rev": {
 832:         "type": "objectAttribute",
 833:         "value": {
 834:           "type": "string"
 835:         }
 836:       },
 837:       "keyQualifications": {
 838:         "type": "objectAttribute",
 839:         "value": {
 840:           "type": "array",
 841:           "of": {
 842:             "type": "string"
 843:           }
 844:         },
 845:         "optional": true
 846:       },
 847:       "experience": {
 848:         "type": "objectAttribute",
 849:         "value": {
 850:           "type": "array",
 851:           "of": {
 852:             "type": "object",
 853:             "attributes": {
 854:               "period": {
 855:                 "type": "objectAttribute",
 856:                 "value": {
 857:                   "type": "string"
 858:                 },
 859:                 "optional": true
 860:               },
 861:               "company": {
 862:                 "type": "objectAttribute",
 863:                 "value": {
 864:                   "type": "string"
 865:                 },
 866:                 "optional": true
 867:               },
 868:               "role": {
 869:                 "type": "objectAttribute",
 870:                 "value": {
 871:                   "type": "string"
 872:                 },
 873:                 "optional": true
 874:               },
 875:               "description": {
 876:                 "type": "objectAttribute",
 877:                 "value": {
 878:                   "type": "string"
 879:                 },
 880:                 "optional": true
 881:               }
 882:             },
 883:             "rest": {
 884:               "type": "object",
 885:               "attributes": {
 886:                 "_key": {
 887:                   "type": "objectAttribute",
 888:                   "value": {
 889:                     "type": "string"
 890:                   }
 891:                 }
 892:               }
 893:             }
 894:           }
 895:         },
 896:         "optional": true
 897:       },
 898:       "education": {
 899:         "type": "objectAttribute",
 900:         "value": {
 901:           "type": "array",
 902:           "of": {
 903:             "type": "object",
 904:             "attributes": {
 905:               "period": {
 906:                 "type": "objectAttribute",
 907:                 "value": {
 908:                   "type": "string"
 909:                 },
 910:                 "optional": true
 911:               },
 912:               "institution": {
 913:                 "type": "objectAttribute",
 914:                 "value": {
 915:                   "type": "string"
 916:                 },
 917:                 "optional": true
 918:               },
 919:               "degree": {
 920:                 "type": "objectAttribute",
 921:                 "value": {
 922:                   "type": "string"
 923:                 },
 924:                 "optional": true
 925:               },
 926:               "description": {
 927:                 "type": "objectAttribute",
 928:                 "value": {
 929:                   "type": "string"
 930:                 },
 931:                 "optional": true
 932:               }
 933:             },
 934:             "rest": {
 935:               "type": "object",
 936:               "attributes": {
 937:                 "_key": {
 938:                   "type": "objectAttribute",
 939:                   "value": {
 940:                     "type": "string"
 941:                   }
 942:                 }
 943:               }
 944:             }
 945:           }
 946:         },
 947:         "optional": true
 948:       },
 949:       "volunteerWork": {
 950:         "type": "objectAttribute",
 951:         "value": {
 952:           "type": "array",
 953:           "of": {
 954:             "type": "object",
 955:             "attributes": {
 956:               "period": {
 957:                 "type": "objectAttribute",
 958:                 "value": {
 959:                   "type": "string"
 960:                 },
 961:                 "optional": true
 962:               },
 963:               "organization": {
 964:                 "type": "objectAttribute",
 965:                 "value": {
 966:                   "type": "string"
 967:                 },
 968:                 "optional": true
 969:               },
 970:               "role": {
 971:                 "type": "objectAttribute",
 972:                 "value": {
 973:                   "type": "string"
 974:                 },
 975:                 "optional": true
 976:               },
 977:               "description": {
 978:                 "type": "objectAttribute",
 979:                 "value": {
 980:                   "type": "string"
 981:                 },
 982:                 "optional": true
 983:               }
 984:             },
 985:             "rest": {
 986:               "type": "object",
 987:               "attributes": {
 988:                 "_key": {
 989:                   "type": "objectAttribute",
 990:                   "value": {
 991:                     "type": "string"
 992:                   }
 993:                 }
 994:               }
 995:             }
 996:           }
 997:         },
 998:         "optional": true
 999:       }
1000:     }
1001:   },
1002:   {
1003:     "name": "page",
1004:     "type": "document",
1005:     "attributes": {
1006:       "_id": {
1007:         "type": "objectAttribute",
1008:         "value": {
1009:           "type": "string"
1010:         }
1011:       },
1012:       "_type": {
1013:         "type": "objectAttribute",
1014:         "value": {
1015:           "type": "string",
1016:           "value": "page"
1017:         }
1018:       },
1019:       "_createdAt": {
1020:         "type": "objectAttribute",
1021:         "value": {
1022:           "type": "string"
1023:         }
1024:       },
1025:       "_updatedAt": {
1026:         "type": "objectAttribute",
1027:         "value": {
1028:           "type": "string"
1029:         }
1030:       },
1031:       "_rev": {
1032:         "type": "objectAttribute",
1033:         "value": {
1034:           "type": "string"
1035:         }
1036:       },
1037:       "title": {
1038:         "type": "objectAttribute",
1039:         "value": {
1040:           "type": "string"
1041:         },
1042:         "optional": true
1043:       },
1044:       "header": {
1045:         "type": "objectAttribute",
1046:         "value": {
1047:           "type": "string"
1048:         },
1049:         "optional": true
1050:       },
1051:       "hero": {
1052:         "type": "objectAttribute",
1053:         "value": {
1054:           "type": "array",
1055:           "of": {
1056:             "type": "object",
1057:             "attributes": {
1058:               "_key": {
1059:                 "type": "objectAttribute",
1060:                 "value": {
1061:                   "type": "string"
1062:                 }
1063:               }
1064:             },
1065:             "rest": {
1066:               "type": "inline",
1067:               "name": "herocontent"
1068:             }
1069:           }
1070:         },
1071:         "optional": true
1072:       },
1073:       "content": {
1074:         "type": "objectAttribute",
1075:         "value": {
1076:           "type": "array",
1077:           "of": {
1078:             "type": "object",
1079:             "attributes": {
1080:               "_key": {
1081:                 "type": "objectAttribute",
1082:                 "value": {
1083:                   "type": "string"
1084:                 }
1085:               }
1086:             },
1087:             "rest": {
1088:               "type": "inline",
1089:               "name": "pagecontent"
1090:             }
1091:           }
1092:         },
1093:         "optional": true
1094:       }
1095:     }
1096:   },
1097:   {
1098:     "name": "project",
1099:     "type": "document",
1100:     "attributes": {
1101:       "_id": {
1102:         "type": "objectAttribute",
1103:         "value": {
1104:           "type": "string"
1105:         }
1106:       },
1107:       "_type": {
1108:         "type": "objectAttribute",
1109:         "value": {
1110:           "type": "string",
1111:           "value": "project"
1112:         }
1113:       },
1114:       "_createdAt": {
1115:         "type": "objectAttribute",
1116:         "value": {
1117:           "type": "string"
1118:         }
1119:       },
1120:       "_updatedAt": {
1121:         "type": "objectAttribute",
1122:         "value": {
1123:           "type": "string"
1124:         }
1125:       },
1126:       "_rev": {
1127:         "type": "objectAttribute",
1128:         "value": {
1129:           "type": "string"
1130:         }
1131:       },
1132:       "id": {
1133:         "type": "objectAttribute",
1134:         "value": {
1135:           "type": "number"
1136:         },
1137:         "optional": true
1138:       },
1139:       "name": {
1140:         "type": "objectAttribute",
1141:         "value": {
1142:           "type": "string"
1143:         },
1144:         "optional": true
1145:       },
1146:       "description": {
1147:         "type": "objectAttribute",
1148:         "value": {
1149:           "type": "string"
1150:         },
1151:         "optional": true
1152:       },
1153:       "subdescription": {
1154:         "type": "objectAttribute",
1155:         "value": {
1156:           "type": "string"
1157:         },
1158:         "optional": true
1159:       },
1160:       "projectcategory": {
1161:         "type": "objectAttribute",
1162:         "value": {
1163:           "type": "object",
1164:           "attributes": {
1165:             "_ref": {
1166:               "type": "objectAttribute",
1167:               "value": {
1168:                 "type": "string"
1169:               }
1170:             },
1171:             "_type": {
1172:               "type": "objectAttribute",
1173:               "value": {
1174:                 "type": "string",
1175:                 "value": "reference"
1176:               }
1177:             },
1178:             "_weak": {
1179:               "type": "objectAttribute",
1180:               "value": {
1181:                 "type": "boolean"
1182:               },
1183:               "optional": true
1184:             }
1185:           },
1186:           "dereferencesTo": "category"
1187:         },
1188:         "optional": true
1189:       },
1190:       "urlwww": {
1191:         "type": "objectAttribute",
1192:         "value": {
1193:           "type": "array",
1194:           "of": {
1195:             "type": "object",
1196:             "attributes": {
1197:               "_key": {
1198:                 "type": "objectAttribute",
1199:                 "value": {
1200:                   "type": "string"
1201:                 }
1202:               }
1203:             },
1204:             "rest": {
1205:               "type": "inline",
1206:               "name": "link"
1207:             }
1208:           }
1209:         },
1210:         "optional": true
1211:       },
1212:       "urlgithub": {
1213:         "type": "objectAttribute",
1214:         "value": {
1215:           "type": "array",
1216:           "of": {
1217:             "type": "object",
1218:             "attributes": {
1219:               "_key": {
1220:                 "type": "objectAttribute",
1221:                 "value": {
1222:                   "type": "string"
1223:                 }
1224:               }
1225:             },
1226:             "rest": {
1227:               "type": "inline",
1228:               "name": "link"
1229:             }
1230:           }
1231:         },
1232:         "optional": true
1233:       },
1234:       "projectimage": {
1235:         "type": "objectAttribute",
1236:         "value": {
1237:           "type": "object",
1238:           "attributes": {
1239:             "asset": {
1240:               "type": "objectAttribute",
1241:               "value": {
1242:                 "type": "object",
1243:                 "attributes": {
1244:                   "_ref": {
1245:                     "type": "objectAttribute",
1246:                     "value": {
1247:                       "type": "string"
1248:                     }
1249:                   },
1250:                   "_type": {
1251:                     "type": "objectAttribute",
1252:                     "value": {
1253:                       "type": "string",
1254:                       "value": "reference"
1255:                     }
1256:                   },
1257:                   "_weak": {
1258:                     "type": "objectAttribute",
1259:                     "value": {
1260:                       "type": "boolean"
1261:                     },
1262:                     "optional": true
1263:                   }
1264:                 },
1265:                 "dereferencesTo": "sanity.imageAsset"
1266:               },
1267:               "optional": true
1268:             },
1269:             "hotspot": {
1270:               "type": "objectAttribute",
1271:               "value": {
1272:                 "type": "inline",
1273:                 "name": "sanity.imageHotspot"
1274:               },
1275:               "optional": true
1276:             },
1277:             "crop": {
1278:               "type": "objectAttribute",
1279:               "value": {
1280:                 "type": "inline",
1281:                 "name": "sanity.imageCrop"
1282:               },
1283:               "optional": true
1284:             },
1285:             "_type": {
1286:               "type": "objectAttribute",
1287:               "value": {
1288:                 "type": "string",
1289:                 "value": "image"
1290:               }
1291:             }
1292:           }
1293:         },
1294:         "optional": true
1295:       },
1296:       "featured": {
1297:         "type": "objectAttribute",
1298:         "value": {
1299:           "type": "boolean"
1300:         },
1301:         "optional": true
1302:       },
1303:       "featureOrder": {
1304:         "type": "objectAttribute",
1305:         "value": {
1306:           "type": "number"
1307:         },
1308:         "optional": true
1309:       }
1310:     }
1311:   },
1312:   {
1313:     "name": "sanity.imageCrop",
1314:     "type": "type",
1315:     "value": {
1316:       "type": "object",
1317:       "attributes": {
1318:         "_type": {
1319:           "type": "objectAttribute",
1320:           "value": {
1321:             "type": "string",
1322:             "value": "sanity.imageCrop"
1323:           }
1324:         },
1325:         "top": {
1326:           "type": "objectAttribute",
1327:           "value": {
1328:             "type": "number"
1329:           },
1330:           "optional": true
1331:         },
1332:         "bottom": {
1333:           "type": "objectAttribute",
1334:           "value": {
1335:             "type": "number"
1336:           },
1337:           "optional": true
1338:         },
1339:         "left": {
1340:           "type": "objectAttribute",
1341:           "value": {
1342:             "type": "number"
1343:           },
1344:           "optional": true
1345:         },
1346:         "right": {
1347:           "type": "objectAttribute",
1348:           "value": {
1349:             "type": "number"
1350:           },
1351:           "optional": true
1352:         }
1353:       }
1354:     }
1355:   },
1356:   {
1357:     "name": "sanity.imageHotspot",
1358:     "type": "type",
1359:     "value": {
1360:       "type": "object",
1361:       "attributes": {
1362:         "_type": {
1363:           "type": "objectAttribute",
1364:           "value": {
1365:             "type": "string",
1366:             "value": "sanity.imageHotspot"
1367:           }
1368:         },
1369:         "x": {
1370:           "type": "objectAttribute",
1371:           "value": {
1372:             "type": "number"
1373:           },
1374:           "optional": true
1375:         },
1376:         "y": {
1377:           "type": "objectAttribute",
1378:           "value": {
1379:             "type": "number"
1380:           },
1381:           "optional": true
1382:         },
1383:         "height": {
1384:           "type": "objectAttribute",
1385:           "value": {
1386:             "type": "number"
1387:           },
1388:           "optional": true
1389:         },
1390:         "width": {
1391:           "type": "objectAttribute",
1392:           "value": {
1393:             "type": "number"
1394:           },
1395:           "optional": true
1396:         }
1397:       }
1398:     }
1399:   },
1400:   {
1401:     "name": "sanity.imageAsset",
1402:     "type": "document",
1403:     "attributes": {
1404:       "_id": {
1405:         "type": "objectAttribute",
1406:         "value": {
1407:           "type": "string"
1408:         }
1409:       },
1410:       "_type": {
1411:         "type": "objectAttribute",
1412:         "value": {
1413:           "type": "string",
1414:           "value": "sanity.imageAsset"
1415:         }
1416:       },
1417:       "_createdAt": {
1418:         "type": "objectAttribute",
1419:         "value": {
1420:           "type": "string"
1421:         }
1422:       },
1423:       "_updatedAt": {
1424:         "type": "objectAttribute",
1425:         "value": {
1426:           "type": "string"
1427:         }
1428:       },
1429:       "_rev": {
1430:         "type": "objectAttribute",
1431:         "value": {
1432:           "type": "string"
1433:         }
1434:       },
1435:       "originalFilename": {
1436:         "type": "objectAttribute",
1437:         "value": {
1438:           "type": "string"
1439:         },
1440:         "optional": true
1441:       },
1442:       "label": {
1443:         "type": "objectAttribute",
1444:         "value": {
1445:           "type": "string"
1446:         },
1447:         "optional": true
1448:       },
1449:       "title": {
1450:         "type": "objectAttribute",
1451:         "value": {
1452:           "type": "string"
1453:         },
1454:         "optional": true
1455:       },
1456:       "description": {
1457:         "type": "objectAttribute",
1458:         "value": {
1459:           "type": "string"
1460:         },
1461:         "optional": true
1462:       },
1463:       "altText": {
1464:         "type": "objectAttribute",
1465:         "value": {
1466:           "type": "string"
1467:         },
1468:         "optional": true
1469:       },
1470:       "sha1hash": {
1471:         "type": "objectAttribute",
1472:         "value": {
1473:           "type": "string"
1474:         },
1475:         "optional": true
1476:       },
1477:       "extension": {
1478:         "type": "objectAttribute",
1479:         "value": {
1480:           "type": "string"
1481:         },
1482:         "optional": true
1483:       },
1484:       "mimeType": {
1485:         "type": "objectAttribute",
1486:         "value": {
1487:           "type": "string"
1488:         },
1489:         "optional": true
1490:       },
1491:       "size": {
1492:         "type": "objectAttribute",
1493:         "value": {
1494:           "type": "number"
1495:         },
1496:         "optional": true
1497:       },
1498:       "assetId": {
1499:         "type": "objectAttribute",
1500:         "value": {
1501:           "type": "string"
1502:         },
1503:         "optional": true
1504:       },
1505:       "uploadId": {
1506:         "type": "objectAttribute",
1507:         "value": {
1508:           "type": "string"
1509:         },
1510:         "optional": true
1511:       },
1512:       "path": {
1513:         "type": "objectAttribute",
1514:         "value": {
1515:           "type": "string"
1516:         },
1517:         "optional": true
1518:       },
1519:       "url": {
1520:         "type": "objectAttribute",
1521:         "value": {
1522:           "type": "string"
1523:         },
1524:         "optional": true
1525:       },
1526:       "metadata": {
1527:         "type": "objectAttribute",
1528:         "value": {
1529:           "type": "inline",
1530:           "name": "sanity.imageMetadata"
1531:         },
1532:         "optional": true
1533:       },
1534:       "source": {
1535:         "type": "objectAttribute",
1536:         "value": {
1537:           "type": "inline",
1538:           "name": "sanity.assetSourceData"
1539:         },
1540:         "optional": true
1541:       }
1542:     }
1543:   },
1544:   {
1545:     "name": "sanity.assetSourceData",
1546:     "type": "type",
1547:     "value": {
1548:       "type": "object",
1549:       "attributes": {
1550:         "_type": {
1551:           "type": "objectAttribute",
1552:           "value": {
1553:             "type": "string",
1554:             "value": "sanity.assetSourceData"
1555:           }
1556:         },
1557:         "name": {
1558:           "type": "objectAttribute",
1559:           "value": {
1560:             "type": "string"
1561:           },
1562:           "optional": true
1563:         },
1564:         "id": {
1565:           "type": "objectAttribute",
1566:           "value": {
1567:             "type": "string"
1568:           },
1569:           "optional": true
1570:         },
1571:         "url": {
1572:           "type": "objectAttribute",
1573:           "value": {
1574:             "type": "string"
1575:           },
1576:           "optional": true
1577:         }
1578:       }
1579:     }
1580:   },
1581:   {
1582:     "name": "sanity.imageMetadata",
1583:     "type": "type",
1584:     "value": {
1585:       "type": "object",
1586:       "attributes": {
1587:         "_type": {
1588:           "type": "objectAttribute",
1589:           "value": {
1590:             "type": "string",
1591:             "value": "sanity.imageMetadata"
1592:           }
1593:         },
1594:         "location": {
1595:           "type": "objectAttribute",
1596:           "value": {
1597:             "type": "inline",
1598:             "name": "geopoint"
1599:           },
1600:           "optional": true
1601:         },
1602:         "dimensions": {
1603:           "type": "objectAttribute",
1604:           "value": {
1605:             "type": "inline",
1606:             "name": "sanity.imageDimensions"
1607:           },
1608:           "optional": true
1609:         },
1610:         "palette": {
1611:           "type": "objectAttribute",
1612:           "value": {
1613:             "type": "inline",
1614:             "name": "sanity.imagePalette"
1615:           },
1616:           "optional": true
1617:         },
1618:         "lqip": {
1619:           "type": "objectAttribute",
1620:           "value": {
1621:             "type": "string"
1622:           },
1623:           "optional": true
1624:         },
1625:         "blurHash": {
1626:           "type": "objectAttribute",
1627:           "value": {
1628:             "type": "string"
1629:           },
1630:           "optional": true
1631:         },
1632:         "hasAlpha": {
1633:           "type": "objectAttribute",
1634:           "value": {
1635:             "type": "boolean"
1636:           },
1637:           "optional": true
1638:         },
1639:         "isOpaque": {
1640:           "type": "objectAttribute",
1641:           "value": {
1642:             "type": "boolean"
1643:           },
1644:           "optional": true
1645:         }
1646:       }
1647:     }
1648:   },
1649:   {
1650:     "name": "category",
1651:     "type": "document",
1652:     "attributes": {
1653:       "_id": {
1654:         "type": "objectAttribute",
1655:         "value": {
1656:           "type": "string"
1657:         }
1658:       },
1659:       "_type": {
1660:         "type": "objectAttribute",
1661:         "value": {
1662:           "type": "string",
1663:           "value": "category"
1664:         }
1665:       },
1666:       "_createdAt": {
1667:         "type": "objectAttribute",
1668:         "value": {
1669:           "type": "string"
1670:         }
1671:       },
1672:       "_updatedAt": {
1673:         "type": "objectAttribute",
1674:         "value": {
1675:           "type": "string"
1676:         }
1677:       },
1678:       "_rev": {
1679:         "type": "objectAttribute",
1680:         "value": {
1681:           "type": "string"
1682:         }
1683:       },
1684:       "id": {
1685:         "type": "objectAttribute",
1686:         "value": {
1687:           "type": "number"
1688:         },
1689:         "optional": true
1690:       },
1691:       "name": {
1692:         "type": "objectAttribute",
1693:         "value": {
1694:           "type": "string"
1695:         },
1696:         "optional": true
1697:       }
1698:     }
1699:   }
1700: ]
````

## File: studio/schema.ts
````typescript
 1: // Documents
 2: import project from './schemaTypes/documents/project'
 3: import category from './schemaTypes/documents/category'
 4: import page from './schemaTypes/documents/page'
 5: import navigation from './schemaTypes/documents/navigation'
 6: // Objects
 7: import link from './schemaTypes/objects/link'
 8: import pagecontent from './schemaTypes/objects/pagecontent'
 9: import herocontent from './schemaTypes/objects/herocontent'
10: export const types = [project, category, page, navigation, link, pagecontent, herocontent]
````

## File: studio/tsconfig.json
````json
 1: {
 2:   "compilerOptions": {
 3:     "target": "es2017",
 4:     "lib": ["dom", "dom.iterable", "esnext"],
 5:     "allowJs": true,
 6:     "skipLibCheck": true,
 7:     "strict": true,
 8:     "forceConsistentCasingInFileNames": true,
 9:     "noEmit": true,
10:     "esModuleInterop": true,
11:     "module": "esnext",
12:     "moduleResolution": "node",
13:     "resolveJsonModule": true,
14:     "isolatedModules": true,
15:     "jsx": "preserve",
16:     "incremental": true
17:   },
18:   "include": ["**/*.ts", "**/*.tsx"],
19:   "exclude": ["node_modules"]
20: }
````

## File: .eslintrc-custom-rules.ts
````typescript
 1: export interface RuleMeta {
 2:   type: string;
 3:   docs: {
 4:     description: string;
 5:     category: string;
 6:     recommended: boolean;
 7:   };
 8: }
 9: export interface Rule {
10:   meta: RuleMeta;
11:   create: (context: any) => any;
12: }
13: export interface ESLintCustomRules {
14:   meta: {
15:     name: string;
16:     version: string;
17:   };
18:   rules: {
19:     [key: string]: Rule;
20:   };
21: }
22: const eslintCustomRules: ESLintCustomRules = {
23:   meta: {
24:     name: "custom-test-rules",
25:     version: "1.0.0",
26:   },
27:   rules: {
28:     "arrange-act-assert": {
29:       meta: {
30:         type: "suggestion",
31:         docs: {
32:           description: "enforce AAA pattern in tests",
33:           category: "Best Practices",
34:           recommended: true,
35:         },
36:       },
37:       create(context) {
38:         return {
39:           CallExpression(node) {
40:             if (node.callee.name === "it" || node.callee.name === "test") {
41:               const testFn = node.arguments[1];
42:               if (testFn && testFn.type === "ArrowFunctionExpression") {
43:                 const comments = context
44:                   .getSourceCode()
45:                   .getCommentsBefore(testFn.body);
46:                 const hasAAA = comments.some(
47:                   (comment) =>
48:                     comment.value.includes("Arrange") ||
49:                     comment.value.includes("Act") ||
50:                     comment.value.includes("Assert"),
51:                 );
52:                 if (!hasAAA) {
53:                   context.report({
54:                     node,
55:                     message: "Test should follow AAA pattern with comments",
56:                   });
57:                 }
58:               }
59:             }
60:           },
61:         };
62:       },
63:     },
64:   },
65: };
66: export default eslintCustomRules;
````

## File: .eslintrc.json
````json
  1: {
  2:   "extends": [
  3:     "next/core-web-vitals",
  4:     "eslint:recommended",
  5:     "plugin:@typescript-eslint/recommended",
  6:     "plugin:react/recommended",
  7:     "plugin:react-hooks/recommended",
  8:     "plugin:jsx-a11y/recommended",
  9:     "plugin:jest/recommended",
 10:     "plugin:jest/style",
 11:     "plugin:testing-library/react",
 12:     "plugin:test-rules/recommended",
 13:     "plugin:prettier/recommended"
 14:   ],
 15:   "plugins": [
 16:     "@typescript-eslint",
 17:     "react",
 18:     "jsx-a11y",
 19:     "jest",
 20:     "testing-library",
 21:     "test-rules"
 22:   ],
 23:   "overrides": [
 24:     {
 25:       "files": ["**/*.test.ts", "**/*.test.tsx"],
 26:       "rules": {
 27:         "@typescript-eslint/no-explicit-any": "error"
 28:       }
 29:     },
 30:     {
 31:       "files": ["./src/e2e/cypress/**/*.ts", "./src/e2e/cypress/**/*.tsx"],
 32:       "rules": {
 33:         "test-rules/arrange-act-assert": "off",
 34:         "jest/expect-expect": "off"
 35:       }
 36:     },
 37:     {
 38:       "files": ["./src/e2e/playwright/**/*.ts"],
 39:       "rules": {
 40:         "test-rules/arrange-act-assert": "off",
 41:         "testing-library/prefer-screen-queries": "off"
 42:       }
 43:     },
 44:     {
 45:       "files": ["./src/e2e/cypress/support/component.ts"],
 46:       "rules": {
 47:         "@typescript-eslint/triple-slash-reference": "off"
 48:       }
 49:     }
 50:   ],
 51:   "parser": "@typescript-eslint/parser",
 52:   "rules": {
 53:     "jest/expect-expect": "error",
 54:     "jest/no-disabled-tests": "warn",
 55:     "jest/no-focused-tests": "error",
 56:     "jest/no-identical-title": "error",
 57:     "jest/valid-expect": "error",
 58:     "jest/prefer-to-have-length": "warn",
 59:     "jest/prefer-to-be": "warn",
 60:     "jest/no-commented-out-tests": "warn",
 61:     "jest/prefer-strict-equal": "warn",
 62:     "jest/prefer-spy-on": "error",
 63:     "jest/prefer-todo": "warn",
 64:     "testing-library/no-node-access": "warn",
 65:     "testing-library/await-async-queries": "error",
 66:     "testing-library/no-await-sync-queries": "error",
 67:     "testing-library/no-container": "error",
 68:     "testing-library/no-debugging-utils": "warn",
 69:     "testing-library/prefer-screen-queries": "error",
 70:     "react/react-in-jsx-scope": "off",
 71:     "react/prop-types": "off",
 72:     "@typescript-eslint/explicit-module-boundary-types": "off",
 73:     "@typescript-eslint/no-unused-vars": [
 74:       "error",
 75:       { "argsIgnorePattern": "^_" }
 76:     ],
 77:     "@typescript-eslint/no-explicit-any": "error",
 78:     "no-console": ["warn", { "allow": ["warn", "error"] }],
 79:     "prefer-const": "error",
 80:     "jsx-a11y/anchor-is-valid": [
 81:       "error",
 82:       {
 83:         "components": ["Link"],
 84:         "specialLink": ["hrefLeft", "hrefRight"],
 85:         "aspects": ["invalidHref", "preferButton"]
 86:       }
 87:     ],
 88:     "react-hooks/rules-of-hooks": "error",
 89:     "react-hooks/exhaustive-deps": "warn",
 90:     "jsx-a11y/label-has-associated-control": [
 91:       "error",
 92:       {
 93:         "labelComponents": [],
 94:         "labelAttributes": [],
 95:         "controlComponents": [],
 96:         "assert": "either",
 97:         "depth": 25
 98:       }
 99:     ]
100:   },
101:   "settings": {
102:     "react": {
103:       "version": "detect"
104:     }
105:   },
106:   "ignorePatterns": ["node_modules/", "build/", ".next/", "coverage/"]
107: }
````

## File: .gitattributes
````
1: # Auto detect text files and perform LF normalization
2: * text=auto
3: 
4: # Treat PDFs as binary files
5: *.pdf binary
````

## File: .gitignore
````
 1: # See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
 2: 
 3: # dependencies
 4: /node_modules
 5: /.pnp
 6: .pnp.js
 7: 
 8: # testing
 9: /coverage
10: 
11: # next.js
12: /.next/
13: /out/
14: 
15: # production
16: /build
17: 
18: # misc
19: .DS_Store
20: *.pem
21: 
22: # debug
23: npm-debug.log*
24: yarn-debug.log*
25: yarn-error.log*
26: 
27: # local env files
28: .env.local
29: .env.development.local
30: .env.test.local
31: .env.production.local
32: 
33: # general .env file
34: .env
35: 
36: # vercel
37: .vercel
38: 
39: # typescript
40: *.tsbuildinfo
41: 
42: #storybook build
43: storybook-static
44: build-storybook.log
45: 
46: #sanity
47: sanity.json
48: 
49: #cypress
50: *.mp4
51: /cypress/videos
52: /cypress/screenshots
53: 
54: #next.js
55: next-env.d.ts
56: /test-results/
57: /playwright-report/
58: /playwright/.cache/
59: screenshot.png
60: node_modules/
61: /blob-report/
62: 
63: # lighthouse
64: /.lighthouseci
65: /.stryker-tmp
66: /stryker-tmp
67: DOCS/git_history.txt
````

## File: .pa11yci.json
````json
 1: {
 2:   "defaults": {
 3:     "standard": "WCAG2AA",
 4:     "timeout": 30000,
 5:     "wait": 1000,
 6:     "viewport": {
 7:       "width": 1280,
 8:       "height": 800
 9:     },
10:     "ignore": ["WCAG2AA.Principle1.Guideline1_4.1_4_3.G18.Fail"],
11:     "chromeLaunchConfig": {
12:       "args": ["--no-sandbox"]
13:     }
14:   },
15:   "urls": [
16:     {
17:       "url": "http://localhost:3000",
18:       "screenCapture": "pa11y-reports/home.png"
19:     },
20:     {
21:       "url": "http://localhost:3000/cv",
22:       "screenCapture": "pa11y-reports/cv.png"
23:     },
24:     {
25:       "url": "http://localhost:3000/prosjekter",
26:       "screenCapture": "pa11y-reports/prosjekter.png"
27:     },
28:     {
29:       "url": "http://localhost:3000/kontakt",
30:       "screenCapture": "pa11y-reports/kontakt.png"
31:     }
32:   ]
33: }
````

## File: codecov.yml
````yaml
1: coverage:
2:   status:
3:     project:
4:       default:
5:         target: 90.0
6:         threshold: 20.0
````

## File: cypress.config.ts
````typescript
 1: import { defineConfig } from "cypress";
 2: export default defineConfig({
 3:   viewportWidth: 1920,
 4:   viewportHeight: 1080,
 5:   e2e: {
 6:     supportFile: "src/e2e/cypress/support/e2e.ts",
 7:     specPattern: "src/e2e/cypress/e2e/**/*.cy.{js,jsx,ts,tsx}",
 8:     setupNodeEvents(on, config) {
 9:       // Register the 'log' and 'table' tasks
10:       on("task", {
11:         log(message) {
12:           console.log(message);
13:           return null;
14:         },
15:         table(data) {
16:           console.table(data);
17:           return null;
18:         },
19:       });
20:       return config;
21:     },
22:     baseUrl: "http://localhost:3000",
23:   },
24:   component: {
25:     devServer: {
26:       framework: "next",
27:       bundler: "webpack",
28:     },
29:     supportFile: "src/e2e/cypress/support/component.ts",
30:     specPattern: "src/e2e/cypress/component/**/*.cy.{js,jsx,ts,tsx}",
31:     indexHtmlFile: "src/e2e/cypress/support/component-index.html",
32:   },
33: });
````

## File: cypress.d.ts
````typescript
1: import { mount } from "cypress/react";
2: declare global {
3:   namespace Cypress {
4:     interface Chainable {
5:       mount: typeof mount;
6:     }
7:   }
8: }
````

## File: gitmojis.json
````json
  1: {
  2:   "$schema": "https://gitmoji.dev/api/gitmojis/schema",
  3:   "gitmojis": [
  4:     {
  5:       "emoji": "🎨",
  6:       "entity": "&#x1f3a8;",
  7:       "code": ":art:",
  8:       "description": "Improve structure / format of the code.",
  9:       "name": "art",
 10:       "semver": null
 11:     },
 12:     {
 13:       "emoji": "⚡️",
 14:       "entity": "&#x26a1;",
 15:       "code": ":zap:",
 16:       "description": "Improve performance.",
 17:       "name": "zap",
 18:       "semver": "patch"
 19:     },
 20:     {
 21:       "emoji": "🔥",
 22:       "entity": "&#x1f525;",
 23:       "code": ":fire:",
 24:       "description": "Remove code or files.",
 25:       "name": "fire",
 26:       "semver": null
 27:     },
 28:     {
 29:       "emoji": "🐛",
 30:       "entity": "&#x1f41b;",
 31:       "code": ":bug:",
 32:       "description": "Fix a bug.",
 33:       "name": "bug",
 34:       "semver": "patch"
 35:     },
 36:     {
 37:       "emoji": "🚑️",
 38:       "entity": "&#128657;",
 39:       "code": ":ambulance:",
 40:       "description": "Critical hotfix.",
 41:       "name": "ambulance",
 42:       "semver": "patch"
 43:     },
 44:     {
 45:       "emoji": "✨",
 46:       "entity": "&#x2728;",
 47:       "code": ":sparkles:",
 48:       "description": "Introduce new features.",
 49:       "name": "sparkles",
 50:       "semver": "minor"
 51:     },
 52:     {
 53:       "emoji": "📝",
 54:       "entity": "&#x1f4dd;",
 55:       "code": ":memo:",
 56:       "description": "Add or update documentation.",
 57:       "name": "memo",
 58:       "semver": null
 59:     },
 60:     {
 61:       "emoji": "🚀",
 62:       "entity": "&#x1f680;",
 63:       "code": ":rocket:",
 64:       "description": "Deploy stuff.",
 65:       "name": "rocket",
 66:       "semver": null
 67:     },
 68:     {
 69:       "emoji": "💄",
 70:       "entity": "&#ff99cc;",
 71:       "code": ":lipstick:",
 72:       "description": "Add or update the UI and style files.",
 73:       "name": "lipstick",
 74:       "semver": "patch"
 75:     },
 76:     {
 77:       "emoji": "🎉",
 78:       "entity": "&#127881;",
 79:       "code": ":tada:",
 80:       "description": "Begin a project.",
 81:       "name": "tada",
 82:       "semver": null
 83:     },
 84:     {
 85:       "emoji": "✅",
 86:       "entity": "&#x2705;",
 87:       "code": ":white_check_mark:",
 88:       "description": "Add, update, or pass tests.",
 89:       "name": "white-check-mark",
 90:       "semver": null
 91:     },
 92:     {
 93:       "emoji": "🔒️",
 94:       "entity": "&#x1f512;",
 95:       "code": ":lock:",
 96:       "description": "Fix security or privacy issues.",
 97:       "name": "lock",
 98:       "semver": "patch"
 99:     },
100:     {
101:       "emoji": "🔐",
102:       "entity": "&#x1f510;",
103:       "code": ":closed_lock_with_key:",
104:       "description": "Add or update secrets.",
105:       "name": "closed-lock-with-key",
106:       "semver": null
107:     },
108:     {
109:       "emoji": "🔖",
110:       "entity": "&#x1f516;",
111:       "code": ":bookmark:",
112:       "description": "Release / Version tags.",
113:       "name": "bookmark",
114:       "semver": null
115:     },
116:     {
117:       "emoji": "🚨",
118:       "entity": "&#x1f6a8;",
119:       "code": ":rotating_light:",
120:       "description": "Fix compiler / linter warnings.",
121:       "name": "rotating-light",
122:       "semver": null
123:     },
124:     {
125:       "emoji": "🚧",
126:       "entity": "&#x1f6a7;",
127:       "code": ":construction:",
128:       "description": "Work in progress.",
129:       "name": "construction",
130:       "semver": null
131:     },
132:     {
133:       "emoji": "💚",
134:       "entity": "&#x1f49a;",
135:       "code": ":green_heart:",
136:       "description": "Fix CI Build.",
137:       "name": "green-heart",
138:       "semver": null
139:     },
140:     {
141:       "emoji": "⬇️",
142:       "entity": "⬇️",
143:       "code": ":arrow_down:",
144:       "description": "Downgrade dependencies.",
145:       "name": "arrow-down",
146:       "semver": "patch"
147:     },
148:     {
149:       "emoji": "⬆️",
150:       "entity": "⬆️",
151:       "code": ":arrow_up:",
152:       "description": "Upgrade dependencies.",
153:       "name": "arrow-up",
154:       "semver": "patch"
155:     },
156:     {
157:       "emoji": "📌",
158:       "entity": "&#x1F4CC;",
159:       "code": ":pushpin:",
160:       "description": "Pin dependencies to specific versions.",
161:       "name": "pushpin",
162:       "semver": "patch"
163:     },
164:     {
165:       "emoji": "👷",
166:       "entity": "&#x1f477;",
167:       "code": ":construction_worker:",
168:       "description": "Add or update CI build system.",
169:       "name": "construction-worker",
170:       "semver": null
171:     },
172:     {
173:       "emoji": "📈",
174:       "entity": "&#x1F4C8;",
175:       "code": ":chart_with_upwards_trend:",
176:       "description": "Add or update analytics or track code.",
177:       "name": "chart-with-upwards-trend",
178:       "semver": "patch"
179:     },
180:     {
181:       "emoji": "♻️",
182:       "entity": "&#x267b;",
183:       "code": ":recycle:",
184:       "description": "Refactor code.",
185:       "name": "recycle",
186:       "semver": null
187:     },
188:     {
189:       "emoji": "➕",
190:       "entity": "&#10133;",
191:       "code": ":heavy_plus_sign:",
192:       "description": "Add a dependency.",
193:       "name": "heavy-plus-sign",
194:       "semver": "patch"
195:     },
196:     {
197:       "emoji": "➖",
198:       "entity": "&#10134;",
199:       "code": ":heavy_minus_sign:",
200:       "description": "Remove a dependency.",
201:       "name": "heavy-minus-sign",
202:       "semver": "patch"
203:     },
204:     {
205:       "emoji": "🔧",
206:       "entity": "&#x1f527;",
207:       "code": ":wrench:",
208:       "description": "Add or update configuration files.",
209:       "name": "wrench",
210:       "semver": "patch"
211:     },
212:     {
213:       "emoji": "🔨",
214:       "entity": "&#128296;",
215:       "code": ":hammer:",
216:       "description": "Add or update development scripts.",
217:       "name": "hammer",
218:       "semver": null
219:     },
220:     {
221:       "emoji": "🌐",
222:       "entity": "&#127760;",
223:       "code": ":globe_with_meridians:",
224:       "description": "Internationalization and localization.",
225:       "name": "globe-with-meridians",
226:       "semver": "patch"
227:     },
228:     {
229:       "emoji": "✏️",
230:       "entity": "&#59161;",
231:       "code": ":pencil2:",
232:       "description": "Fix typos.",
233:       "name": "pencil2",
234:       "semver": "patch"
235:     },
236:     {
237:       "emoji": "💩",
238:       "entity": "&#58613;",
239:       "code": ":poop:",
240:       "description": "Write bad code that needs to be improved.",
241:       "name": "poop",
242:       "semver": null
243:     },
244:     {
245:       "emoji": "⏪️",
246:       "entity": "&#9194;",
247:       "code": ":rewind:",
248:       "description": "Revert changes.",
249:       "name": "rewind",
250:       "semver": "patch"
251:     },
252:     {
253:       "emoji": "🔀",
254:       "entity": "&#128256;",
255:       "code": ":twisted_rightwards_arrows:",
256:       "description": "Merge branches.",
257:       "name": "twisted-rightwards-arrows",
258:       "semver": null
259:     },
260:     {
261:       "emoji": "📦️",
262:       "entity": "&#1F4E6;",
263:       "code": ":package:",
264:       "description": "Add or update compiled files or packages.",
265:       "name": "package",
266:       "semver": "patch"
267:     },
268:     {
269:       "emoji": "👽️",
270:       "entity": "&#1F47D;",
271:       "code": ":alien:",
272:       "description": "Update code due to external API changes.",
273:       "name": "alien",
274:       "semver": "patch"
275:     },
276:     {
277:       "emoji": "🚚",
278:       "entity": "&#1F69A;",
279:       "code": ":truck:",
280:       "description": "Move or rename resources (e.g.: files, paths, routes).",
281:       "name": "truck",
282:       "semver": null
283:     },
284:     {
285:       "emoji": "📄",
286:       "entity": "&#1F4C4;",
287:       "code": ":page_facing_up:",
288:       "description": "Add or update license.",
289:       "name": "page-facing-up",
290:       "semver": null
291:     },
292:     {
293:       "emoji": "💥",
294:       "entity": "&#x1f4a5;",
295:       "code": ":boom:",
296:       "description": "Introduce breaking changes.",
297:       "name": "boom",
298:       "semver": "major"
299:     },
300:     {
301:       "emoji": "🍱",
302:       "entity": "&#1F371",
303:       "code": ":bento:",
304:       "description": "Add or update assets.",
305:       "name": "bento",
306:       "semver": "patch"
307:     },
308:     {
309:       "emoji": "♿️",
310:       "entity": "&#9855;",
311:       "code": ":wheelchair:",
312:       "description": "Improve accessibility.",
313:       "name": "wheelchair",
314:       "semver": "patch"
315:     },
316:     {
317:       "emoji": "💡",
318:       "entity": "&#128161;",
319:       "code": ":bulb:",
320:       "description": "Add or update comments in source code.",
321:       "name": "bulb",
322:       "semver": null
323:     },
324:     {
325:       "emoji": "🍻",
326:       "entity": "&#x1f37b;",
327:       "code": ":beers:",
328:       "description": "Write code drunkenly.",
329:       "name": "beers",
330:       "semver": null
331:     },
332:     {
333:       "emoji": "💬",
334:       "entity": "&#128172;",
335:       "code": ":speech_balloon:",
336:       "description": "Add or update text and literals.",
337:       "name": "speech-balloon",
338:       "semver": "patch"
339:     },
340:     {
341:       "emoji": "🗃️",
342:       "entity": "&#128451;",
343:       "code": ":card_file_box:",
344:       "description": "Perform database related changes.",
345:       "name": "card-file-box",
346:       "semver": "patch"
347:     },
348:     {
349:       "emoji": "🔊",
350:       "entity": "&#128266;",
351:       "code": ":loud_sound:",
352:       "description": "Add or update logs.",
353:       "name": "loud-sound",
354:       "semver": null
355:     },
356:     {
357:       "emoji": "🔇",
358:       "entity": "&#128263;",
359:       "code": ":mute:",
360:       "description": "Remove logs.",
361:       "name": "mute",
362:       "semver": null
363:     },
364:     {
365:       "emoji": "👥",
366:       "entity": "&#128101;",
367:       "code": ":busts_in_silhouette:",
368:       "description": "Add or update contributor(s).",
369:       "name": "busts-in-silhouette",
370:       "semver": null
371:     },
372:     {
373:       "emoji": "🚸",
374:       "entity": "&#128696;",
375:       "code": ":children_crossing:",
376:       "description": "Improve user experience / usability.",
377:       "name": "children-crossing",
378:       "semver": "patch"
379:     },
380:     {
381:       "emoji": "🏗️",
382:       "entity": "&#1f3d7;",
383:       "code": ":building_construction:",
384:       "description": "Make architectural changes.",
385:       "name": "building-construction",
386:       "semver": null
387:     },
388:     {
389:       "emoji": "📱",
390:       "entity": "&#128241;",
391:       "code": ":iphone:",
392:       "description": "Work on responsive design.",
393:       "name": "iphone",
394:       "semver": "patch"
395:     },
396:     {
397:       "emoji": "🤡",
398:       "entity": "&#129313;",
399:       "code": ":clown_face:",
400:       "description": "Mock things.",
401:       "name": "clown-face",
402:       "semver": null
403:     },
404:     {
405:       "emoji": "🥚",
406:       "entity": "&#129370;",
407:       "code": ":egg:",
408:       "description": "Add or update an easter egg.",
409:       "name": "egg",
410:       "semver": "patch"
411:     },
412:     {
413:       "emoji": "🙈",
414:       "entity": "&#8bdfe7;",
415:       "code": ":see_no_evil:",
416:       "description": "Add or update a .gitignore file.",
417:       "name": "see-no-evil",
418:       "semver": null
419:     },
420:     {
421:       "emoji": "📸",
422:       "entity": "&#128248;",
423:       "code": ":camera_flash:",
424:       "description": "Add or update snapshots.",
425:       "name": "camera-flash",
426:       "semver": null
427:     },
428:     {
429:       "emoji": "⚗️",
430:       "entity": "&#x2697;",
431:       "code": ":alembic:",
432:       "description": "Perform experiments.",
433:       "name": "alembic",
434:       "semver": "patch"
435:     },
436:     {
437:       "emoji": "🔍️",
438:       "entity": "&#128269;",
439:       "code": ":mag:",
440:       "description": "Improve SEO.",
441:       "name": "mag",
442:       "semver": "patch"
443:     },
444:     {
445:       "emoji": "🏷️",
446:       "entity": "&#127991;",
447:       "code": ":label:",
448:       "description": "Add or update types.",
449:       "name": "label",
450:       "semver": "patch"
451:     },
452:     {
453:       "emoji": "🌱",
454:       "entity": "&#127793;",
455:       "code": ":seedling:",
456:       "description": "Add or update seed files.",
457:       "name": "seedling",
458:       "semver": null
459:     },
460:     {
461:       "emoji": "🚩",
462:       "entity": "&#x1F6A9;",
463:       "code": ":triangular_flag_on_post:",
464:       "description": "Add, update, or remove feature flags.",
465:       "name": "triangular-flag-on-post",
466:       "semver": "patch"
467:     },
468:     {
469:       "emoji": "🥅",
470:       "entity": "&#x1F945;",
471:       "code": ":goal_net:",
472:       "description": "Catch errors.",
473:       "name": "goal-net",
474:       "semver": "patch"
475:     },
476:     {
477:       "emoji": "💫",
478:       "entity": "&#x1f4ab;",
479:       "code": ":dizzy:",
480:       "description": "Add or update animations and transitions.",
481:       "name": "dizzy",
482:       "semver": "patch"
483:     },
484:     {
485:       "emoji": "🗑️",
486:       "entity": "&#x1F5D1;",
487:       "code": ":wastebasket:",
488:       "description": "Deprecate code that needs to be cleaned up.",
489:       "name": "wastebasket",
490:       "semver": "patch"
491:     },
492:     {
493:       "emoji": "🛂",
494:       "entity": "&#x1F6C2;",
495:       "code": ":passport_control:",
496:       "description": "Work on code related to authorization, roles and permissions.",
497:       "name": "passport-control",
498:       "semver": "patch"
499:     },
500:     {
501:       "emoji": "🩹",
502:       "entity": "&#x1FA79;",
503:       "code": ":adhesive_bandage:",
504:       "description": "Simple fix for a non-critical issue.",
505:       "name": "adhesive-bandage",
506:       "semver": "patch"
507:     },
508:     {
509:       "emoji": "🧐",
510:       "entity": "&#x1F9D0;",
511:       "code": ":monocle_face:",
512:       "description": "Data exploration/inspection.",
513:       "name": "monocle-face",
514:       "semver": null
515:     },
516:     {
517:       "emoji": "⚰️",
518:       "entity": "&#x26B0;",
519:       "code": ":coffin:",
520:       "description": "Remove dead code.",
521:       "name": "coffin",
522:       "semver": null
523:     },
524:     {
525:       "emoji": "🧪",
526:       "entity": "&#x1F9EA;",
527:       "code": ":test_tube:",
528:       "description": "Add a failing test.",
529:       "name": "test-tube",
530:       "semver": null
531:     },
532:     {
533:       "emoji": "👔",
534:       "entity": "&#128084;",
535:       "code": ":necktie:",
536:       "description": "Add or update business logic.",
537:       "name": "necktie",
538:       "semver": "patch"
539:     },
540:     {
541:       "emoji": "🩺",
542:       "entity": "&#x1FA7A;",
543:       "code": ":stethoscope:",
544:       "description": "Add or update healthcheck.",
545:       "name": "stethoscope",
546:       "semver": null
547:     },
548:     {
549:       "emoji": "🧱",
550:       "entity": "&#x1f9f1;",
551:       "code": ":bricks:",
552:       "description": "Infrastructure related changes.",
553:       "name": "bricks",
554:       "semver": null
555:     },
556:     {
557:       "emoji": "🧑‍💻",
558:       "entity": "&#129489;&#8205;&#128187;",
559:       "code": ":technologist:",
560:       "description": "Improve developer experience.",
561:       "name": "technologist",
562:       "semver": null
563:     },
564:     {
565:       "emoji": "💸",
566:       "entity": "&#x1F4B8;",
567:       "code": ":money_with_wings:",
568:       "description": "Add sponsorships or money related infrastructure.",
569:       "name": "money-with-wings",
570:       "semver": null
571:     },
572:     {
573:       "emoji": "🧵",
574:       "entity": "&#x1F9F5;",
575:       "code": ":thread:",
576:       "description": "Add or update code related to multithreading or concurrency.",
577:       "name": "thread",
578:       "semver": null
579:     },
580:     {
581:       "emoji": "🦺",
582:       "entity": "&#x1F9BA;",
583:       "code": ":safety_vest:",
584:       "description": "Add or update code related to validation.",
585:       "name": "safety-vest",
586:       "semver": null
587:     }
588:   ]
589: }
````

## File: jest.config.ts
````typescript
 1: import type { Config } from "jest";
 2: import nextJest from "next/jest";
 3: const createJestConfig = nextJest({
 4:   dir: "./",
 5: });
 6: const customJestConfig: Config = {
 7:   preset: "ts-jest/presets/js-with-babel-esm",
 8:   setupFilesAfterEnv: ["<rootDir>/jest.setup.ts"],
 9:   testPathIgnorePatterns: ["<rootDir>/src/e2e/"],
10:   testEnvironment: "jest-environment-jsdom",
11:   moduleNameMapper: {
12:     "@/(.*)": "<rootDir>/src/$1",
13:     "^src/utils$": "<rootDir>/src/__mocks__/utils",
14:     "^src/(.*)$": "<rootDir>/src/$1",
15:   },
16:   collectCoverageFrom: [
17:     "src/components/*.{js,jsx,ts,tsx}",
18:     "!src/lib/**/*.*",
19:     "!src/pages/**/*.*",
20:     "!src/utils/**/*.*",
21:   ],
22: };
23: export default createJestConfig(customJestConfig);
````

## File: jest.setup.ts
````typescript
 1: /// <reference types="jest" />
 2: import "@testing-library/jest-dom";
 3: import "jest-extended";
 4: import { checkAAAPattern } from "./src/utils/test-utils";
 5: import fs from "fs/promises";
 6: declare global {
 7:   namespace jest {
 8:     interface Matchers<R> {
 9:       // Testing Library matchers
10:       toBeInTheDocument(): R;
11:       toHaveTextContent(text: string): R;
12:       toBeVisible(): R;
13:       toBeDisabled(): R;
14:       toBeEnabled(): R;
15:       toHaveAttribute(attr: string, value?: string): R;
16:       toHaveClass(...classNames: string[]): R;
17:       toHaveStyle(css: Record<string, unknown>): R;
18:       toContainElement(element: Element | null): R;
19:       toContainHTML(html: string): R;
20:       toHaveLength(length: number): R;
21:       // Jest matchers
22:       toBe(expected: unknown): R;
23:       toEqual(expected: unknown): R;
24:       toStrictEqual(expected: unknown): R;
25:       toBeNull(): R;
26:       toBeDefined(): R;
27:       toBeUndefined(): R;
28:       toBeTruthy(): R;
29:       toBeFalsy(): R;
30:       toBeGreaterThan(number: number): R;
31:       toBeLessThan(number: number): R;
32:       toBeLessThanOrEqual(number: number): R;
33:       toBeGreaterThanOrEqual(number: number): R;
34:       toContain(item: unknown): R;
35:       toHaveBeenCalled(): R;
36:       toHaveBeenCalledTimes(number: number): R;
37:       toHaveBeenCalledWith(...args: unknown[]): R;
38:       toHaveBeenCalledExactly(times: number): R;
39:       toThrow(error?: string | Error | RegExp): R;
40:       toMatch(regexpOrString: string | RegExp): R;
41:       rejects: {
42:         toThrow(error?: string | Error | RegExp): Promise<R>;
43:       };
44:     }
45:   }
46: }
47: function getTestPath(): string | undefined {
48:   return (
49:     expect as unknown as { getState: () => { testPath?: string } }
50:   ).getState().testPath;
51: }
52: beforeEach(async () => {
53:   const testPath = getTestPath();
54:   if (
55:     testPath &&
56:     !testPath.includes("test-rule.test.tsx") &&
57:     !testPath.includes("node_modules")
58:   ) {
59:     try {
60:       const content = await fs.readFile(testPath, "utf8");
61:       const result = checkAAAPattern(content);
62:       if (!result.isValid) {
63:         throw new Error(
64:           `Test file is missing required AAA comments: ${result.missingComments.join(", ")}\n` +
65:             "Each test should include:\n" +
66:             "// Arrange - Set up test data and conditions\n" +
67:             "// Act - Perform the action being tested\n" +
68:             "// Assert - Verify the results",
69:         );
70:       }
71:     } catch (error) {
72:       if (error instanceof Error) {
73:         throw new Error(`Failed to validate AAA pattern: ${error.message}`);
74:       }
75:       throw error;
76:     }
77:   }
78: });
````

## File: LICENSE
````
 1: MIT License
 2: 
 3: Copyright (c) 2025 Daniel Fjeldstad
 4: 
 5: Permission is hereby granted, free of charge, to any person obtaining a copy
 6: of this software and associated documentation files (the "Software"), to deal
 7: in the Software without restriction, including without limitation the rights
 8: to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 9: copies of the Software, and to permit persons to whom the Software is
10: furnished to do so, subject to the following conditions:
11: 
12: The above copyright notice and this permission notice shall be included in all
13: copies or substantial portions of the Software.
14: 
15: THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
16: IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
17: FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
18: AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
19: LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
20: OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
21: SOFTWARE.
````

## File: lighthouserc.json
````json
 1: {
 2:   "ci": {
 3:     "collect": {
 4:       "numberOfRuns": 1,
 5:       "url": [
 6:         "http://localhost:3000/",
 7:         "http://localhost:3000/cv",
 8:         "http://localhost:3000/prosjekter",
 9:         "http://localhost:3000/kontakt"
10:       ],
11:       "port": 3000,
12:       "settings": {
13:         "onlyCategories": [
14:           "performance",
15:           "accessibility",
16:           "best-practices",
17:           "seo"
18:         ],
19:         "skipAudits": ["uses-http2"]
20:       }
21:     },
22:     "upload": {
23:       "target": "temporary-public-storage"
24:     },
25:     "assert": {
26:       "assertions": {
27:         "categories:performance": ["error", { "minScore": 0.4 }],
28:         "categories:accessibility": ["error", { "minScore": 0.9 }],
29:         "categories:best-practices": ["error", { "minScore": 0.9 }],
30:         "categories:seo": ["error", { "minScore": 0.9 }],
31:         "uses-responsive-images": ["error", { "maxWastedBytes": 102300 }],
32:         "uses-http2": "off"
33:       }
34:     }
35:   }
36: }
````

## File: next.config.ts
````typescript
 1: import type { NextConfig } from "next";
 2: const cspDirectives = {
 3:   "default-src": ["'self'"],
 4:   "script-src": [
 5:     "'self'",
 6:     "'unsafe-eval'",
 7:     "'unsafe-inline'",
 8:     "https://va.vercel-scripts.com",
 9:   ],
10:   "style-src": ["'self'", "'unsafe-inline'"],
11:   "img-src": ["'self'", "blob:", "data:", "https://cdn.sanity.io"],
12:   "font-src": ["'self'"],
13:   "object-src": ["'none'"],
14:   "base-uri": ["'self'"],
15:   "form-action": ["'self'"],
16:   "frame-ancestors": ["'self'", "https://presentasjon.dfweb.no"],
17:   "connect-src": [
18:     "'self'",
19:     "https://api.emailjs.com",
20:     "https://va.vercel-scripts.com",
21:   ],
22: };
23: const buildCspHeader = (directives: Record<string, string[]>) =>
24:   Object.entries(directives)
25:     .map(([key, values]) => `${key} ${values.join(" ")};`)
26:     .join(" ") + " upgrade-insecure-requests;";
27: const nextConfig: NextConfig = {
28:   images: {
29:     remotePatterns: [
30:       {
31:         protocol: "https",
32:         hostname: "cdn.sanity.io",
33:       },
34:     ],
35:   },
36:   async headers() {
37:     return [
38:       {
39:         source: "/:path*",
40:         headers: [
41:           {
42:             key: "X-Frame-Options",
43:             value: "ALLOW-FROM https://presentasjon.dfweb.no",
44:           },
45:           { key: "X-Content-Type-Options", value: "nosniff" },
46:           {
47:             key: "Content-Security-Policy",
48:             value: buildCspHeader(cspDirectives),
49:           },
50:         ],
51:       },
52:     ];
53:   },
54: };
55: export default nextConfig;
````

## File: playwright.config.ts
````typescript
 1: import { defineConfig, devices } from "@playwright/test";
 2: /**
 3:  * See https://playwright.dev/docs/test-configuration.
 4:  */
 5: export default defineConfig({
 6:   testDir: "./src/e2e/playwright",
 7:   /* Run tests in files in parallel */
 8:   fullyParallel: true,
 9:   /* Fail the build on CI if you accidentally left test.only in the source code. */
10:   forbidOnly: !!process.env.CI,
11:   /* Retry on CI only */
12:   retries: process.env.CI ? 2 : 0,
13:   /* Opt out of parallel tests on CI. */
14:   workers: process.env.CI ? 1 : undefined,
15:   /* Reporter to use. See https://playwright.dev/docs/test-reporters */
16:   reporter: "html",
17:   /* Shared settings for all the projects below. See https://playwright.dev/docs/api/class-testoptions. */
18:   use: {
19:     /* Base URL to use in actions like `await page.goto('/')`. */
20:     baseURL: "http://127.0.0.1:3000",
21:     //baseURL: 'https://www.dfweb.no',
22:     /* Collect trace when retrying the failed test. See https://playwright.dev/docs/trace-viewer */
23:     trace: "on-first-retry",
24:   },
25:   /* Configure projects for major browsers */
26:   projects: [
27:     {
28:       name: "chromium",
29:       use: { ...devices["Desktop Chrome"] },
30:     },
31:     {
32:       name: "firefox",
33:       use: { ...devices["Desktop Firefox"] },
34:     },
35:     /* Test against mobile viewports. */
36:     /*
37:     {
38:       name: "Mobile Chrome",
39:       use: { ...devices["Pixel 5"] },
40:     },
41:     */
42:     // {
43:     //   name: 'Mobile Safari',
44:     //   use: { ...devices['iPhone 12'] },
45:     // },
46:     /* Test against branded browsers. */
47:     // {
48:     //   name: 'Microsoft Edge',
49:     //   use: { ...devices['Desktop Edge'], channel: 'msedge' },
50:     // },
51:     // {
52:     //   name: 'Google Chrome',
53:     //   use: { ...devices['Desktop Chrome'], channel: 'chrome' },
54:     // },
55:   ],
56:   /* Run your local dev server before starting the tests */
57:   // webServer: {
58:   //   command: 'npm run start',
59:   //   url: 'http://127.0.0.1:3000',
60:   //   reuseExistingServer: !process.env.CI,
61:   // },
62: });
````

## File: postcss.config.mjs
````
1: /** @type {import('postcss-load-config').Config} */
2: const config = {
3:   plugins: {
4:     "@tailwindcss/postcss": {},
5:   },
6: };
7: 
8: export default config;
````

## File: README.md
````markdown
  1: # Dfweb.no Portfolio Version 4
  2: 
  3: [![Cypress](https://img.shields.io/github/actions/workflow/status/w3bdesign/dfweb-v4/cypress.yml?branch=main&style=flat-square&logo=cypress&label=Cypress)](https://github.com/w3bdesign/dfweb-v4/actions/workflows/cypress.yml)
  4: [![Lighthouse](https://img.shields.io/github/actions/workflow/status/w3bdesign/dfweb-v4/lighthouse.yml?branch=main&style=flat-square&logo=lighthouse&label=Lighthouse)](https://github.com/w3bdesign/dfweb-v4/actions/workflows/lighthouse.yml)
  5: [![Quality](https://img.shields.io/codacy/grade/3e803ad0f17146b78bbed9850eb1461f?style=flat-square&logo=codacy&label=Quality)](https://app.codacy.com/gh/w3bdesign/dfweb-v4/dashboard?utm_source=gh&utm_medium=referral&utm_content=&utm_campaign=Badge_grade) [
  6: ![Coverage](https://img.shields.io/codecov/c/github/w3bdesign/dfweb-v4?token=AHQW8WQ6U8&style=flat-square&logo=codecov&label=Coverage)](https://codecov.io/gh/w3bdesign/dfweb-v4)
  7: [![A11y](https://img.shields.io/github/actions/workflow/status/w3bdesign/dfweb-v4/pa11y.yml?branch=main&style=flat-square&logo=data:image/svg%2bxml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJtMTAuNCAxMGgtLjVjLjEuMy4xLjcuMSAxIDAgMi4yLTEuOCA0LTQgNHMtNC0xLjgtNC00YzAtMi4xIDEuNi0zLjggMy43LTRsLS4yLTFjLTIuNi40LTQuNSAyLjQtNC41IDUgMCAyLjggMi4yIDUgNSA1IDIuNCAwIDQuNC0xLjcgNC45LTMuOXoiLz48cGF0aCBkPSJtMTMuMSAxMy0xLjEtNWgtNC4xbC0uMi0xaDMuM3YtMWgtMy41bC0uNi0yLjVjLjktLjEgMS42LS44IDEuNi0xLjcgMC0xLS44LTEuOC0xLjgtMS44cy0xLjcuOC0xLjcgMS44YzAgLjYuMyAxLjIuOCAxLjVsMS4zIDUuN2g0LjFsMS4yIDVoMi42di0xeiIvPjwvZz48L3N2Zz4%3D&label=A11y)](https://github.com/w3bdesign/dfweb-v4/actions/workflows/pa11y.yml)
  8: 
  9: Fourth version of my personal portfolio website with Next.js, Motion,
 10: Sanity.io and Typescript.
 11: 
 12: ## Table of Contents
 13: 
 14: - [Live URL](#live-url)
 15: - [Frontend (Next.js)](#frontend-nextjs)
 16: - [Backend (Sanity headless CMS)](#backend-sanity-headless-cms)
 17: - [Google Lighthouse](#google-lighthouse)
 18: - [Features](#features)
 19:   - [General](#general)
 20:   - [Design](#design)
 21:   - [Accessibility](#accessibility)
 22:   - [Devops and Code quality](#devops-and-code-quality)
 23:   - [Environment Variables](#environment-variables)
 24:   - [Testing Standards](#testing-standards)
 25: 
 26: ## Live URL
 27: 
 28: <https://www.dfweb.no>
 29: 
 30: ## Frontend (Next.js)
 31: 
 32: ![Frontend Image](public/images/frontend.png)
 33: 
 34: ---
 35: 
 36: ## Backend (Sanity headless CMS)
 37: 
 38: ![Backend Image](https://github.com/user-attachments/assets/67099a89-0cda-458a-9fcd-ab09b016ace4)
 39: 
 40: ---
 41: 
 42: ## Google Lighthouse
 43: 
 44: ![image](https://github.com/user-attachments/assets/418aa995-1913-4946-b6f8-5ca8eb9d07a5)
 45: 
 46: ## Features
 47: 
 48: ### General
 49: 
 50: - Clean, modern, responsive and Matrix-inspired design
 51: - The application is 100% typescript (the types are generated from Sanity typegen)
 52: - Matrix canvas rain effect on front page
 53: - Custom 404 page with Matrix rain effect
 54: - Next.js 15 with Typescript and App router
 55:   - Server Components implementation for improved performance
 56:   - Streaming with Suspense boundaries
 57:   - Automatic static optimization with revalidation
 58:   - Server-side data fetching with proper error handling
 59: - React 19
 60: - Sanity headless CMS for all of the content, projects and navigation links
 61: - Ladle for component documentation
 62: - Animations with Motion
 63: - React testing library for unit testing
 64: - Cypress for E2E testing
 65: - Playwright for cross-browser E2E testing
 66: - Contact form with Email.js and CSRF protection
 67: - Polymorphic components
 68: - Automatic sitemap generation (see /api/siteMapGenerator.ts)
 69: - Google rich results for each individual page
 70: - 100% / 100% / 100% / 100% score in Google Lighthouse
 71: - Automated Lighthouse CI testing integrated with GitHub Actions
 72: - React Hook Form with Typescript and Zod for efficient form handling and validation
 73: - Reusable GenericForm component for easy form creation and management
 74: - Error handling with react-error-boundary for improved user experience and
 75:   easier debugging
 76: - AI-friendly repository documentation with automated updates (Repomix with
 77:   Github action workflow)
 78: - Sanity image URL generation with automatic resizing via `@sanity/image-url`.
 79: - Efficient data fetching in `/prosjekter` using Next.js preloading,
 80:   React.cache, and server-only patterns, this achieves a LCP of 0.18s, down with
 81:   around 1 second.
 82: - Recommended:
 83:   [Sanity VS Code Extension](https://marketplace.visualstudio.com/items?itemName=sanity-io.vscode-sanity)
 84:   for enhanced GROQ query development, including syntax highlighting when using
 85:   `defineQuery`.
 86: 
 87: ### Design
 88: 
 89: - Fully responsive design tested on all devices
 90: - React Icons for project icons
 91: - Tailwind 14 for styling
 92: - Animated reusable input fields
 93: - Matrix-inspired animated cursor with dynamic trailing effect with fading
 94:   Matrix characters
 95: - Skeleton loaders with shimmer effects for smooth loading states and improved Lighthouse performance
 96: 
 97: ### Accessibility
 98: 
 99: - WCAG accessibility tested
100: - Accessibility testing with Cypress Axe and Pa11y
101: - Automated Pa11y accessibility testing on every PR and push to main
102:   - Tests all main pages against WCAG2AA standards
103:   - Captures screenshots for visual reference
104:   - Detailed reports available as GitHub Actions artifacts
105: - Builds will fail if any a11y errors are found
106: 
107: ### Devops and Code quality
108: 
109: - Continuous Integration with CircleCI
110: - CircleCI will warn before deploy if tests fail (setup for React testing library)
111: - Github action workflow for Cypress
112: - Code quality analysis with Codacy, Sonarcloud and Codeclimate
113: - E2E testing with Cypress and Playwright integrated with Github actions
114: - Unit testing with Jest and React Testing Library integrated with CircleCI
115: - Test coverage setup with Codecov
116: - 100% test coverage with Jest and React testing library
117: - AI-powered commit message generation following Conventional Commits with
118:   gitmojis
119: - Automated performance monitoring with Lighthouse CI
120:   - Performance, accessibility, best practices, and SEO checks on every PR
121:   - Configurable thresholds for quality metrics
122:   - Both desktop and performance-focused testing
123: - Automated repository documentation with Repomix
124:   - AI-friendly documentation generation on every push to main
125:   - Comprehensive repository context maintained in `DOCS/repository_context.txt`
126:   - Automated PR analysis with repository structure insights
127:   - Security-focused documentation with sensitive information filtering
128:   - Markdown formatting for improved readability
129:   - Automated security vulnerability scanning with Snyk
130:     - Scans for vulnerabilities in open-source dependencies on every PR and push to main
131:     - Integrates with GitHub Security tab for vulnerability tracking
132: 
133: ### Environment Variables
134: 
135: - Type-safe environment variable validation with envalid
136: 
137:   - Runtime validation of required environment variables
138:   - Clear error messages with examples for missing variables
139:   - Separate handling of client-side and server-side variables
140:   - Default values where appropriate
141:   - Required variables:
142: 
143:     ```env
144:     # Email Configuration (client-side)
145:     NEXT_PUBLIC_EMAIL_API_KEY=user_xxx        # EmailJS API key
146:     NEXT_PUBLIC_EMAIL_TEMPLATE_KEY=template_xxx # EmailJS template key
147:     NEXT_PUBLIC_EMAIL_SERVICE_KEY=service_xxx  # EmailJS service key
148: 
149:     # Security Configuration (server-side)
150:     CSRF_SECRET=your-secure-csrf-secret-key   # CSRF protection secret key
151: 
152:     # AI Configuration (server-side)
153:     AI_API_KEY=xxx                            # AI service API key
154:     AI_BASE_URL=https://xxx                   # AI service base URL
155:     MODEL_NAME=claude-3.7-sonnet@anthropic    # Optional, has default value
156:     ```
157: 
158:   - Validation prevents application startup if required variables are missing
159:   - TypeScript integration for type-safe access to environment variables
160: 
161: ### Testing Standards
162: 
163: - ISTQB-aligned comprehensive test strategy
164: 
165:   - Detailed test strategy documentation in `DOCS/TEST_STRATEGY.md`
166:   - Multi-level test approach (Unit, Component, E2E)
167:   - Risk-based testing methodology
168:   - Defined test metrics and reporting
169:   - Clear roles and responsibilities
170:   - Structured defect management process
171: 
172: - Enforced AAA (Arrange-Act-Assert) pattern in all test files
173: 
174:   - Each test must include the following comments:
175: 
176:     ```typescript
177:     // Arrange - Set up test data and conditions
178:     // Act - Perform the action being tested
179:     // Assert - Verify the results
180:     ```
181: 
182:   - This pattern ensures:
183:     - Clear test structure and readability
184:     - Consistent test organization across the codebase
185:     - Easy identification of test setup, execution, and verification
186:   - Simplified test maintenance and debugging
187:   - Automated validation through custom ESLint rules
188:   - Tests will fail if AAA pattern is not followed
````

## File: renovate.json
````json
 1: {
 2:   "extends": ["config:recommended"],
 3:   "ignorePresets": [":prHourlyLimit2", ":prConcurrentLimit20"],
 4:   "packageRules": [
 5:     {
 6:       "rangeStrategy": "bump",
 7:       "matchDepTypes": [
 8:         "dependencies",
 9:         "devDependencies",
10:         "optionalDependencies",
11:         "peerDependencies"
12:       ]
13:     },
14:     {
15:       "matchUpdateTypes": ["minor", "pin", "digest"],
16:       "automerge": true,
17:       "matchDepTypes": [
18:         "dependencies",
19:         "devDependencies",
20:         "optionalDependencies",
21:         "peerDependencies"
22:       ]
23:     },
24:     {
25:       "matchUpdateTypes": ["patch", "lockFileMaintenance"],
26:       "automerge": true,
27:       "automergeType": "branch",
28:       "matchDepTypes": [
29:         "dependencies",
30:         "devDependencies",
31:         "optionalDependencies",
32:         "peerDependencies"
33:       ]
34:     }
35:   ]
36: }
````

## File: repomix.config.json
````json
 1: {
 2:   "output": {
 3:     "filePath": "DOCS/repository_context.txt",
 4:     "style": "markdown",
 5:     "removeEmptyLines": true,
 6:     "fileSummary": true,
 7:     "directoryStructure": true,
 8:     "showLineNumbers": true,
 9:     "topFilesLength": 10,
10:     "includeEmptyDirectories": false,
11:     "headerText": "This file is automatically generated by Repomix to provide AI tools with up-to-date repository context. Last updated by GitHub Actions."
12:   },
13:   "ignore": {
14:     "useGitignore": true,
15:     "useDefaultPatterns": true,
16:     "customPatterns": [
17:       "DOCS/repository_context.txt",
18:       ".env*",
19:       "*.log",
20:       "dist",
21:       "build",
22:       "coverage"
23:     ]
24:   },
25:   "security": {
26:     "enableSecurityCheck": true
27:   },
28:   "tokenCount": {
29:     "encoding": "cl100k_base"
30:   }
31: }
````

## File: sanity.cli.ts
````typescript
1: import { defineCliConfig } from "sanity/cli";
2: export default defineCliConfig({
3:   api: {
4:     projectId: "jgcz3b93",
5:     dataset: "production",
6:   },
7: });
````

## File: tailwind.config.ts
````typescript
  1: import type { Config } from "tailwindcss";
  2: const config: Config = {
  3:   content: [
  4:     "./src/components/**/*.{js,ts,jsx,tsx,mdx}",
  5:     "./src/app/**/*.{js,ts,jsx,tsx,mdx}",
  6:   ],
  7:   theme: {
  8:     extend: {
  9:       backgroundImage: {
 10:         "gradient-radial": "radial-gradient(var(--tw-gradient-stops))",
 11:         "gradient-conic":
 12:           "conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))",
 13:       },
 14:       colors: {
 15:         // New Modern Color Scheme
 16:         primary: "var(--primary)",
 17:         secondary: "var(--secondary)",
 18:         accent: "var(--accent)",
 19:         text: "var(--text)",
 20:         background: "var(--background)",
 21:         // Semantic Colors
 22:         success: "var(--success)",
 23:         error: "var(--error)",
 24:         warning: "var(--warning)",
 25:         info: "var(--info)",
 26:         // Surface Colors
 27:         surface: {
 28:           light: "rgba(255, 255, 255, 0.05)",
 29:           DEFAULT: "rgba(26, 26, 26, 0.8)",
 30:           dark: "rgba(0, 0, 0, 0.8)",
 31:         },
 32:         // Matrix Theme Colors
 33:         matrix: {
 34:           light: "var(--matrix-light)",
 35:           DEFAULT: "var(--matrix)",
 36:           dark: "var(--matrix-dark)",
 37:           glow: "var(--matrix-glow)",
 38:         },
 39:       },
 40:       fontFamily: {
 41:         sans: [
 42:           "Inter",
 43:           "-apple-system",
 44:           "BlinkMacSystemFont",
 45:           "Segoe UI",
 46:           "Roboto",
 47:           "Oxygen",
 48:           "Ubuntu",
 49:           "Cantarell",
 50:           "sans-serif",
 51:         ],
 52:         mono: ["JetBrains Mono", "monospace"],
 53:       },
 54:       boxShadow: {
 55:         glow: "0 0 15px rgba(0, 255, 98, 0.6)",
 56:         "glow-sm": "0 0 10px rgba(0, 255, 98, 0.4)",
 57:         "glow-lg": "0 0 20px rgba(0, 255, 98, 0.8)",
 58:       },
 59:       backdropBlur: {
 60:         xs: "2px",
 61:       },
 62:       animation: {
 63:         "matrix-fade": "matrixFade 2s ease-out",
 64:         "glow-pulse": "glowPulse 2s ease-in-out infinite",
 65:         "matrix-glow": "matrixGlow 2s ease-in-out infinite",
 66:       },
 67:       keyframes: {
 68:         matrixFade: {
 69:           "0%": { opacity: "0", transform: "translateY(-10px)" },
 70:           "100%": { opacity: "1", transform: "translateY(0)" },
 71:         },
 72:         glowPulse: {
 73:           "0%, 100%": { boxShadow: "0 0 15px rgba(0, 255, 98, 0.6)" },
 74:           "50%": { boxShadow: "0 0 25px rgba(0, 255, 98, 0.8)" },
 75:         },
 76:         matrixGlow: {
 77:           "0%, 100%": { filter: "drop-shadow(0 0 5px rgba(0, 255, 98, 0.6))" },
 78:           "50%": { filter: "drop-shadow(0 0 15px rgba(0, 255, 98, 0.8))" },
 79:         },
 80:       },
 81:       typography: {
 82:         DEFAULT: {
 83:           css: {
 84:             color: "var(--text)",
 85:             a: {
 86:               color: "var(--secondary)",
 87:               "&:hover": {
 88:                 color: "var(--accent)",
 89:               },
 90:             },
 91:             h1: {
 92:               color: "var(--accent)",
 93:             },
 94:             h2: {
 95:               color: "var(--secondary)",
 96:             },
 97:           },
 98:         },
 99:       },
100:     },
101:   },
102:   plugins: [],
103: };
104: export default config;
````

## File: tsconfig.json
````json
 1: {
 2:   "compilerOptions": {
 3:     "lib": ["dom", "dom.iterable", "esnext"],
 4:     "allowJs": true,
 5:     "skipLibCheck": true,
 6:     "strict": true,
 7:     "noEmit": true,
 8:     "esModuleInterop": true,
 9:     "module": "esnext",
10:     "moduleResolution": "bundler",
11:     "resolveJsonModule": true,
12:     "isolatedModules": true,
13:     "jsx": "preserve",
14:     "incremental": true,
15:     "plugins": [
16:       {
17:         "name": "next"
18:       }
19:     ],
20:     "paths": {
21:       "@/*": ["./src/*"]
22:     },
23:     "types": ["jest", "@testing-library/jest-dom"],
24:     "target": "ES2022"
25:   },
26:   "include": [
27:     "next-env.d.ts",
28:     "**/*.ts",
29:     "**/*.tsx",
30:     ".next/types/**/*.ts",
31:     "src",
32:     "cypress"
33:   ],
34:   "exclude": ["node_modules"]
35: }
````

## File: .circleci/config.yml
````yaml
 1: version: 2.1
 2: orbs:
 3:   cypress: cypress-io/cypress@4.2.0
 4:   codecov: codecov/codecov@5.4.3
 5:   node: circleci/node@7.1.1
 6: executors:
 7:   with-chrome-and-firefox:
 8:     docker:
 9:       - image: "cypress/browsers:node16.14.2-slim-chrome100-ff99-edge"
10:     resource_class: large
11: jobs:
12:   chromatic-deployment:
13:     docker:
14:       - image: cimg/node:23.11.1
15:     working_directory: ~/chromatic
16:     steps:
17:       - checkout
18:       - restore_cache:
19:           keys:
20:             - pnpm-packages-v1-{{ checksum "pnpm-lock.yaml" }}
21:             - pnpm-packages-cache-v1
22:       - run:
23:           name: Install pnpm package manager
24:           command: |
25:             sudo corepack enable
26:             sudo corepack prepare pnpm@latest-8 --activate
27:       - run:
28:           name: Install Dependencies
29:           command: pnpm install --frozen-lockfile
30:       - run: pnpm run chromatic -- --project-token=${CHROMATIC_PROJECT_TOKEN}
31:       - save_cache:
32:           key: pnpm-packages-v1-{{ checksum "pnpm-lock.yaml" }}
33:           paths:
34:             - ~/.pnpm-store
35:   build:
36:     working_directory: /home/circleci/dfweb
37:     docker:
38:       - image: cimg/node:23.11.1-browsers
39:     steps:
40:       - checkout
41:       - restore_cache:
42:           key: pnpm-cache-v2-{{ checksum "pnpm-lock.yaml" }}
43:       - run:
44:           name: Install pnpm package manager
45:           command: |
46:             sudo corepack enable
47:             sudo corepack prepare pnpm@latest-8 --activate
48:       - run:
49:           name: Install Dependencies
50:           command: pnpm install --no-frozen-lockfile
51:       - run:
52:           name: Chrome key start setup
53:           command: sudo apt update -y
54:       - run:
55:           name: Chrome key finish setup
56:           command: wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
57:       - run:
58:           name: Chrome package download
59:           command: sudo apt install ./google-chrome-stable_current_amd64.deb
60:       - save_cache:
61:           key: pnpm-cache-v2-{{ checksum "pnpm-lock.yaml" }}
62:           paths:
63:             - ~/.pnpm-store
64:       - store_artifacts:
65:           path: /root/.npm/_logs
66:       - run:
67:           name: Run Jest Tests
68:           command: pnpm test
69:       - run:
70:           name: Make sure ~/.gnupg directory exists
71:           command: mkdir -p ~/.gnupg
72:       - codecov/upload
73:     parallelism: 6
74: workflows:
75:   chromatic-deploy:
76:     jobs:
77:       - build:
78:           name: Build Next.js project
````

## File: src/utils/eslint/package.json
````json
 1: {
 2:   "name": "eslint-plugin-test-rules",
 3:   "version": "1.0.0",
 4:   "description": "Custom ESLint rules for testing",
 5:   "main": "dist/index.js",
 6:   "scripts": {
 7:     "build": "tsc",
 8:     "test": "echo \"Error: no test specified\" && exit 1"
 9:   },
10:   "keywords": [
11:     "eslint",
12:     "eslintplugin",
13:     "eslint-plugin"
14:   ],
15:   "author": "",
16:   "license": "ISC",
17:   "peerDependencies": {
18:     "eslint": ">=9.33.0"
19:   },
20:   "devDependencies": {
21:     "typescript": "^5.9.2"
22:   }
23: }
````

## File: studio/package.json
````json
 1: {
 2:   "name": "dfweb-v4",
 3:   "private": true,
 4:   "version": "1.0.3",
 5:   "main": "package.json",
 6:   "scripts": {
 7:     "dev": "sanity dev",
 8:     "start": "sanity start",
 9:     "build": "sanity build",
10:     "deploy": "sanity deploy",
11:     "deploy-graphql": "sanity graphql deploy"
12:   },
13:   "keywords": [
14:     "sanity"
15:   ],
16:   "dependencies": {
17:     "react": "^19.1.1",
18:     "react-dom": "^19.1.1",
19:     "react-icons": "^5.5.0",
20:     "sanity": "^4.4.1",
21:     "styled-components": "^6.1.19"
22:   },
23:   "devDependencies": {
24:     "@sanity/eslint-config-studio": "^5.0.2",
25:     "@types/react": "^19.1.10",
26:     "eslint": "^9.33.0",
27:     "prettier": "^3.6.2",
28:     "typescript": "^5.9.2"
29:   },
30:   "prettier": {
31:     "semi": false,
32:     "printWidth": 100,
33:     "bracketSpacing": false,
34:     "singleQuote": true
35:   }
36: }
````

## File: package.json
````json
 1: {
 2:   "name": "dfweb-v4",
 3:   "version": "1.0.8",
 4:   "private": true,
 5:   "engines": {
 6:     "node": ">=20.16.0"
 7:   },
 8:   "scripts": {
 9:     "dev": "next dev --turbopack",
10:     "lhci": "lhci autorun",
11:     "lhci:perf": "lhci autorun --collect.settings.preset=perf",
12:     "lhci:desktop": "lhci autorun --collect.settings.preset=desktop",
13:     "build": "next build",
14:     "start": "next start",
15:     "lint": "next lint",
16:     "format": "prettier --write \"**/*.{ts,tsx,json}\"",
17:     "test": "jest --coverage --collectCoverageFrom='src/components/**/*.{js,jsx,ts,tsx}' --collectCoverageFrom='!src/components/Animations/Matrix.component.{js,jsx,ts,tsx}'",
18:     "test:watch": "jest --watch",
19:     "cypress:open": "cypress open",
20:     "cypress:headless": "cypress run",
21:     "e2e": "start-test dev 3000 cypress:headless",
22:     "refresh": "pnpm i && rm -rf node_modules && rm pnpm-lock.yaml && pnpm store prune && pnpm i && pnpm format",
23:     "ladle": "ladle serve",
24:     "typegen": "npx sanity typegen generate"
25:   },
26:   "dependencies": {
27:     "@babel/helpers": ">=7.28.3",
28:     "@emailjs/browser": "^4.4.1",
29:     "@hookform/resolvers": "^5.2.1",
30:     "@portabletext/react": "^3.2.1",
31:     "@sanity/client": "^7.8.2",
32:     "@sanity/image-url": "^1.1.0",
33:     "@vercel/speed-insights": "^1.2.0",
34:     "autoprefixer": "^10.4.21",
35:     "babel-jest": "^30.0.5",
36:     "clsx": "^2.1.1",
37:     "cookie": ">=1.0.2",
38:     "envalid": "^8.1.0",
39:     "jest": "^29.7.0",
40:     "motion": "^12.23.12",
41:     "next": "15.4.6",
42:     "next-sanity": "^10.0.10",
43:     "path-to-regexp": "^8.2.0",
44:     "react": "^19.1.1",
45:     "react-dom": "^19.1.1",
46:     "react-error-boundary": "^5.0.0",
47:     "react-hook-form": "^7.62.0",
48:     "react-icons": "^5.5.0",
49:     "sanity": "^4.4.1",
50:     "sitemap": "^8.0.0",
51:     "tar-fs": ">=3.1.0",
52:     "ts-node": "^10.9.2",
53:     "zod": "^4.0.17"
54:   },
55:   "devDependencies": {
56:     "@jest/expect": "^29.7.0",
57:     "@jest/globals": "^29.7.0",
58:     "@ladle/react": "^5.0.3",
59:     "@lhci/cli": "^0.15.1",
60:     "@playwright/test": "^1.54.2",
61:     "@portabletext/types": "^2.0.13",
62:     "@tailwindcss/postcss": "^4.1.12",
63:     "@testing-library/cypress": "^10.0.3",
64:     "@testing-library/jest-dom": "^6.7.0",
65:     "@testing-library/react": "^16.3.0",
66:     "@testing-library/user-event": "^14.6.1",
67:     "@types/jest": "^29.5.14",
68:     "@types/node": "^22.17.1",
69:     "@types/react": "^19.1.10",
70:     "@types/react-dom": "^19.1.7",
71:     "@typescript-eslint/eslint-plugin": "^8.39.1",
72:     "@typescript-eslint/parser": "^8.39.1",
73:     "@typescript-eslint/utils": "^8.39.1",
74:     "axe-core": "^4.10.3",
75:     "cypress": "14.5.4",
76:     "cypress-axe": "^1.6.0",
77:     "eslint": "9.33.0",
78:     "eslint-config-next": "15.4.6",
79:     "eslint-config-prettier": "^10.1.8",
80:     "eslint-plugin-jest": "^29.0.1",
81:     "eslint-plugin-jsx-a11y": "^6.10.2",
82:     "eslint-plugin-prettier": "^5.5.4",
83:     "eslint-plugin-react": "^7.37.5",
84:     "eslint-plugin-react-hooks": "^5.2.0",
85:     "eslint-plugin-test-rules": "file:src/utils/eslint",
86:     "eslint-plugin-testing-library": "^7.6.6",
87:     "expect": "^29.7.0",
88:     "jest-environment-jsdom": "^29.7.0",
89:     "jest-extended": "^6.0.0",
90:     "jsdom-testing-mocks": "^1.15.2",
91:     "postcss": "^8.5.6",
92:     "prettier": "3.6.2",
93:     "tailwindcss": "^4.1.12",
94:     "ts-jest": "^29.4.1",
95:     "typescript": "^5.9.2",
96:     "wait-on": "^8.0.4"
97:   }
98: }
````
